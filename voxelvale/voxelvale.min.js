var a0_0x567640=a0_0x21e0;(function(_0x4aacaf,_0x48687e){var _0xefd6c5=a0_0x21e0,_0x2e5e99=_0x4aacaf();while(!![]){try{var _0x32b3b4=parseInt(_0xefd6c5(0x2b8))/0x1+-parseInt(_0xefd6c5(0x480))/0x2*(parseInt(_0xefd6c5(0x42e))/0x3)+-parseInt(_0xefd6c5(0x251))/0x4*(-parseInt(_0xefd6c5(0x2d9))/0x5)+parseInt(_0xefd6c5(0x4ad))/0x6*(parseInt(_0xefd6c5(0x34d))/0x7)+-parseInt(_0xefd6c5(0x30e))/0x8+parseInt(_0xefd6c5(0x233))/0x9*(parseInt(_0xefd6c5(0x436))/0xa)+parseInt(_0xefd6c5(0x2a9))/0xb*(parseInt(_0xefd6c5(0x3ee))/0xc);if(_0x32b3b4===_0x48687e)break;else _0x2e5e99['push'](_0x2e5e99['shift']());}catch(_0x3d9f83){_0x2e5e99['push'](_0x2e5e99['shift']());}}}(a0_0x3aea,0x950cc));function initShaders(_0x3f1f3c,_0x126fb9,_0x4912e4){var _0xb42690=a0_0x21e0,_0x2ec6d3,_0x575474,_0x534d7a=document[_0xb42690(0x423)](_0x126fb9);if(!_0x534d7a)return alert(_0xb42690(0x39f)+_0x126fb9),-0x1;if(_0x2ec6d3=_0x3f1f3c[_0xb42690(0x3cf)](_0x3f1f3c[_0xb42690(0x368)]),_0x3f1f3c[_0xb42690(0x3bc)](_0x2ec6d3,_0x534d7a[_0xb42690(0x37f)]),_0x3f1f3c['compileShader'](_0x2ec6d3),!_0x3f1f3c[_0xb42690(0x454)](_0x2ec6d3,_0x3f1f3c[_0xb42690(0x1e9)])){var _0x1154ea='Vertex\x20shader\x20failed\x20to\x20compile.\x20\x20The\x20error\x20log\x20is:<pre>'+_0x3f1f3c['getShaderInfoLog'](_0x2ec6d3)+_0xb42690(0x45f);return alert(_0x1154ea),-0x1;}var _0x4740a8=document['getElementById'](_0x4912e4);if(!_0x4740a8)return alert(_0xb42690(0x39f)+_0x4912e4),-0x1;if(_0x575474=_0x3f1f3c[_0xb42690(0x3cf)](_0x3f1f3c[_0xb42690(0x1e1)]),_0x3f1f3c[_0xb42690(0x3bc)](_0x575474,_0x4740a8['text']),_0x3f1f3c[_0xb42690(0x256)](_0x575474),!_0x3f1f3c['getShaderParameter'](_0x575474,_0x3f1f3c[_0xb42690(0x1e9)]))return _0x1154ea=_0xb42690(0x33c)+_0x3f1f3c[_0xb42690(0x445)](_0x575474)+'</pre>',(alert(_0x1154ea),-0x1);var _0x182d59=_0x3f1f3c[_0xb42690(0x2e7)]();if(_0x3f1f3c[_0xb42690(0x373)](_0x182d59,_0x2ec6d3),_0x3f1f3c[_0xb42690(0x373)](_0x182d59,_0x575474),_0x3f1f3c[_0xb42690(0x2a8)](_0x182d59),!_0x3f1f3c[_0xb42690(0x2ec)](_0x182d59,_0x3f1f3c[_0xb42690(0x347)]))return _0x1154ea='Shader\x20program\x20failed\x20to\x20link.\x20\x20The\x20error\x20log\x20is:<pre>'+_0x3f1f3c['getProgramInfoLog'](_0x182d59)+'</pre>',(alert(_0x1154ea),-0x1);return _0x182d59;}function _argumentsToArray(_0x366c18){var _0x8e1c3=a0_0x21e0;return[][_0x8e1c3(0x46a)][_0x8e1c3(0x371)]([],Array[_0x8e1c3(0x1fd)][_0x8e1c3(0x27f)][_0x8e1c3(0x371)](_0x366c18));}function radians(_0x5e9bb4){return _0x5e9bb4*Math['PI']/0xb4;}function vec2(){var _0x32f09e=a0_0x21e0,_0x382281=_argumentsToArray(arguments);switch(_0x382281['length']){case 0x0:_0x382281['push'](0x0);case 0x1:_0x382281[_0x32f09e(0x4b3)](0x0);}return _0x382281['splice'](0x0,0x2);}function vec3(){var _0x38a227=a0_0x21e0,_0x4473d1=_argumentsToArray(arguments);switch(_0x4473d1[_0x38a227(0x240)]){case 0x0:_0x4473d1[_0x38a227(0x4b3)](0x0);case 0x1:_0x4473d1[_0x38a227(0x4b3)](0x0);case 0x2:_0x4473d1[_0x38a227(0x4b3)](0x0);}return _0x4473d1[_0x38a227(0x2a1)](0x0,0x3);}function vec4(){var _0x497ee2=a0_0x21e0,_0x30ddc0=_argumentsToArray(arguments);switch(_0x30ddc0[_0x497ee2(0x240)]){case 0x0:_0x30ddc0['push'](0x0);case 0x1:_0x30ddc0['push'](0x0);case 0x2:_0x30ddc0[_0x497ee2(0x4b3)](0x0);case 0x3:_0x30ddc0[_0x497ee2(0x4b3)](0x1);}return _0x30ddc0[_0x497ee2(0x2a1)](0x0,0x4);}function mat2(){var _0x58da0c=a0_0x21e0,_0x475153=_argumentsToArray(arguments),_0xfcab14=[];switch(_0x475153['length']){case 0x0:_0x475153[0x0]=0x1;case 0x1:_0xfcab14=[vec2(_0x475153[0x0],0x0),vec2(0x0,_0x475153[0x0])];break;default:_0xfcab14[_0x58da0c(0x4b3)](vec2(_0x475153)),_0x475153[_0x58da0c(0x2a1)](0x0,0x2),_0xfcab14['push'](vec2(_0x475153));}return _0xfcab14['matrix']=!0x0,_0xfcab14;}function mat3(){var _0x464f71=a0_0x21e0,_0x1ba3f6=_argumentsToArray(arguments),_0x362a6d=[];switch(_0x1ba3f6[_0x464f71(0x240)]){case 0x0:_0x1ba3f6[0x0]=0x1;case 0x1:_0x362a6d=[vec3(_0x1ba3f6[0x0],0x0,0x0),vec3(0x0,_0x1ba3f6[0x0],0x0),vec3(0x0,0x0,_0x1ba3f6[0x0])];break;default:_0x362a6d[_0x464f71(0x4b3)](vec3(_0x1ba3f6)),_0x1ba3f6['splice'](0x0,0x3),_0x362a6d['push'](vec3(_0x1ba3f6)),_0x1ba3f6[_0x464f71(0x2a1)](0x0,0x3),_0x362a6d['push'](vec3(_0x1ba3f6));}return _0x362a6d[_0x464f71(0x30a)]=!0x0,_0x362a6d;}function mat4(){var _0x5bc56d=a0_0x21e0,_0x1a9389=_argumentsToArray(arguments),_0x3877a7=[];switch(_0x1a9389['length']){case 0x0:_0x1a9389[0x0]=0x1;case 0x1:_0x3877a7=[vec4(_0x1a9389[0x0],0x0,0x0,0x0),vec4(0x0,_0x1a9389[0x0],0x0,0x0),vec4(0x0,0x0,_0x1a9389[0x0],0x0),vec4(0x0,0x0,0x0,_0x1a9389[0x0])];break;default:_0x3877a7[_0x5bc56d(0x4b3)](vec4(_0x1a9389)),_0x1a9389[_0x5bc56d(0x2a1)](0x0,0x4),_0x3877a7[_0x5bc56d(0x4b3)](vec4(_0x1a9389)),_0x1a9389['splice'](0x0,0x4),_0x3877a7['push'](vec4(_0x1a9389)),_0x1a9389[_0x5bc56d(0x2a1)](0x0,0x4),_0x3877a7[_0x5bc56d(0x4b3)](vec4(_0x1a9389));}return _0x3877a7['matrix']=!0x0,_0x3877a7;}function equal(_0x815d22,_0x4901cb){var _0x180380=a0_0x21e0;if(_0x815d22['length']!=_0x4901cb[_0x180380(0x240)])return!0x1;if(_0x815d22[_0x180380(0x30a)]&&_0x4901cb['matrix'])for(var _0x437c73=0x0;_0x437c73<_0x815d22[_0x180380(0x240)];++_0x437c73){if(_0x815d22[_0x437c73][_0x180380(0x240)]!=_0x4901cb[_0x437c73][_0x180380(0x240)])return!0x1;for(var _0x27d792=0x0;_0x27d792<_0x815d22[_0x437c73][_0x180380(0x240)];++_0x27d792)if(_0x815d22[_0x437c73][_0x27d792]!==_0x4901cb[_0x437c73][_0x27d792])return!0x1;}else{if(_0x815d22[_0x180380(0x30a)]&&!_0x4901cb[_0x180380(0x30a)]||!_0x815d22[_0x180380(0x30a)]&&_0x4901cb[_0x180380(0x30a)])return!0x1;for(_0x437c73=0x0;_0x437c73<_0x815d22[_0x180380(0x240)];++_0x437c73)if(_0x815d22[_0x437c73]!==_0x4901cb[_0x437c73])return!0x1;}return!0x0;}function add(_0xfd9ff5,_0x490e18){var _0xacaadf=a0_0x21e0,_0x11eebd=[];if(_0xfd9ff5['matrix']&&_0x490e18[_0xacaadf(0x30a)]){if(_0xfd9ff5[_0xacaadf(0x240)]!=_0x490e18[_0xacaadf(0x240)])throw _0xacaadf(0x41f);for(var _0x49c67b=0x0;_0x49c67b<_0xfd9ff5[_0xacaadf(0x240)];++_0x49c67b){if(_0xfd9ff5[_0x49c67b][_0xacaadf(0x240)]!=_0x490e18[_0x49c67b][_0xacaadf(0x240)])throw _0xacaadf(0x41f);_0x11eebd[_0xacaadf(0x4b3)]([]);for(var _0xfc0a95=0x0;_0xfc0a95<_0xfd9ff5[_0x49c67b][_0xacaadf(0x240)];++_0xfc0a95)_0x11eebd[_0x49c67b][_0xacaadf(0x4b3)](_0xfd9ff5[_0x49c67b][_0xfc0a95]+_0x490e18[_0x49c67b][_0xfc0a95]);}return _0x11eebd['matrix']=!0x0,_0x11eebd;}if(_0xfd9ff5['matrix']&&!_0x490e18[_0xacaadf(0x30a)]||!_0xfd9ff5['matrix']&&_0x490e18[_0xacaadf(0x30a)])throw _0xacaadf(0x32a);if(_0xfd9ff5['length']!=_0x490e18[_0xacaadf(0x240)])throw'add():\x20vectors\x20are\x20not\x20the\x20same\x20dimension';for(_0x49c67b=0x0;_0x49c67b<_0xfd9ff5[_0xacaadf(0x240)];++_0x49c67b)_0x11eebd['push'](_0xfd9ff5[_0x49c67b]+_0x490e18[_0x49c67b]);return _0x11eebd;}function subtract(_0x47826b,_0x2f1484){var _0x34ff6c=a0_0x21e0,_0x2960f6=[];if(_0x47826b[_0x34ff6c(0x30a)]&&_0x2f1484[_0x34ff6c(0x30a)]){if(_0x47826b[_0x34ff6c(0x240)]!=_0x2f1484[_0x34ff6c(0x240)])throw _0x34ff6c(0x1f8);for(var _0x304324=0x0;_0x304324<_0x47826b[_0x34ff6c(0x240)];++_0x304324){if(_0x47826b[_0x304324]['length']!=_0x2f1484[_0x304324][_0x34ff6c(0x240)])throw _0x34ff6c(0x4d9);_0x2960f6[_0x34ff6c(0x4b3)]([]);for(var _0x105de6=0x0;_0x105de6<_0x47826b[_0x304324][_0x34ff6c(0x240)];++_0x105de6)_0x2960f6[_0x304324][_0x34ff6c(0x4b3)](_0x47826b[_0x304324][_0x105de6]-_0x2f1484[_0x304324][_0x105de6]);}return _0x2960f6[_0x34ff6c(0x30a)]=!0x0,_0x2960f6;}if(_0x47826b[_0x34ff6c(0x30a)]&&!_0x2f1484[_0x34ff6c(0x30a)]||!_0x47826b[_0x34ff6c(0x30a)]&&_0x2f1484[_0x34ff6c(0x30a)])throw _0x34ff6c(0x465);if(_0x47826b[_0x34ff6c(0x240)]!=_0x2f1484['length'])throw _0x34ff6c(0x301);for(_0x304324=0x0;_0x304324<_0x47826b['length'];++_0x304324)_0x2960f6[_0x34ff6c(0x4b3)](_0x47826b[_0x304324]-_0x2f1484[_0x304324]);return _0x2960f6;}function mult(_0x1e6a37,_0x308b2c){var _0x2f2118=a0_0x21e0,_0x2cc146=[];if(_0x1e6a37[_0x2f2118(0x30a)]&&_0x308b2c[_0x2f2118(0x30a)]){if(_0x1e6a37[_0x2f2118(0x240)]!=_0x308b2c[_0x2f2118(0x240)])throw _0x2f2118(0x3d6);for(var _0x2a0877=0x0;_0x2a0877<_0x1e6a37[_0x2f2118(0x240)];++_0x2a0877)if(_0x1e6a37[_0x2a0877][_0x2f2118(0x240)]!=_0x308b2c[_0x2a0877][_0x2f2118(0x240)])throw _0x2f2118(0x3d6);for(_0x2a0877=0x0;_0x2a0877<_0x1e6a37[_0x2f2118(0x240)];++_0x2a0877){_0x2cc146[_0x2f2118(0x4b3)]([]);for(var _0x8263a8=0x0;_0x8263a8<_0x308b2c[_0x2f2118(0x240)];++_0x8263a8){for(var _0x16a0f4=0x0,_0x3d7bed=0x0;_0x3d7bed<_0x1e6a37[_0x2f2118(0x240)];++_0x3d7bed)_0x16a0f4+=_0x1e6a37[_0x2a0877][_0x3d7bed]*_0x308b2c[_0x3d7bed][_0x8263a8];_0x2cc146[_0x2a0877][_0x2f2118(0x4b3)](_0x16a0f4);}}return _0x2cc146['matrix']=!0x0,_0x2cc146;}if(_0x1e6a37[_0x2f2118(0x30a)]&&_0x1e6a37[_0x2f2118(0x240)]==_0x308b2c[_0x2f2118(0x240)]){for(_0x2a0877=0x0;_0x2a0877<_0x308b2c[_0x2f2118(0x240)];_0x2a0877++){for(_0x16a0f4=0x0,_0x8263a8=0x0;_0x8263a8<_0x308b2c[_0x2f2118(0x240)];_0x8263a8++)_0x16a0f4+=_0x1e6a37[_0x2a0877][_0x8263a8]*_0x308b2c[_0x8263a8];_0x2cc146[_0x2f2118(0x4b3)](_0x16a0f4);}return _0x2cc146;}if(_0x1e6a37[_0x2f2118(0x240)]!=_0x308b2c[_0x2f2118(0x240)])throw _0x2f2118(0x37a);for(_0x2a0877=0x0;_0x2a0877<_0x1e6a37[_0x2f2118(0x240)];++_0x2a0877)_0x2cc146[_0x2f2118(0x4b3)](_0x1e6a37[_0x2a0877]*_0x308b2c[_0x2a0877]);return _0x2cc146;}function translate(_0x5e3fbf,_0x20166c,_0x4b85b8){var _0x163508=a0_0x21e0;Array[_0x163508(0x4bd)](_0x5e3fbf)&&0x3==_0x5e3fbf[_0x163508(0x240)]&&(_0x4b85b8=_0x5e3fbf[0x2],_0x20166c=_0x5e3fbf[0x1],_0x5e3fbf=_0x5e3fbf[0x0]);var _0x181b0f=mat4();return _0x181b0f[0x0][0x3]=_0x5e3fbf,_0x181b0f[0x1][0x3]=_0x20166c,_0x181b0f[0x2][0x3]=_0x4b85b8,_0x181b0f;}function rotate(_0x336bfb,_0x2cab1c){var _0x24b000=a0_0x21e0;Array[_0x24b000(0x4bd)](_0x2cab1c)||(_0x2cab1c=[arguments[0x1],arguments[0x2],arguments[0x3]]);var _0x3b3b06=normalize(_0x2cab1c),_0x430702=_0x3b3b06[0x0],_0x4f6cf0=_0x3b3b06[0x1],_0x58c3b4=_0x3b3b06[0x2],_0x57f957=Math['cos'](radians(_0x336bfb)),_0x36f76d=0x1-_0x57f957,_0x28d58c=Math[_0x24b000(0x211)](radians(_0x336bfb));return mat4(vec4(_0x430702*_0x430702*_0x36f76d+_0x57f957,_0x430702*_0x4f6cf0*_0x36f76d-_0x58c3b4*_0x28d58c,_0x430702*_0x58c3b4*_0x36f76d+_0x4f6cf0*_0x28d58c,0x0),vec4(_0x430702*_0x4f6cf0*_0x36f76d+_0x58c3b4*_0x28d58c,_0x4f6cf0*_0x4f6cf0*_0x36f76d+_0x57f957,_0x4f6cf0*_0x58c3b4*_0x36f76d-_0x430702*_0x28d58c,0x0),vec4(_0x430702*_0x58c3b4*_0x36f76d-_0x4f6cf0*_0x28d58c,_0x4f6cf0*_0x58c3b4*_0x36f76d+_0x430702*_0x28d58c,_0x58c3b4*_0x58c3b4*_0x36f76d+_0x57f957,0x0),vec4());}function rotateX(_0x23f636){var _0x217033=a0_0x21e0,_0x37cd64=Math[_0x217033(0x47f)](radians(_0x23f636)),_0x33f845=Math[_0x217033(0x211)](radians(_0x23f636));return mat4(0x1,0x0,0x0,0x0,0x0,_0x37cd64,-_0x33f845,0x0,0x0,_0x33f845,_0x37cd64,0x0,0x0,0x0,0x0,0x1);}function rotateY(_0x25e376){var _0x160803=a0_0x21e0,_0x11ebe4=Math[_0x160803(0x47f)](radians(_0x25e376)),_0x3198d9=Math[_0x160803(0x211)](radians(_0x25e376));return mat4(_0x11ebe4,0x0,_0x3198d9,0x0,0x0,0x1,0x0,0x0,-_0x3198d9,0x0,_0x11ebe4,0x0,0x0,0x0,0x0,0x1);}function rotateZ(_0x1f5299){var _0x154738=a0_0x21e0,_0x2c0bae=Math[_0x154738(0x47f)](radians(_0x1f5299)),_0x2aa171=Math[_0x154738(0x211)](radians(_0x1f5299));return mat4(_0x2c0bae,-_0x2aa171,0x0,0x0,_0x2aa171,_0x2c0bae,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x0,0x1);}function scalem(_0x1ebf61,_0x452ade,_0x4f721b){var _0xfd7295=a0_0x21e0;Array['isArray'](_0x1ebf61)&&0x3==_0x1ebf61[_0xfd7295(0x240)]&&(_0x4f721b=_0x1ebf61[0x2],_0x452ade=_0x1ebf61[0x1],_0x1ebf61=_0x1ebf61[0x0]);var _0x4d4693=mat4();return _0x4d4693[0x0][0x0]=_0x1ebf61,_0x4d4693[0x1][0x1]=_0x452ade,_0x4d4693[0x2][0x2]=_0x4f721b,_0x4d4693;}function lookAt(_0x29a773,_0x33e794,_0x4aabf1){var _0x5d0c67=a0_0x21e0;if(!Array[_0x5d0c67(0x4bd)](_0x29a773)||0x3!=_0x29a773['length'])throw _0x5d0c67(0x3b4);if(!Array['isArray'](_0x33e794)||0x3!=_0x33e794[_0x5d0c67(0x240)])throw'lookAt():\x20first\x20parameter\x20[at]\x20must\x20be\x20an\x20a\x20vec3';if(!Array['isArray'](_0x4aabf1)||0x3!=_0x4aabf1[_0x5d0c67(0x240)])throw _0x5d0c67(0x323);if(equal(_0x29a773,_0x33e794))return mat4();var _0x21b489=normalize(subtract(_0x33e794,_0x29a773)),_0x25af2b=normalize(cross(_0x21b489,_0x4aabf1)),_0x57a9bb=normalize(cross(_0x25af2b,_0x21b489));return _0x21b489=negate(_0x21b489),mat4(vec4(_0x25af2b,-dot(_0x25af2b,_0x29a773)),vec4(_0x57a9bb,-dot(_0x57a9bb,_0x29a773)),vec4(_0x21b489,-dot(_0x21b489,_0x29a773)),vec4());}function ortho(_0x2d91db,_0x340578,_0xc3dfdb,_0x1f6ef2,_0x42acdf,_0xf40d2d){var _0x207262=a0_0x21e0;if(_0x2d91db==_0x340578)throw _0x207262(0x297);if(_0xc3dfdb==_0x1f6ef2)throw _0x207262(0x390);if(_0x42acdf==_0xf40d2d)throw _0x207262(0x238);var _0x2dff89=_0x340578-_0x2d91db,_0xb92db9=_0x1f6ef2-_0xc3dfdb,_0x458a8d=_0xf40d2d-_0x42acdf,_0x4295f9=mat4();return _0x4295f9[0x0][0x0]=0x2/_0x2dff89,_0x4295f9[0x1][0x1]=0x2/_0xb92db9,_0x4295f9[0x2][0x2]=-0x2/_0x458a8d,_0x4295f9[0x0][0x3]=-(_0x2d91db+_0x340578)/_0x2dff89,_0x4295f9[0x1][0x3]=-(_0x1f6ef2+_0xc3dfdb)/_0xb92db9,_0x4295f9[0x2][0x3]=-(_0x42acdf+_0xf40d2d)/_0x458a8d,_0x4295f9;}function perspective(_0x586ebc,_0x38d119,_0x4392a8,_0x247796){var _0x4a62a2=a0_0x21e0,_0x1ca17e=0x1/Math[_0x4a62a2(0x31d)](radians(_0x586ebc)/0x2),_0xf90c45=_0x247796-_0x4392a8,_0x3d14cc=mat4();return _0x3d14cc[0x0][0x0]=_0x1ca17e/_0x38d119,_0x3d14cc[0x1][0x1]=_0x1ca17e,_0x3d14cc[0x2][0x2]=-(_0x4392a8+_0x247796)/_0xf90c45,_0x3d14cc[0x2][0x3]=-0x2*_0x4392a8*_0x247796/_0xf90c45,_0x3d14cc[0x3][0x2]=-0x1,_0x3d14cc[0x3][0x3]=0x0,_0x3d14cc;}function transpose(_0x47074d){var _0x15bda0=a0_0x21e0;if(!_0x47074d[_0x15bda0(0x30a)])return _0x15bda0(0x3e9);for(var _0x530821=[],_0x3ed1a0=0x0;_0x3ed1a0<_0x47074d[_0x15bda0(0x240)];++_0x3ed1a0){_0x530821[_0x15bda0(0x4b3)]([]);for(var _0x2fd403=0x0;_0x2fd403<_0x47074d[_0x3ed1a0][_0x15bda0(0x240)];++_0x2fd403)_0x530821[_0x3ed1a0][_0x15bda0(0x4b3)](_0x47074d[_0x2fd403][_0x3ed1a0]);}return _0x530821['matrix']=!0x0,_0x530821;}function dot(_0x1b0297,_0x477ef9){var _0x2b1f17=a0_0x21e0;if(_0x1b0297[_0x2b1f17(0x240)]!=_0x477ef9['length'])throw'dot():\x20vectors\x20are\x20not\x20the\x20same\x20dimension';for(var _0x2116c0=0x0,_0x299fda=0x0;_0x299fda<_0x1b0297[_0x2b1f17(0x240)];++_0x299fda)_0x2116c0+=_0x1b0297[_0x299fda]*_0x477ef9[_0x299fda];return _0x2116c0;}function negate(_0xad211d){for(var _0x52731c=[],_0x32be25=0x0;_0x32be25<_0xad211d['length'];++_0x32be25)_0x52731c['push'](-_0xad211d[_0x32be25]);return _0x52731c;}function cross(_0x479d13,_0x4ea4fe){var _0x202e3e=a0_0x21e0;if(!Array[_0x202e3e(0x4bd)](_0x479d13)||_0x479d13[_0x202e3e(0x240)]<0x3)throw _0x202e3e(0x41d);if(!Array[_0x202e3e(0x4bd)](_0x4ea4fe)||_0x4ea4fe[_0x202e3e(0x240)]<0x3)throw _0x202e3e(0x304);return[_0x479d13[0x1]*_0x4ea4fe[0x2]-_0x479d13[0x2]*_0x4ea4fe[0x1],_0x479d13[0x2]*_0x4ea4fe[0x0]-_0x479d13[0x0]*_0x4ea4fe[0x2],_0x479d13[0x0]*_0x4ea4fe[0x1]-_0x479d13[0x1]*_0x4ea4fe[0x0]];}function length(_0x3f9991){var _0x12a555=a0_0x21e0;return Math[_0x12a555(0x45a)](dot(_0x3f9991,_0x3f9991));}function normalize(_0x26c3d9,_0x1f33a3){var _0x31995b=a0_0x21e0;if(_0x1f33a3)var _0x29dd09=_0x26c3d9['pop']();var _0x3031ef=length(_0x26c3d9);if(!isFinite(_0x3031ef))throw _0x31995b(0x483)+_0x26c3d9+_0x31995b(0x3dc);for(var _0x518a3e=0x0;_0x518a3e<_0x26c3d9[_0x31995b(0x240)];++_0x518a3e)_0x26c3d9[_0x518a3e]/=_0x3031ef;return _0x1f33a3&&_0x26c3d9[_0x31995b(0x4b3)](_0x29dd09),_0x26c3d9;}function mix(_0x5e4dcf,_0x2bb1fd,_0x555c04){var _0x4a372a=a0_0x21e0;if('number'!=typeof _0x555c04)throw'mix:\x20the\x20last\x20paramter\x20'+_0x555c04+_0x4a372a(0x206);if(_0x5e4dcf[_0x4a372a(0x240)]!=_0x2bb1fd['length'])throw'vector\x20dimension\x20mismatch';for(var _0x448488=[],_0x39ed8a=0x0;_0x39ed8a<_0x5e4dcf['length'];++_0x39ed8a)_0x448488['push']((0x1-_0x555c04)*_0x5e4dcf[_0x39ed8a]+_0x555c04*_0x2bb1fd[_0x39ed8a]);return _0x448488;}function scale(_0x3205e1,_0x23a436){var _0x4aec35=a0_0x21e0;if(!Array[_0x4aec35(0x4bd)](_0x23a436))throw _0x4aec35(0x1e7)+_0x23a436+_0x4aec35(0x4a8);for(var _0x2ff14f=[],_0x1c2aaa=0x0;_0x1c2aaa<_0x23a436[_0x4aec35(0x240)];++_0x1c2aaa)_0x2ff14f['push'](_0x3205e1*_0x23a436[_0x1c2aaa]);return _0x2ff14f;}function flatten(_0x6b621d){var _0x1539f3=a0_0x21e0;!0x0===_0x6b621d[_0x1539f3(0x30a)]&&(_0x6b621d=transpose(_0x6b621d));var _0x102488=_0x6b621d['length'],_0x3d88f2=!0x1;Array['isArray'](_0x6b621d[0x0])&&(_0x3d88f2=!0x0,_0x102488*=_0x6b621d[0x0][_0x1539f3(0x240)]);var _0x2e1603=new Float32Array(_0x102488);if(_0x3d88f2){for(var _0x1730e4=0x0,_0x3c1d65=0x0;_0x3c1d65<_0x6b621d[_0x1539f3(0x240)];++_0x3c1d65)for(var _0x4cbd13=0x0;_0x4cbd13<_0x6b621d[_0x3c1d65][_0x1539f3(0x240)];++_0x4cbd13)_0x2e1603[_0x1730e4++]=_0x6b621d[_0x3c1d65][_0x4cbd13];}else{for(_0x3c1d65=0x0;_0x3c1d65<_0x6b621d[_0x1539f3(0x240)];++_0x3c1d65)_0x2e1603[_0x3c1d65]=_0x6b621d[_0x3c1d65];}return _0x2e1603;}WebGLUtils=(function(){var _0x6ccc25=function(_0x21b7d9,_0x47e03f){var _0x209821=a0_0x21e0;for(var _0x13bb79=[_0x209821(0x434),_0x209821(0x412),_0x209821(0x440),_0x209821(0x1f2)],_0x316a4f=null,_0x14b51a=0x0;_0x14b51a<_0x13bb79[_0x209821(0x240)];++_0x14b51a){try{_0x316a4f=_0x21b7d9[_0x209821(0x43d)](_0x13bb79[_0x14b51a],_0x47e03f);}catch(_0x4723e4){}if(_0x316a4f)break;}return _0x316a4f;};return{'create3DContext':_0x6ccc25,'setupWebGL':function(_0x4f0c28,_0x2416c8){var _0x3c9974=a0_0x21e0;function _0x948291(_0x970207){var _0x11a6da=a0_0x21e0,_0x4f6f0e=_0x4f0c28[_0x11a6da(0x237)];_0x4f6f0e&&(_0x4f6f0e['innerHTML']=_0x11a6da(0x466)+_0x970207+_0x11a6da(0x2e4));}if(!window[_0x3c9974(0x350)])return _0x948291(_0x3c9974(0x463)),null;var _0x1f60e9=_0x6ccc25(_0x4f0c28,_0x2416c8);return _0x1f60e9||_0x948291(_0x3c9974(0x419)),_0x1f60e9;}};}()),window['requestAnimFrame']=window[a0_0x567640(0x3cb)]||window[a0_0x567640(0x348)]||window[a0_0x567640(0x330)]||window['oRequestAnimationFrame']||window[a0_0x567640(0x31a)]||function(_0x3dec53,_0x488540){var _0x3d62e6=a0_0x567640;window[_0x3d62e6(0x3fd)](_0x3dec53,0x3e8/0x3c);};var sizeof={'vec2':new Float32Array(flatten(vec2()))[a0_0x567640(0x277)],'vec3':new Float32Array(flatten(vec3()))['byteLength'],'vec4':new Float32Array(flatten(vec4()))[a0_0x567640(0x277)],'mat2':new Float32Array(flatten(mat2()))[a0_0x567640(0x277)],'mat3':new Float32Array(flatten(mat3()))['byteLength'],'mat4':new Float32Array(flatten(mat4()))['byteLength']};function printm(_0x2ffbac){var _0x2c4f00=a0_0x567640;if(0x2==_0x2ffbac[_0x2c4f00(0x240)]){for(var _0x49940a=0x0;_0x49940a<_0x2ffbac[_0x2c4f00(0x240)];_0x49940a++)console['log'](_0x2ffbac[_0x49940a][0x0],_0x2ffbac[_0x49940a][0x1]);}else{if(0x3==_0x2ffbac[_0x2c4f00(0x240)]){for(_0x49940a=0x0;_0x49940a<_0x2ffbac[_0x2c4f00(0x240)];_0x49940a++)console[_0x2c4f00(0x3d0)](_0x2ffbac[_0x49940a][0x0],_0x2ffbac[_0x49940a][0x1],_0x2ffbac[_0x49940a][0x2]);}else{if(0x4==_0x2ffbac[_0x2c4f00(0x240)]){for(_0x49940a=0x0;_0x49940a<_0x2ffbac['length'];_0x49940a++)console[_0x2c4f00(0x3d0)](_0x2ffbac[_0x49940a][0x0],_0x2ffbac[_0x49940a][0x1],_0x2ffbac[_0x49940a][0x2],_0x2ffbac[_0x49940a][0x3]);}}}}function det2(_0x483225){return _0x483225[0x0][0x0]*_0x483225[0x1][0x1]-_0x483225[0x0][0x1]*_0x483225[0x1][0x0];}function det3(_0x396873){return _0x396873[0x0][0x0]*_0x396873[0x1][0x1]*_0x396873[0x2][0x2]+_0x396873[0x0][0x1]*_0x396873[0x1][0x2]*_0x396873[0x2][0x0]+_0x396873[0x0][0x2]*_0x396873[0x2][0x1]*_0x396873[0x1][0x0]-_0x396873[0x2][0x0]*_0x396873[0x1][0x1]*_0x396873[0x0][0x2]-_0x396873[0x1][0x0]*_0x396873[0x0][0x1]*_0x396873[0x2][0x2]-_0x396873[0x0][0x0]*_0x396873[0x1][0x2]*_0x396873[0x2][0x1];}function det4(_0x4e5eb8){var _0x4ff8c4=[vec3(_0x4e5eb8[0x1][0x1],_0x4e5eb8[0x1][0x2],_0x4e5eb8[0x1][0x3]),vec3(_0x4e5eb8[0x2][0x1],_0x4e5eb8[0x2][0x2],_0x4e5eb8[0x2][0x3]),vec3(_0x4e5eb8[0x3][0x1],_0x4e5eb8[0x3][0x2],_0x4e5eb8[0x3][0x3])],_0x4d74ba=[vec3(_0x4e5eb8[0x1][0x0],_0x4e5eb8[0x1][0x2],_0x4e5eb8[0x1][0x3]),vec3(_0x4e5eb8[0x2][0x0],_0x4e5eb8[0x2][0x2],_0x4e5eb8[0x2][0x3]),vec3(_0x4e5eb8[0x3][0x0],_0x4e5eb8[0x3][0x2],_0x4e5eb8[0x3][0x3])],_0x3025cf=[vec3(_0x4e5eb8[0x1][0x0],_0x4e5eb8[0x1][0x1],_0x4e5eb8[0x1][0x3]),vec3(_0x4e5eb8[0x2][0x0],_0x4e5eb8[0x2][0x1],_0x4e5eb8[0x2][0x3]),vec3(_0x4e5eb8[0x3][0x0],_0x4e5eb8[0x3][0x1],_0x4e5eb8[0x3][0x3])],_0x3a167c=[vec3(_0x4e5eb8[0x1][0x0],_0x4e5eb8[0x1][0x1],_0x4e5eb8[0x1][0x2]),vec3(_0x4e5eb8[0x2][0x0],_0x4e5eb8[0x2][0x1],_0x4e5eb8[0x2][0x2]),vec3(_0x4e5eb8[0x3][0x0],_0x4e5eb8[0x3][0x1],_0x4e5eb8[0x3][0x2])];return _0x4e5eb8[0x0][0x0]*det3(_0x4ff8c4)-_0x4e5eb8[0x0][0x1]*det3(_0x4d74ba)+_0x4e5eb8[0x0][0x2]*det3(_0x3025cf)-_0x4e5eb8[0x0][0x3]*det3(_0x3a167c);}function det(_0x2308fb){var _0x2b8356=a0_0x567640;return 0x1!=_0x2308fb[_0x2b8356(0x30a)]&&console[_0x2b8356(0x3d0)](_0x2b8356(0x37b)),0x2==_0x2308fb[_0x2b8356(0x240)]?det2(_0x2308fb):0x3==_0x2308fb[_0x2b8356(0x240)]?det3(_0x2308fb):0x4==_0x2308fb[_0x2b8356(0x240)]?det4(_0x2308fb):void 0x0;}function inverse2(_0x38ed17){var _0x49cfd0=a0_0x567640,_0x3f1821=mat2(),_0x3fc50f=det2(_0x38ed17);return _0x3f1821[0x0][0x0]=_0x38ed17[0x1][0x1]/_0x3fc50f,_0x3f1821[0x0][0x1]=-_0x38ed17[0x0][0x1]/_0x3fc50f,_0x3f1821[0x1][0x0]=-_0x38ed17[0x1][0x0]/_0x3fc50f,_0x3f1821[0x1][0x1]=_0x38ed17[0x0][0x0]/_0x3fc50f,_0x3f1821[_0x49cfd0(0x30a)]=!0x0,_0x3f1821;}function inverse3(_0x29819e){var _0x59a909=mat3(),_0x38f548=det3(_0x29819e),_0x20ccd2=[vec2(_0x29819e[0x1][0x1],_0x29819e[0x1][0x2]),vec2(_0x29819e[0x2][0x1],_0x29819e[0x2][0x2])],_0x447d3b=[vec2(_0x29819e[0x1][0x0],_0x29819e[0x1][0x2]),vec2(_0x29819e[0x2][0x0],_0x29819e[0x2][0x2])],_0x3c2a8e=[vec2(_0x29819e[0x1][0x0],_0x29819e[0x1][0x1]),vec2(_0x29819e[0x2][0x0],_0x29819e[0x2][0x1])],_0x68a03d=[vec2(_0x29819e[0x0][0x1],_0x29819e[0x0][0x2]),vec2(_0x29819e[0x2][0x1],_0x29819e[0x2][0x2])],_0x3f0237=[vec2(_0x29819e[0x0][0x0],_0x29819e[0x0][0x2]),vec2(_0x29819e[0x2][0x0],_0x29819e[0x2][0x2])],_0xa942c=[vec2(_0x29819e[0x0][0x0],_0x29819e[0x0][0x1]),vec2(_0x29819e[0x2][0x0],_0x29819e[0x2][0x1])],_0x102a4a=[vec2(_0x29819e[0x0][0x1],_0x29819e[0x0][0x2]),vec2(_0x29819e[0x1][0x1],_0x29819e[0x1][0x2])],_0x1cf781=[vec2(_0x29819e[0x0][0x0],_0x29819e[0x0][0x2]),vec2(_0x29819e[0x1][0x0],_0x29819e[0x1][0x2])],_0x1b64b0=[vec2(_0x29819e[0x0][0x0],_0x29819e[0x0][0x1]),vec2(_0x29819e[0x1][0x0],_0x29819e[0x1][0x1])];return _0x59a909[0x0][0x0]=det2(_0x20ccd2)/_0x38f548,_0x59a909[0x0][0x1]=-det2(_0x68a03d)/_0x38f548,_0x59a909[0x0][0x2]=det2(_0x102a4a)/_0x38f548,_0x59a909[0x1][0x0]=-det2(_0x447d3b)/_0x38f548,_0x59a909[0x1][0x1]=det2(_0x3f0237)/_0x38f548,_0x59a909[0x1][0x2]=-det2(_0x1cf781)/_0x38f548,_0x59a909[0x2][0x0]=det2(_0x3c2a8e)/_0x38f548,_0x59a909[0x2][0x1]=-det2(_0xa942c)/_0x38f548,_0x59a909[0x2][0x2]=det2(_0x1b64b0)/_0x38f548,_0x59a909;}function inverse4(_0x3cf749){var _0x414e18=mat4(),_0x5518bd=det4(_0x3cf749),_0xb8244d=[vec3(_0x3cf749[0x1][0x1],_0x3cf749[0x1][0x2],_0x3cf749[0x1][0x3]),vec3(_0x3cf749[0x2][0x1],_0x3cf749[0x2][0x2],_0x3cf749[0x2][0x3]),vec3(_0x3cf749[0x3][0x1],_0x3cf749[0x3][0x2],_0x3cf749[0x3][0x3])],_0x574e0e=[vec3(_0x3cf749[0x1][0x0],_0x3cf749[0x1][0x2],_0x3cf749[0x1][0x3]),vec3(_0x3cf749[0x2][0x0],_0x3cf749[0x2][0x2],_0x3cf749[0x2][0x3]),vec3(_0x3cf749[0x3][0x0],_0x3cf749[0x3][0x2],_0x3cf749[0x3][0x3])],_0x1bc361=[vec3(_0x3cf749[0x1][0x0],_0x3cf749[0x1][0x1],_0x3cf749[0x1][0x3]),vec3(_0x3cf749[0x2][0x0],_0x3cf749[0x2][0x1],_0x3cf749[0x2][0x3]),vec3(_0x3cf749[0x3][0x0],_0x3cf749[0x3][0x1],_0x3cf749[0x3][0x3])],_0x9630e7=[vec3(_0x3cf749[0x1][0x0],_0x3cf749[0x1][0x1],_0x3cf749[0x1][0x2]),vec3(_0x3cf749[0x2][0x0],_0x3cf749[0x2][0x1],_0x3cf749[0x2][0x2]),vec3(_0x3cf749[0x3][0x0],_0x3cf749[0x3][0x1],_0x3cf749[0x3][0x2])],_0x249352=[vec3(_0x3cf749[0x0][0x1],_0x3cf749[0x0][0x2],_0x3cf749[0x0][0x3]),vec3(_0x3cf749[0x2][0x1],_0x3cf749[0x2][0x2],_0x3cf749[0x2][0x3]),vec3(_0x3cf749[0x3][0x1],_0x3cf749[0x3][0x2],_0x3cf749[0x3][0x3])],_0x2663cd=[vec3(_0x3cf749[0x0][0x0],_0x3cf749[0x0][0x2],_0x3cf749[0x0][0x3]),vec3(_0x3cf749[0x2][0x0],_0x3cf749[0x2][0x2],_0x3cf749[0x2][0x3]),vec3(_0x3cf749[0x3][0x0],_0x3cf749[0x3][0x2],_0x3cf749[0x3][0x3])],_0x1143e6=[vec3(_0x3cf749[0x0][0x0],_0x3cf749[0x0][0x1],_0x3cf749[0x0][0x3]),vec3(_0x3cf749[0x2][0x0],_0x3cf749[0x2][0x1],_0x3cf749[0x2][0x3]),vec3(_0x3cf749[0x3][0x0],_0x3cf749[0x3][0x1],_0x3cf749[0x3][0x3])],_0x412795=[vec3(_0x3cf749[0x0][0x0],_0x3cf749[0x0][0x1],_0x3cf749[0x0][0x2]),vec3(_0x3cf749[0x2][0x0],_0x3cf749[0x2][0x1],_0x3cf749[0x2][0x2]),vec3(_0x3cf749[0x3][0x0],_0x3cf749[0x3][0x1],_0x3cf749[0x3][0x2])],_0x4e907f=[vec3(_0x3cf749[0x0][0x1],_0x3cf749[0x0][0x2],_0x3cf749[0x0][0x3]),vec3(_0x3cf749[0x1][0x1],_0x3cf749[0x1][0x2],_0x3cf749[0x1][0x3]),vec3(_0x3cf749[0x3][0x1],_0x3cf749[0x3][0x2],_0x3cf749[0x3][0x3])],_0x343b5f=[vec3(_0x3cf749[0x0][0x0],_0x3cf749[0x0][0x2],_0x3cf749[0x0][0x3]),vec3(_0x3cf749[0x1][0x0],_0x3cf749[0x1][0x2],_0x3cf749[0x1][0x3]),vec3(_0x3cf749[0x3][0x0],_0x3cf749[0x3][0x2],_0x3cf749[0x3][0x3])],_0x1d9aaa=[vec3(_0x3cf749[0x0][0x0],_0x3cf749[0x0][0x1],_0x3cf749[0x0][0x3]),vec3(_0x3cf749[0x1][0x0],_0x3cf749[0x1][0x1],_0x3cf749[0x1][0x3]),vec3(_0x3cf749[0x3][0x0],_0x3cf749[0x3][0x1],_0x3cf749[0x3][0x3])],_0x137779=[vec3(_0x3cf749[0x0][0x0],_0x3cf749[0x0][0x1],_0x3cf749[0x0][0x2]),vec3(_0x3cf749[0x1][0x0],_0x3cf749[0x1][0x1],_0x3cf749[0x1][0x2]),vec3(_0x3cf749[0x3][0x0],_0x3cf749[0x3][0x1],_0x3cf749[0x3][0x2])],_0x245633=[vec3(_0x3cf749[0x0][0x1],_0x3cf749[0x0][0x2],_0x3cf749[0x0][0x3]),vec3(_0x3cf749[0x1][0x1],_0x3cf749[0x1][0x2],_0x3cf749[0x1][0x3]),vec3(_0x3cf749[0x2][0x1],_0x3cf749[0x2][0x2],_0x3cf749[0x2][0x3])],_0x250c59=[vec3(_0x3cf749[0x0][0x0],_0x3cf749[0x0][0x2],_0x3cf749[0x0][0x3]),vec3(_0x3cf749[0x1][0x0],_0x3cf749[0x1][0x2],_0x3cf749[0x1][0x3]),vec3(_0x3cf749[0x2][0x0],_0x3cf749[0x2][0x2],_0x3cf749[0x2][0x3])],_0x4502ed=[vec3(_0x3cf749[0x0][0x0],_0x3cf749[0x0][0x1],_0x3cf749[0x0][0x3]),vec3(_0x3cf749[0x1][0x0],_0x3cf749[0x1][0x1],_0x3cf749[0x1][0x3]),vec3(_0x3cf749[0x2][0x0],_0x3cf749[0x2][0x1],_0x3cf749[0x2][0x3])],_0xa67f83=[vec3(_0x3cf749[0x0][0x0],_0x3cf749[0x0][0x1],_0x3cf749[0x0][0x2]),vec3(_0x3cf749[0x1][0x0],_0x3cf749[0x1][0x1],_0x3cf749[0x1][0x2]),vec3(_0x3cf749[0x2][0x0],_0x3cf749[0x2][0x1],_0x3cf749[0x2][0x2])];return _0x414e18[0x0][0x0]=det3(_0xb8244d)/_0x5518bd,_0x414e18[0x0][0x1]=-det3(_0x249352)/_0x5518bd,_0x414e18[0x0][0x2]=det3(_0x4e907f)/_0x5518bd,_0x414e18[0x0][0x3]=-det3(_0x245633)/_0x5518bd,_0x414e18[0x1][0x0]=-det3(_0x574e0e)/_0x5518bd,_0x414e18[0x1][0x1]=det3(_0x2663cd)/_0x5518bd,_0x414e18[0x1][0x2]=-det3(_0x343b5f)/_0x5518bd,_0x414e18[0x1][0x3]=det3(_0x250c59)/_0x5518bd,_0x414e18[0x2][0x0]=det3(_0x1bc361)/_0x5518bd,_0x414e18[0x2][0x1]=-det3(_0x1143e6)/_0x5518bd,_0x414e18[0x2][0x2]=det3(_0x1d9aaa)/_0x5518bd,_0x414e18[0x2][0x3]=-det3(_0x4502ed)/_0x5518bd,_0x414e18[0x3][0x0]=-det3(_0x9630e7)/_0x5518bd,_0x414e18[0x3][0x1]=det3(_0x412795)/_0x5518bd,_0x414e18[0x3][0x2]=-det3(_0x137779)/_0x5518bd,_0x414e18[0x3][0x3]=det3(_0xa67f83)/_0x5518bd,_0x414e18;}function inverse(_0x4e9059){var _0x7db17a=a0_0x567640;return 0x1!=_0x4e9059['matrix']&&console[_0x7db17a(0x3d0)](_0x7db17a(0x37b)),0x2==_0x4e9059[_0x7db17a(0x240)]?inverse2(_0x4e9059):0x3==_0x4e9059[_0x7db17a(0x240)]?inverse3(_0x4e9059):0x4==_0x4e9059[_0x7db17a(0x240)]?inverse4(_0x4e9059):void 0x0;}function normalMatrix(_0x29dc71,_0x5ba96c){var _0x40680a=mat4();if(_0x40680a=inverse(transpose(_0x29dc71)),0x1!=_0x5ba96c)return _0x40680a;for(var _0x5a03b2=mat3(),_0x33dfcf=0x0;_0x33dfcf<0x3;_0x33dfcf++)for(var _0xc3c2d5=0x0;_0xc3c2d5<0x3;_0xc3c2d5++)_0x5a03b2[_0x33dfcf][_0xc3c2d5]=_0x40680a[_0x33dfcf][_0xc3c2d5];return _0x5a03b2;}const GAME_VERSION=a0_0x567640(0x27e),DEV_TOOLS=!0x0,GEN_DUNGEONS=!0x1;var POSX,POSY,world,worldArray=[],currentBlockDrawList=[],PORTION_SIZE=0xa;const WORLD_SIZE=0x19;class WorldPortion{constructor(_0x5b45aa=null,_0x466ea5=null,_0xa8997e=!0x1){var _0x5d9695=a0_0x567640;this[_0x5d9695(0x246)]=_0x5b45aa*PORTION_SIZE,this[_0x5d9695(0x433)]=_0x466ea5*PORTION_SIZE,this['outerBoundX']=this[_0x5d9695(0x246)]+PORTION_SIZE,this[_0x5d9695(0x261)]=this[_0x5d9695(0x433)]+PORTION_SIZE,this['portion']=[],this[_0x5d9695(0x28c)]=[],this[_0x5d9695(0x45e)]=[[],[]],null!=_0x5b45aa&&0x0==_0xa8997e&&this[_0x5d9695(0x2d2)](),null!=_0x5b45aa&&0x1==_0xa8997e&&this[_0x5d9695(0x378)]();}[a0_0x567640(0x44e)](_0x376cc7,_0x3a1520,_0x41795a){var _0x4acd07=a0_0x567640;return(-0x3==_0x41795a||-0x4==_0x41795a)&&this['spaceOccupied'][_0x41795a+0x4][_0x376cc7-this[_0x4acd07(0x246)]][_0x3a1520-this[_0x4acd07(0x433)]];}[a0_0x567640(0x464)](_0x5b5c7a,_0x54c0b1,_0x397109,_0x55a339=!0x0){var _0x52426c=a0_0x567640;-0x3!=_0x397109&&-0x4!=_0x397109||(this['spaceOccupied'][_0x397109+0x4][_0x5b5c7a-this[_0x52426c(0x246)]][_0x54c0b1-this[_0x52426c(0x433)]]=_0x55a339);}['push'](_0x10bf35){var _0x592b4a=a0_0x567640;let _0x241452=_0x10bf35['posX'],_0x305e4d=_0x10bf35[_0x592b4a(0x433)],_0x35474d=_0x10bf35[_0x592b4a(0x328)];this[_0x592b4a(0x44e)](_0x241452,_0x305e4d,_0x35474d)||(_0x10bf35[_0x592b4a(0x328)]>=-0x4?(this[_0x592b4a(0x29b)][_0x592b4a(0x4b3)](_0x10bf35),this[_0x592b4a(0x464)](_0x241452,_0x305e4d,_0x35474d)):this[_0x592b4a(0x28c)][_0x592b4a(0x4b3)](_0x10bf35));}['makeEmptyPortion'](){var _0x20c210=a0_0x567640;for(var _0x2ecc8e=0x0;_0x2ecc8e<PORTION_SIZE;_0x2ecc8e++){for(var _0x4e7b55=[],_0x4b9b30=[],_0x71cce9=0x0;_0x71cce9<PORTION_SIZE;_0x71cce9++)_0x4e7b55[_0x20c210(0x4b3)](!0x1),_0x4b9b30[_0x20c210(0x4b3)](!0x1);this['spaceOccupied'][0x0][_0x20c210(0x4b3)](_0x4e7b55),this[_0x20c210(0x45e)][0x1][_0x20c210(0x4b3)](_0x4b9b30);}}[a0_0x567640(0x2d2)](){var _0x10bc6b=a0_0x567640;for(var _0x2e4ec5=0x0;_0x2e4ec5<PORTION_SIZE;_0x2e4ec5++){for(var _0x2b5d2a=[],_0x360dd8=[],_0x235abf=0x0;_0x235abf<PORTION_SIZE;_0x235abf++)_0x2b5d2a[_0x10bc6b(0x4b3)](!0x1),_0x360dd8[_0x10bc6b(0x4b3)](!0x1);this['spaceOccupied'][0x0][_0x10bc6b(0x4b3)](_0x2b5d2a),this['spaceOccupied'][0x1]['push'](_0x360dd8);}let _0x5c966c=lastPos[0x0],_0x4eeffd=lastPos[0x1];if(_0x5c966c<this['outerBoundX']&&_0x5c966c>this[_0x10bc6b(0x246)]&&_0x4eeffd>this['posY']&&_0x4eeffd<this['outerBoundY']){for(_0x2e4ec5=this[_0x10bc6b(0x246)];_0x2e4ec5<this[_0x10bc6b(0x293)];_0x2e4ec5++)for(_0x235abf=this['posY'];_0x235abf<this[_0x10bc6b(0x261)];_0x235abf++)this['push'](new GrassBlock(_0x2e4ec5,_0x235abf,-0x2));}else{for(_0x2e4ec5=this[_0x10bc6b(0x246)];_0x2e4ec5<this['outerBoundX'];_0x2e4ec5++)for(_0x235abf=this[_0x10bc6b(0x433)];_0x235abf<this['outerBoundY'];_0x235abf++)0x0!=_0x2e4ec5&&0x0!=_0x235abf||this[_0x10bc6b(0x4b3)](new BorderWall(_0x2e4ec5,_0x235abf,-0x3)),_0x2e4ec5>0x19*PORTION_SIZE&&_0x2e4ec5==this[_0x10bc6b(0x293)]-0x1&&this[_0x10bc6b(0x4b3)](new BorderWall(_0x2e4ec5,_0x235abf,-0x3)),_0x235abf>0x19*PORTION_SIZE&&_0x235abf==this['outerBoundY']-0x1&&this[_0x10bc6b(0x4b3)](new BorderWall(_0x2e4ec5,_0x235abf,-0x3));for(_0x2e4ec5=this[_0x10bc6b(0x246)];_0x2e4ec5<this[_0x10bc6b(0x293)];_0x2e4ec5++)for(_0x235abf=this[_0x10bc6b(0x433)];_0x235abf<this[_0x10bc6b(0x261)];_0x235abf++){if(generate_by_probability(0.01)){for(var _0x577e57=gen_stone_cluster(_0x2e4ec5,_0x235abf),_0x25184a=0x0;_0x25184a<_0x577e57[_0x10bc6b(0x240)];_0x25184a++)if(_0x577e57[_0x25184a][_0x10bc6b(0x246)]>=this[_0x10bc6b(0x246)]&&_0x577e57[_0x25184a]['posY']>=this[_0x10bc6b(0x433)]&&_0x577e57[_0x25184a]['posX']<this[_0x10bc6b(0x293)]&&_0x577e57[_0x25184a][_0x10bc6b(0x433)]<this[_0x10bc6b(0x261)]){for(var _0x51655e=!0x1,_0x21839e=0x0;_0x21839e<this['portion']['length'];_0x21839e++)this[_0x10bc6b(0x29b)][_0x21839e]['posX']==_0x577e57[_0x25184a]['posX']&&this[_0x10bc6b(0x29b)][_0x21839e][_0x10bc6b(0x433)]==_0x577e57[_0x25184a]['posY']&&this[_0x10bc6b(0x29b)][_0x21839e][_0x10bc6b(0x328)]==_0x577e57[_0x25184a]['posZ']&&(_0x51655e=!0x0);_0x51655e||this[_0x10bc6b(0x4b3)](_0x577e57[_0x25184a]);}}if(generate_by_probability(0.011)){for(_0x577e57=gen_tree(_0x2e4ec5,_0x235abf),_0x51655e=!0x1,_0x25184a=0x0;_0x25184a<_0x577e57[_0x10bc6b(0x240)];_0x25184a++)if(_0x577e57[_0x25184a][_0x10bc6b(0x246)]>=this[_0x10bc6b(0x246)]&&_0x577e57[_0x25184a][_0x10bc6b(0x433)]>=this[_0x10bc6b(0x433)]&&_0x577e57[_0x25184a][_0x10bc6b(0x246)]<this[_0x10bc6b(0x293)]&&_0x577e57[_0x25184a]['posY']<this[_0x10bc6b(0x261)]){for(_0x21839e=0x0;_0x21839e<this[_0x10bc6b(0x29b)][_0x10bc6b(0x240)];_0x21839e++)this['portion'][_0x21839e][_0x10bc6b(0x246)]==_0x577e57[_0x25184a][_0x10bc6b(0x246)]&&this[_0x10bc6b(0x29b)][_0x21839e]['posY']==_0x577e57[_0x25184a]['posY']&&this[_0x10bc6b(0x29b)][_0x21839e][_0x10bc6b(0x328)]==_0x577e57[_0x25184a]['posZ']&&(_0x51655e=!0x0);for(_0x21839e=0x0;_0x21839e<this[_0x10bc6b(0x28c)][_0x10bc6b(0x240)];_0x21839e++)this[_0x10bc6b(0x28c)][_0x21839e][_0x10bc6b(0x246)]==_0x577e57[_0x25184a][_0x10bc6b(0x246)]&&this[_0x10bc6b(0x28c)][_0x21839e][_0x10bc6b(0x433)]==_0x577e57[_0x25184a][_0x10bc6b(0x433)]&&this['portionCeiling'][_0x21839e][_0x10bc6b(0x328)]==_0x577e57[_0x25184a][_0x10bc6b(0x328)]&&(_0x51655e=!0x0);_0x51655e||this[_0x10bc6b(0x4b3)](_0x577e57[_0x25184a]);}}this[_0x10bc6b(0x4b3)](new GrassBlock(_0x2e4ec5,_0x235abf,-0x2));}}}[a0_0x567640(0x43e)](){var _0x5e0bc2=a0_0x567640;for(var _0x2547ad=0x0;_0x2547ad<this[_0x5e0bc2(0x29b)][_0x5e0bc2(0x240)];_0x2547ad++)this['portion'][_0x2547ad]['update']();for(_0x2547ad=0x0;_0x2547ad<this[_0x5e0bc2(0x28c)][_0x5e0bc2(0x240)];_0x2547ad++)this[_0x5e0bc2(0x28c)][_0x2547ad][_0x5e0bc2(0x1e8)]();}[a0_0x567640(0x39c)](_0x1eb067,_0x5b8f89,_0xe2a961){var _0x4b25db=a0_0x567640;if(_0xe2a961>=-0x4){for(var _0x2563d6=0x0;_0x2563d6<this[_0x4b25db(0x29b)][_0x4b25db(0x240)];_0x2563d6++)if(this[_0x4b25db(0x29b)][_0x2563d6][_0x4b25db(0x246)]==_0x1eb067&&this[_0x4b25db(0x29b)][_0x2563d6]['posY']==_0x5b8f89&&this[_0x4b25db(0x29b)][_0x2563d6][_0x4b25db(0x328)]==_0xe2a961)return this['portion'][_0x2563d6];}else{for(_0x2563d6=0x0;_0x2563d6<this[_0x4b25db(0x28c)][_0x4b25db(0x240)];_0x2563d6++)if(this[_0x4b25db(0x28c)][_0x2563d6][_0x4b25db(0x246)]==_0x1eb067&&this[_0x4b25db(0x28c)][_0x2563d6][_0x4b25db(0x433)]==_0x5b8f89&&this[_0x4b25db(0x28c)][_0x2563d6]['posZ']==_0xe2a961)return this['portionCeiling'][_0x2563d6];}return null;}['removeBlock'](_0x4e17d5){var _0x902806=a0_0x567640;if(null!=_0x4e17d5){if(_0x4e17d5[_0x902806(0x328)]>=-0x4){if(0x0==this[_0x902806(0x29b)][_0x902806(0x240)])return;if(0x1==this[_0x902806(0x29b)][_0x902806(0x240)])return void(this[_0x902806(0x29b)][0x0][_0x902806(0x246)]==_0x4e17d5[_0x902806(0x246)]&&this['portion'][0x0][_0x902806(0x433)]==_0x4e17d5[_0x902806(0x433)]&&this[_0x902806(0x29b)][0x0][_0x902806(0x328)]==_0x4e17d5['posZ']&&(this[_0x902806(0x464)](_0x4e17d5[_0x902806(0x246)],_0x4e17d5[_0x902806(0x433)],_0x4e17d5[_0x902806(0x328)],!0x1),this[_0x902806(0x29b)][0x0][_0x902806(0x441)](),this[_0x902806(0x29b)]=[]));for(var _0x35f762=0x0;_0x35f762<this[_0x902806(0x29b)][_0x902806(0x240)];_0x35f762++)if(this[_0x902806(0x29b)][_0x35f762][_0x902806(0x246)]==_0x4e17d5[_0x902806(0x246)]&&this['portion'][_0x35f762]['posY']==_0x4e17d5[_0x902806(0x433)]&&this[_0x902806(0x29b)][_0x35f762][_0x902806(0x328)]==_0x4e17d5[_0x902806(0x328)]){if(_0x35f762!=this['portion'][_0x902806(0x240)]-0x1){var _0x27af8a=this['portion'][_0x35f762];this[_0x902806(0x464)](_0x4e17d5[_0x902806(0x246)],_0x4e17d5[_0x902806(0x433)],_0x4e17d5[_0x902806(0x328)],!0x1),this['portion'][_0x35f762]=this[_0x902806(0x29b)][this[_0x902806(0x29b)]['length']-0x1],this['portion'][_0x902806(0x34b)](),_0x27af8a[_0x902806(0x441)]();}else _0x27af8a=this['portion'][_0x35f762],(this[_0x902806(0x464)](_0x4e17d5[_0x902806(0x246)],_0x4e17d5['posY'],_0x4e17d5[_0x902806(0x328)],!0x1),this[_0x902806(0x29b)][_0x902806(0x34b)](),_0x27af8a[_0x902806(0x441)]());-0x2==_0x4e17d5[_0x902806(0x328)]&&this[_0x902806(0x3c7)](new DirtBlock(_0x4e17d5[_0x902806(0x246)],_0x4e17d5[_0x902806(0x433)],-0x1));}}else{if(0x0==this[_0x902806(0x28c)][_0x902806(0x240)])return;if(0x1==this[_0x902806(0x28c)][_0x902806(0x240)])return void(this['portionCeiling'][0x0]['posX']==_0x4e17d5[_0x902806(0x246)]&&this[_0x902806(0x28c)][0x0][_0x902806(0x433)]==_0x4e17d5['posY']&&this[_0x902806(0x28c)][0x0][_0x902806(0x328)]==_0x4e17d5[_0x902806(0x328)]&&(this[_0x902806(0x28c)][0x0][_0x902806(0x441)](),this[_0x902806(0x28c)]=[]));for(_0x35f762=0x0;_0x35f762<this[_0x902806(0x28c)][_0x902806(0x240)];_0x35f762++)if(this['portionCeiling'][_0x35f762]['posX']==_0x4e17d5[_0x902806(0x246)]&&this[_0x902806(0x28c)][_0x35f762][_0x902806(0x433)]==_0x4e17d5[_0x902806(0x433)]&&this['portionCeiling'][_0x35f762]['posZ']==_0x4e17d5[_0x902806(0x328)])_0x35f762!=this['portionCeiling']['length']-0x1?(_0x27af8a=this['portionCeiling'][_0x35f762],(this['portionCeiling'][_0x35f762]=this[_0x902806(0x28c)][this[_0x902806(0x28c)][_0x902806(0x240)]-0x1],this[_0x902806(0x28c)]['pop'](),_0x27af8a[_0x902806(0x441)]())):(_0x27af8a=this[_0x902806(0x28c)][_0x35f762],(this[_0x902806(0x28c)][_0x902806(0x34b)](),_0x27af8a['destroy']()));}}}[a0_0x567640(0x3c7)](_0x13d10f){var _0xba9560=a0_0x567640;for(var _0x18958e=!0x1,_0x49cfc9=0x0;_0x49cfc9<this['portion'][_0xba9560(0x240)];_0x49cfc9++)_0x13d10f[_0xba9560(0x246)]==this[_0xba9560(0x29b)][_0x49cfc9][_0xba9560(0x246)]&&_0x13d10f[_0xba9560(0x433)]==this[_0xba9560(0x29b)][_0x49cfc9][_0xba9560(0x433)]&&_0x13d10f[_0xba9560(0x328)]==this[_0xba9560(0x29b)][_0x49cfc9][_0xba9560(0x328)]&&(_0x18958e=!0x0);for(_0x49cfc9=0x0;_0x49cfc9<this['portionCeiling'][_0xba9560(0x240)];_0x49cfc9++)_0x13d10f['posX']==this[_0xba9560(0x28c)][_0x49cfc9][_0xba9560(0x246)]&&_0x13d10f[_0xba9560(0x433)]==this[_0xba9560(0x28c)][_0x49cfc9][_0xba9560(0x433)]&&_0x13d10f[_0xba9560(0x328)]==this[_0xba9560(0x28c)][_0x49cfc9][_0xba9560(0x328)]&&(_0x18958e=!0x0);return!_0x18958e&&(this['push'](_0x13d10f),-0x2==_0x13d10f['posZ']&&this[_0xba9560(0x42c)](this[_0xba9560(0x39c)](_0x13d10f[_0xba9560(0x246)],_0x13d10f[_0xba9560(0x433)],-0x1)),!0x0);}[a0_0x567640(0x4c7)](){var _0x21aa25=a0_0x567640;return[this['portion'],this[_0x21aa25(0x28c)]];}}class World{constructor(_0x1cc174){var _0x1a84df=a0_0x567640;this[_0x1a84df(0x2f9)]=_0x1cc174,this[_0x1a84df(0x3c6)]=[],this[_0x1a84df(0x4b6)]();}[a0_0x567640(0x4b6)](){var _0x15ad62=a0_0x567640;for(var _0x271869=0x0;_0x271869<=this[_0x15ad62(0x2f9)];_0x271869++)this['portions'][_0x271869]=[];}[a0_0x567640(0x476)](){var _0x45a22a=a0_0x567640;for(var _0x248189=0x0;_0x248189<=this[_0x45a22a(0x2f9)];_0x248189++)for(var _0xcf436e=0x0;_0xcf436e<=this[_0x45a22a(0x2f9)];_0xcf436e++)this['portions'][_0x248189][_0xcf436e]=new WorldPortion(_0x248189,_0xcf436e,!0x0);}[a0_0x567640(0x236)](){var _0x5ea708=a0_0x567640;for(var _0x3e3bea=0x0;_0x3e3bea<=this[_0x5ea708(0x2f9)];_0x3e3bea++)for(var _0x1dc92d=0x0;_0x1dc92d<=this[_0x5ea708(0x2f9)];_0x1dc92d++)this[_0x5ea708(0x3c6)][_0x3e3bea][_0x1dc92d]=new WorldPortion(_0x3e3bea,_0x1dc92d);}['updatePortions'](){var _0x15b7d0=a0_0x567640;for(var _0x846a9f=0x0;_0x846a9f<=this['size'];_0x846a9f++)for(var _0x23cd36=0x0;_0x23cd36<=this[_0x15b7d0(0x2f9)];_0x23cd36++)this['portions'][_0x846a9f][_0x23cd36]['updatePortion']();}['addPortion'](_0x51b525){var _0x24ac24=a0_0x567640;this['portions'][_0x51b525['posX']][_0x51b525[_0x24ac24(0x433)]]=_0x51b525;}[a0_0x567640(0x286)](_0x1d469b,_0x59e00f){var _0x514d2f=a0_0x567640;return[Math[_0x514d2f(0x47a)](_0x1d469b/PORTION_SIZE),Math['floor'](_0x59e00f/PORTION_SIZE)];}[a0_0x567640(0x205)](_0x574f71,_0x6b1648){var _0x311911=a0_0x567640,_0x48bc0b=Math[_0x311911(0x47a)](_0x574f71/PORTION_SIZE),_0x49096=Math['floor'](_0x6b1648/PORTION_SIZE);return null!=this[_0x311911(0x3c6)][_0x48bc0b]&&null!=this['portions'][_0x48bc0b][_0x49096]?this[_0x311911(0x3c6)][_0x48bc0b][_0x49096]:new WorldPortion();}[a0_0x567640(0x39c)](_0x8ea783,_0x346af5,_0x3ec642){var _0x32f6ef=a0_0x567640,_0x4adbf0=Math[_0x32f6ef(0x47a)](_0x8ea783/PORTION_SIZE),_0x3cf28d=Math['floor'](_0x346af5/PORTION_SIZE);return _0x4adbf0<0x0||_0x3cf28d<0x0||_0x4adbf0>this['size']||_0x3cf28d>this['size']?null:this[_0x32f6ef(0x3c6)][_0x4adbf0][_0x3cf28d][_0x32f6ef(0x39c)](Math[_0x32f6ef(0x47a)](_0x8ea783),Math[_0x32f6ef(0x47a)](_0x346af5),Math['floor'](_0x3ec642));}['isSpaceOccupied'](_0x518a82,_0x2472ee,_0x335aea){var _0x239bda=a0_0x567640,_0x4fd632=Math[_0x239bda(0x47a)](_0x518a82/PORTION_SIZE),_0x1b5f29=Math[_0x239bda(0x47a)](_0x2472ee/PORTION_SIZE);return!(_0x4fd632<0x0||_0x1b5f29<0x0||_0x4fd632>this[_0x239bda(0x2f9)]||_0x1b5f29>this[_0x239bda(0x2f9)])&&this['portions'][_0x4fd632][_0x1b5f29][_0x239bda(0x44e)](_0x518a82,_0x2472ee,_0x335aea);}['updateChunk'](_0x3ab73d,_0x4c1005,_0x475542){var _0x37b770=a0_0x567640;for(let _0x25305f=-0x1;_0x25305f<0x2;_0x25305f++)for(let _0x24fc66=-0x1;_0x24fc66<0x2;_0x24fc66++)for(let _0x5368e5=-0x1;_0x5368e5<0x2;_0x5368e5++){null!=(_0x4aba8a=this[_0x37b770(0x39c)](_0x3ab73d+_0x25305f,_0x4c1005+_0x24fc66,_0x475542+_0x5368e5))&&_0x4aba8a[_0x37b770(0x1e8)]();}var _0x4aba8a;null!=(_0x4aba8a=this[_0x37b770(0x39c)](_0x3ab73d,_0x4c1005,_0x475542-0x2))&&_0x4aba8a['update']();}[a0_0x567640(0x447)](_0x3bb335,_0x89a340){var _0x2b7007=a0_0x567640,_0x573df7=[];for(let _0x446020=-0x2;_0x446020<0x3;_0x446020++)for(let _0x2ddbb6=-0x2;_0x2ddbb6<0x3;_0x2ddbb6++){var _0x5098e4=this[_0x2b7007(0x39c)](_0x3bb335+_0x446020,_0x89a340+_0x2ddbb6,-0x3);null!=_0x5098e4&&_0x573df7[_0x2b7007(0x4b3)](_0x5098e4),null!=(_0x5098e4=this[_0x2b7007(0x39c)](_0x3bb335+_0x446020,_0x89a340+_0x2ddbb6,-0x4))&&_0x573df7[_0x2b7007(0x4b3)](_0x5098e4);}return _0x573df7;}['removeBlock'](_0xe84bf2){var _0x4af2d9=a0_0x567640,_0xb2ba10=Math['floor'](_0xe84bf2['posX']/PORTION_SIZE),_0xeaf7e5=Math[_0x4af2d9(0x47a)](_0xe84bf2[_0x4af2d9(0x433)]/PORTION_SIZE),_0x156e16=_0xe84bf2[_0x4af2d9(0x246)],_0x1d8088=_0xe84bf2[_0x4af2d9(0x433)],_0x2591c8=_0xe84bf2[_0x4af2d9(0x328)];this[_0x4af2d9(0x3c6)][_0xb2ba10][_0xeaf7e5][_0x4af2d9(0x42c)](_0xe84bf2),this[_0x4af2d9(0x249)](_0x156e16,_0x1d8088,_0x2591c8);}[a0_0x567640(0x3ec)](_0x356512,_0x40d069,_0xb592c7){var _0x41f1c1=a0_0x567640,_0x4fdbf7=Math['floor'](_0x356512/PORTION_SIZE),_0x4adc9b=Math[_0x41f1c1(0x47a)](_0x40d069/PORTION_SIZE);let _0x1368a1=this[_0x41f1c1(0x3c6)][_0x4fdbf7][_0x4adc9b][_0x41f1c1(0x39c)](_0x356512,_0x40d069,_0xb592c7);null!=_0x1368a1&&(this[_0x41f1c1(0x3c6)][_0x4fdbf7][_0x4adc9b][_0x41f1c1(0x42c)](_0x1368a1),this[_0x41f1c1(0x249)](_0x356512,_0x40d069,_0xb592c7));}['addBlock'](_0x304dd4){var _0x4e9df5=a0_0x567640,_0x22c26f=Math[_0x4e9df5(0x47a)](_0x304dd4[_0x4e9df5(0x246)]/PORTION_SIZE),_0x1c21de=Math[_0x4e9df5(0x47a)](_0x304dd4[_0x4e9df5(0x433)]/PORTION_SIZE);if(0x0==this[_0x4e9df5(0x3c6)][_0x22c26f][_0x1c21de][_0x4e9df5(0x3c7)](_0x304dd4))return!0x1;var _0x2eef48=_0x304dd4[_0x4e9df5(0x246)],_0x122ede=_0x304dd4['posY'],_0x282b93=_0x304dd4[_0x4e9df5(0x328)];return this['updateChunk'](_0x2eef48,_0x122ede,_0x282b93),!0x0;}[a0_0x567640(0x278)](_0x1eb843,_0x2ec1e4){var _0x28269f=a0_0x567640;for(let _0x46d38e=0x0;_0x46d38e<0x3;_0x46d38e++)for(let _0x2a1e62=0x0;_0x2a1e62<0x3;_0x2a1e62++){let _0x272d8c=this[_0x28269f(0x39c)](_0x1eb843+(_0x46d38e-0x1),_0x2ec1e4+(_0x2a1e62-0x1),-0x3);if(null!=_0x272d8c&&0x9==_0x272d8c[_0x28269f(0x44a)])return[!0x0,_0x272d8c];}for(let _0x16888b=0x0;_0x16888b<0x3;_0x16888b++)for(let _0xa5f627=0x0;_0xa5f627<0x3;_0xa5f627++)if(null==this['getBlockAt'](_0x1eb843+(_0x16888b-0x1),_0x2ec1e4+(_0xa5f627-0x1),-0x3))return[!0x1,[_0x1eb843+(_0x16888b-0x1),_0x2ec1e4+(_0xa5f627-0x1),-0x3]];return null;}}function concate_portions(_0x1c99c1){var _0x186134=a0_0x567640;for(var _0x2bcea3=[],_0x232f5c=0x0;_0x232f5c<_0x1c99c1[_0x186134(0x240)];_0x232f5c++)_0x2bcea3[_0x186134(0x46a)](_0x1c99c1[_0x232f5c]);return _0x2bcea3;}function generate_by_probability(_0x3ffd3b){return Math['random']()<=_0x3ffd3b;}function is_within_portion_bound(_0x4fc31c){var _0x24b01f=a0_0x567640;if(def_position(),POSX<=_0x4fc31c[_0x24b01f(0x293)]&&POSX>=_0x4fc31c[_0x24b01f(0x246)]&&POSY<=_0x4fc31c['outerBoundY']&&POSY>=_0x4fc31c['posY'])return!0x0;}function make_world(){var _0x239bf4=a0_0x567640;(world=new World(0x19))[_0x239bf4(0x236)]();}function init_world(){var _0x4a18d6=a0_0x567640;world[_0x4a18d6(0x2fc)](),pX=Math['floor'](POSX/PORTION_SIZE),pY=Math[_0x4a18d6(0x47a)](POSY/PORTION_SIZE),currentPortion=vec2(pX,pY);}function def_position(){var _0x3581f9=a0_0x567640;POSX=Math[_0x3581f9(0x47a)](player['posX']),POSY=Math['floor'](player[_0x3581f9(0x433)]);}function check_reload(){return!0x0;}function reload_portion(){}function return_draw_blocks(){var _0x188b02=a0_0x567640,_0x272ef4,_0x4500b0,_0x47d6ba;return def_position(),_0x272ef4=(_0x47d6ba=world['getPortion'](POSX,POSY)[_0x188b02(0x4c7)]())[0x0],_0x4500b0=_0x47d6ba[0x1],_0x47d6ba=world[_0x188b02(0x205)](POSX-PORTION_SIZE,POSY)[_0x188b02(0x4c7)](),_0x272ef4=_0x272ef4[_0x188b02(0x46a)](_0x47d6ba[0x0]),_0x4500b0=_0x4500b0[_0x188b02(0x46a)](_0x47d6ba[0x1]),_0x47d6ba=world['getPortion'](POSX+PORTION_SIZE,POSY)['getPortionArray'](),_0x272ef4=_0x272ef4[_0x188b02(0x46a)](_0x47d6ba[0x0]),_0x4500b0=_0x4500b0[_0x188b02(0x46a)](_0x47d6ba[0x1]),_0x47d6ba=world[_0x188b02(0x205)](POSX,POSY+PORTION_SIZE)[_0x188b02(0x4c7)](),_0x272ef4=_0x272ef4['concat'](_0x47d6ba[0x0]),_0x4500b0=_0x4500b0['concat'](_0x47d6ba[0x1]),_0x47d6ba=world[_0x188b02(0x205)](POSX,POSY-PORTION_SIZE)[_0x188b02(0x4c7)](),_0x272ef4=_0x272ef4[_0x188b02(0x46a)](_0x47d6ba[0x0]),_0x4500b0=_0x4500b0[_0x188b02(0x46a)](_0x47d6ba[0x1]),_0x47d6ba=world[_0x188b02(0x205)](POSX+PORTION_SIZE,POSY+PORTION_SIZE)[_0x188b02(0x4c7)](),_0x272ef4=_0x272ef4[_0x188b02(0x46a)](_0x47d6ba[0x0]),_0x4500b0=_0x4500b0['concat'](_0x47d6ba[0x1]),_0x47d6ba=world[_0x188b02(0x205)](POSX+PORTION_SIZE,POSY-PORTION_SIZE)[_0x188b02(0x4c7)](),_0x272ef4=_0x272ef4['concat'](_0x47d6ba[0x0]),_0x4500b0=_0x4500b0[_0x188b02(0x46a)](_0x47d6ba[0x1]),_0x47d6ba=world['getPortion'](POSX-PORTION_SIZE,POSY+PORTION_SIZE)[_0x188b02(0x4c7)](),_0x272ef4=_0x272ef4[_0x188b02(0x46a)](_0x47d6ba[0x0]),_0x4500b0=_0x4500b0[_0x188b02(0x46a)](_0x47d6ba[0x1]),_0x47d6ba=world[_0x188b02(0x205)](POSX-PORTION_SIZE,POSY-PORTION_SIZE)[_0x188b02(0x4c7)](),_0x272ef4=_0x272ef4[_0x188b02(0x46a)](_0x47d6ba[0x0]),_0x4500b0=_0x4500b0[_0x188b02(0x46a)](_0x47d6ba[0x1]),_0x47d6ba=world[_0x188b02(0x205)](POSX+0x2*PORTION_SIZE,POSY+PORTION_SIZE)['getPortionArray'](),_0x272ef4=_0x272ef4[_0x188b02(0x46a)](_0x47d6ba[0x0]),_0x4500b0=_0x4500b0[_0x188b02(0x46a)](_0x47d6ba[0x1]),_0x47d6ba=world['getPortion'](POSX+0x2*PORTION_SIZE,POSY)[_0x188b02(0x4c7)](),_0x272ef4=_0x272ef4['concat'](_0x47d6ba[0x0]),_0x4500b0=_0x4500b0['concat'](_0x47d6ba[0x1]),_0x47d6ba=world['getPortion'](POSX-0x2*PORTION_SIZE,POSY+PORTION_SIZE)['getPortionArray'](),_0x272ef4=_0x272ef4[_0x188b02(0x46a)](_0x47d6ba[0x0]),_0x4500b0=_0x4500b0[_0x188b02(0x46a)](_0x47d6ba[0x1]),_0x47d6ba=world[_0x188b02(0x205)](POSX-0x2*PORTION_SIZE,POSY)[_0x188b02(0x4c7)](),_0x272ef4=_0x272ef4[_0x188b02(0x46a)](_0x47d6ba[0x0]),_0x4500b0=_0x4500b0[_0x188b02(0x46a)](_0x47d6ba[0x1]),_0x47d6ba=world[_0x188b02(0x205)](POSX+0x2*PORTION_SIZE,POSY-PORTION_SIZE)[_0x188b02(0x4c7)](),_0x272ef4=_0x272ef4[_0x188b02(0x46a)](_0x47d6ba[0x0]),_0x4500b0=_0x4500b0[_0x188b02(0x46a)](_0x47d6ba[0x1]),_0x47d6ba=world[_0x188b02(0x205)](POSX-0x2*PORTION_SIZE,POSY-PORTION_SIZE)['getPortionArray'](),[_0x272ef4=_0x272ef4[_0x188b02(0x46a)](_0x47d6ba[0x0]),_0x4500b0=_0x4500b0[_0x188b02(0x46a)](_0x47d6ba[0x1])];}function gen(){size=0x32;for(var _0x4dabc4=-size;_0x4dabc4<=size;_0x4dabc4++)for(var _0x7eae6c=-size;_0x7eae6c<=size;_0x7eae6c++)blocks['push'](new WoodBlock(_0x4dabc4,_0x7eae6c,-0x2,!0x1));for(_0x4dabc4=0x0;_0x4dabc4<0xc8;_0x4dabc4++);}function removeBlockGlobal(_0x37f112){var _0x1b7abd=a0_0x567640;if(inDungeon){var _0x2b32a2=_0x37f112[_0x1b7abd(0x246)],_0x600444=_0x37f112[_0x1b7abd(0x433)],_0x53a048=_0x37f112[_0x1b7abd(0x328)];currentDungeon[_0x1b7abd(0x3ec)](_0x2b32a2,_0x600444,_0x53a048);}else world['removeBlock'](_0x37f112);}class Queue{constructor(){var _0x1dca64=a0_0x567640;this[_0x1dca64(0x1fe)]=[],this[_0x1dca64(0x2b7)]=0x0;}[a0_0x567640(0x462)](){var _0x25fb67=a0_0x567640;this[_0x25fb67(0x1fe)]=[],this['newEntryIndex']=0x0;}['enqueue'](_0x313699){var _0x4699e4=a0_0x567640;return this[_0x4699e4(0x1fe)][this[_0x4699e4(0x2b7)]]=_0x313699,this['newEntryIndex']++,!0x0;}[a0_0x567640(0x225)](){var _0x1951ad=a0_0x567640;if(this[_0x1951ad(0x361)]())return!0x1;for(var _0x235dfe=0x0;_0x235dfe<this[_0x1951ad(0x2b7)]-0x1;_0x235dfe++)this[_0x1951ad(0x1fe)][_0x235dfe]=this['queueArray'][_0x235dfe+0x1];return this[_0x1951ad(0x1fe)][_0x1951ad(0x34b)](),this[_0x1951ad(0x2b7)]--,!0x0;}['peek'](){var _0x101833=a0_0x567640;return 0x0==this[_0x101833(0x361)]()?this['queueArray'][0x0]:null;}[a0_0x567640(0x2c0)](_0x470807){var _0x83bb39=a0_0x567640;for(var _0x3a2d00=_0x470807;_0x3a2d00<this['newEntryIndex']-0x1;_0x3a2d00++)this['queueArray'][_0x3a2d00]=this[_0x83bb39(0x1fe)][_0x3a2d00+0x1];this[_0x83bb39(0x2b7)]--;}['peek5'](){var _0x409deb=a0_0x567640;if(this['isEmpty']())return null;for(var _0xd45f2f=[],_0x29c9a0=0x0;_0x29c9a0<Math['min'](this['newEntryIndex'],0x5);_0x29c9a0++)_0xd45f2f[_0x29c9a0]=this[_0x409deb(0x1fe)][_0x29c9a0];return _0xd45f2f;}['cheekyPeek'](){var _0x3482af=a0_0x567640;return this[_0x3482af(0x361)]()?null:this[_0x3482af(0x1fe)][this['newEntryIndex']-0x1];}[a0_0x567640(0x361)](){var _0x3c5bbf=a0_0x567640;return 0x0==this[_0x3c5bbf(0x2b7)];}}class ProperArray extends Queue{constructor(){super();}[a0_0x567640(0x4b3)](_0x40a4f9){this['enqueue'](_0x40a4f9);}[a0_0x567640(0x450)](){var _0xa23a58=a0_0x567640;return this[_0xa23a58(0x2b7)];}[a0_0x567640(0x448)](_0x1bd9a5){var _0xc8478=a0_0x567640;return this[_0xc8478(0x1fe)][_0x1bd9a5];}}class QueuedFunction{constructor(_0x5ac120){var _0x39aa2d=a0_0x567640;this[_0x39aa2d(0x473)]=_0x5ac120;}[a0_0x567640(0x2b0)](){var _0x62cce0=a0_0x567640;this[_0x62cce0(0x473)]();}}class PriorityQueue{constructor(){var _0xd062aa=a0_0x567640;this[_0xd062aa(0x3e6)]=[];}[a0_0x567640(0x25b)](_0x573bba){return 0x2*_0x573bba+0x1;}[a0_0x567640(0x235)](_0x9b5b94){return 0x2*_0x9b5b94+0x2;}['getParentIndex'](_0x403743){var _0x411912=a0_0x567640;return Math[_0x411912(0x47a)]((_0x403743-0x1)/0x2);}[a0_0x567640(0x4ac)](_0x1ec667){var _0x567128=a0_0x567640;return this[_0x567128(0x25b)](_0x1ec667)<this['heap']['length'];}['hasRightChild'](_0x4e25c2){var _0x19fcb6=a0_0x567640;return this[_0x19fcb6(0x235)](_0x4e25c2)<this[_0x19fcb6(0x3e6)][_0x19fcb6(0x240)];}[a0_0x567640(0x37d)](_0x535ab9){var _0x2db66c=a0_0x567640;return this[_0x2db66c(0x3b0)](_0x535ab9)>=0x0;}[a0_0x567640(0x490)](_0x28acd6){var _0x55deea=a0_0x567640;return this[_0x55deea(0x3e6)][this['getLeftChildIndex'](_0x28acd6)];}[a0_0x567640(0x4a4)](_0x1cd314){var _0x246c5d=a0_0x567640;return this[_0x246c5d(0x3e6)][this[_0x246c5d(0x235)](_0x1cd314)];}['parent'](_0x29eb99){return this['heap'][this['getParentIndex'](_0x29eb99)];}['swap'](_0x53a4dd,_0x179db7){var _0x2c9657=a0_0x567640;const _0x16247c=this[_0x2c9657(0x3e6)][_0x53a4dd];this[_0x2c9657(0x3e6)][_0x53a4dd]=this[_0x2c9657(0x3e6)][_0x179db7],this[_0x2c9657(0x3e6)][_0x179db7]=_0x16247c;}['peek'](){var _0x220639=a0_0x567640;return 0x0===this[_0x220639(0x3e6)][_0x220639(0x240)]?null:this[_0x220639(0x3e6)][0x0];}[a0_0x567640(0x361)](){var _0x283dab=a0_0x567640;return 0x0===this[_0x283dab(0x3e6)]['length'];}[a0_0x567640(0x2ca)](){var _0x5a8cdf=a0_0x567640;if(0x0===this['heap'][_0x5a8cdf(0x240)])return null;const _0x53be45=this[_0x5a8cdf(0x3e6)][0x0];return this[_0x5a8cdf(0x3e6)][0x0]=this[_0x5a8cdf(0x3e6)][this[_0x5a8cdf(0x3e6)][_0x5a8cdf(0x240)]-0x1],this[_0x5a8cdf(0x3e6)]['pop'](),this[_0x5a8cdf(0x32e)](),_0x53be45;}['add'](_0x143fc5){var _0x2b55c8=a0_0x567640;this[_0x2b55c8(0x3e6)][_0x2b55c8(0x4b3)](_0x143fc5),this['heapifyUp']();}[a0_0x567640(0x4b0)](){var _0x30befb=a0_0x567640;let _0xd71138=this['heap'][_0x30befb(0x240)]-0x1;for(;this['hasParent'](_0xd71138)&&this[_0x30befb(0x49b)](_0xd71138)[0x1]>this[_0x30befb(0x3e6)][_0xd71138][0x1];)this[_0x30befb(0x22b)](this['getParentIndex'](_0xd71138),_0xd71138),_0xd71138=this['getParentIndex'](_0xd71138);}[a0_0x567640(0x32e)](){var _0x8b2d4d=a0_0x567640;let _0xcbe7c3=0x0;for(;this[_0x8b2d4d(0x4ac)](_0xcbe7c3);){let _0x498cdc=this[_0x8b2d4d(0x25b)](_0xcbe7c3);if(this[_0x8b2d4d(0x4dd)](_0xcbe7c3)&&this['rightChild'](_0xcbe7c3)[0x1]<this[_0x8b2d4d(0x490)](_0xcbe7c3)[0x1]&&(_0x498cdc=this['getRightChildIndex'](_0xcbe7c3)),this[_0x8b2d4d(0x3e6)][_0xcbe7c3][0x1]<this[_0x8b2d4d(0x3e6)][_0x498cdc][0x1])break;this[_0x8b2d4d(0x22b)](_0xcbe7c3,_0x498cdc),_0xcbe7c3=_0x498cdc;}}}window[a0_0x567640(0x22e)](a0_0x567640(0x2f4),getKeyDown,!0x1),window[a0_0x567640(0x22e)]('keyup',getKeyUp,!0x1);var hasInteractedWithWindow=!0x1,isFocused=!0x1,keyboardDisabled=!0x1,upOneStore=-0x1;function getKeyDown(_0x21ec7b){var _0x1c7d67=a0_0x567640;if(isFocused&&!keyboardDisabled){if(0x41==_0x21ec7b['keyCode']&&(player[_0x1c7d67(0x1dd)]=!0x0),0x44==_0x21ec7b[_0x1c7d67(0x35f)]&&(player[_0x1c7d67(0x435)]=!0x0),0x57==_0x21ec7b[_0x1c7d67(0x35f)]&&(player['isMovingUp']=!0x0),0x53==_0x21ec7b[_0x1c7d67(0x35f)]&&(player[_0x1c7d67(0x363)]=!0x0),0x1b==_0x21ec7b[_0x1c7d67(0x35f)]&&(isFocused=!0x1),0x51==_0x21ec7b[_0x1c7d67(0x35f)]&&(hitBox=!hitBox,print=!print,modelTestMode=!modelTestMode,fastMode?upOne--:upOne=Math[_0x1c7d67(0x21a)](upOne-0x1,-0x6),scroll=0x0),0x45==_0x21ec7b[_0x1c7d67(0x35f)]&&(fastMode?upOne++:upOne=Math['min'](upOne+0x1,-0x2),scroll=0x0),_0x21ec7b[_0x1c7d67(0x35f)],0x9==_0x21ec7b['keyCode']){if(_0x21ec7b['preventDefault'](),(activeToolBarItem=activeToolBarItem%(NUM_TOOLBAR_ITEMS+0x1)+0x1)==NUM_TOOLBAR_ITEMS+0x1)return void player[_0x1c7d67(0x1f6)](null);player['setHeldObject'](toolBarList[activeToolBarItem-0x1]);}if(0xc0==_0x21ec7b[_0x1c7d67(0x35f)]){if(tab_lists(),0x0==fQueue[_0x1c7d67(0x361)]())return inFunction=!0x1,fQueue[_0x1c7d67(0x225)](),void(coorSys=vec3(selectXCoor=8.5,selectYCoor=0x4,0x0));(inventory=!inventory)?cursorCoor=vec2(xCoor=0x8,yCoor=4.5):coorSys=vec3(selectXCoor=8.5,selectYCoor=0x4,0x0);}if(0x31==_0x21ec7b['keyCode']){var _0x18a145=new Finder(Math[_0x1c7d67(0x267)](coorSys[0x0]+player[_0x1c7d67(0x246)]-0x9),Math['round'](coorSys[0x1]+player[_0x1c7d67(0x433)]-4.5),-0x3);_0x18a145[_0x1c7d67(0x243)](),enemyArray[_0x1c7d67(0x4b3)](_0x18a145);}0x32==_0x21ec7b[_0x1c7d67(0x35f)]&&(fastMode=!fastMode,tab_lists(),player['checkSpeed']()),0x31==_0x21ec7b[_0x1c7d67(0x35f)]&&(activeToolBarItem=0x1,player[_0x1c7d67(0x1f6)](toolBarList[activeToolBarItem-0x1])),0x32==_0x21ec7b[_0x1c7d67(0x35f)]&&(activeToolBarItem=0x2,player['setHeldObject'](toolBarList[activeToolBarItem-0x1])),0x33==_0x21ec7b[_0x1c7d67(0x35f)]&&(activeToolBarItem=0x3,player[_0x1c7d67(0x1f6)](toolBarList[activeToolBarItem-0x1])),0x34==_0x21ec7b[_0x1c7d67(0x35f)]&&(activeToolBarItem=0x4,player[_0x1c7d67(0x1f6)](toolBarList[activeToolBarItem-0x1])),0x35==_0x21ec7b['keyCode']&&(activeToolBarItem=0x5,player[_0x1c7d67(0x1f6)](toolBarList[activeToolBarItem-0x1])),0x36==_0x21ec7b[_0x1c7d67(0x35f)]&&(activeToolBarItem=0x6,player[_0x1c7d67(0x1f6)](toolBarList[activeToolBarItem-0x1])),0x37==_0x21ec7b[_0x1c7d67(0x35f)]&&(activeToolBarItem=0x7,player[_0x1c7d67(0x1f6)](toolBarList[activeToolBarItem-0x1])),0x38==_0x21ec7b['keyCode']&&(activeToolBarItem=0x0,player[_0x1c7d67(0x1f6)](null)),0x39==_0x21ec7b[_0x1c7d67(0x35f)]&&(activeToolBarItem=0x0,player[_0x1c7d67(0x1f6)](null)),0x30==_0x21ec7b[_0x1c7d67(0x35f)]&&(activeToolBarItem=0x0,player['setHeldObject'](null)),0x50==_0x21ec7b[_0x1c7d67(0x35f)]&&(testView=!testView),0x28==_0x21ec7b[_0x1c7d67(0x35f)]&&(controlledYSpin-=0x3),0x26==_0x21ec7b[_0x1c7d67(0x35f)]&&(controlledYSpin+=0x3),0x27==_0x21ec7b[_0x1c7d67(0x35f)]&&(controlledXSpin+=0x3),0x25==_0x21ec7b['keyCode']&&(controlledXSpin-=0x3);}}function getKeyUp(_0x2862d4){var _0x57595c=a0_0x567640;0x41==_0x2862d4[_0x57595c(0x35f)]&&(player[_0x57595c(0x1dd)]=!0x1),0x44==_0x2862d4['keyCode']&&(player[_0x57595c(0x435)]=!0x1),0x57==_0x2862d4[_0x57595c(0x35f)]&&(player[_0x57595c(0x309)]=!0x1),0x53==_0x2862d4[_0x57595c(0x35f)]&&(player[_0x57595c(0x363)]=!0x1);}function checkHovering(){var _0x37bbb9=a0_0x567640;inDungeon?(null!=(selectedBlock=currentlyHeldObject==NO_ITEM_HELD||currentlyHeldObject==BOW_HELD?currentDungeon['getBlockAt'](Math[_0x37bbb9(0x267)](coorSys[0x0]+player[_0x37bbb9(0x246)]-0x9),Math['round'](coorSys[0x1]+player['posY']-4.5),-0x3):currentDungeon[_0x37bbb9(0x39c)](Math[_0x37bbb9(0x267)](coorSys[0x0]+player[_0x37bbb9(0x246)]-0x9),Math['round'](coorSys[0x1]+player[_0x37bbb9(0x433)]-4.5),upOne))&&selectedBlock[_0x37bbb9(0x279)](),blockOnTopOf=currentDungeon[_0x37bbb9(0x39c)](Math['round'](player[_0x37bbb9(0x246)]),Math[_0x37bbb9(0x267)](player['posY']),-0x2)):(null!=(selectedBlock=currentlyHeldObject==NO_ITEM_HELD||currentlyHeldObject==BOW_HELD?world[_0x37bbb9(0x39c)](Math[_0x37bbb9(0x267)](coorSys[0x0]+player[_0x37bbb9(0x246)]-0x9),Math[_0x37bbb9(0x267)](coorSys[0x1]+player['posY']-4.5),-0x3):world[_0x37bbb9(0x39c)](Math[_0x37bbb9(0x267)](coorSys[0x0]+player[_0x37bbb9(0x246)]-0x9),Math[_0x37bbb9(0x267)](coorSys[0x1]+player[_0x37bbb9(0x433)]-4.5),upOne))&&selectedBlock[_0x37bbb9(0x279)](),blockOnTopOf=world[_0x37bbb9(0x39c)](Math['round'](player['posX']-0.5),Math[_0x37bbb9(0x267)](player[_0x37bbb9(0x433)]-0.5),-0x2));}var transMatrix,yCoor2,cursorCoor=vec2(0x0,0x0),coorSys=vec3(0x0,0x0,0x0),hold=!0x1;function canvasEvents(){var _0x17e8e2=a0_0x567640;canvas[_0x17e8e2(0x22e)](_0x17e8e2(0x3aa),()=>{isFocused=!0x0;}),canvas[_0x17e8e2(0x22e)](_0x17e8e2(0x40b),()=>{isFocused=!0x1;}),canvas[_0x17e8e2(0x22e)](_0x17e8e2(0x367),function(_0x370fde){hold=!0x1;}),canvas[_0x17e8e2(0x22e)](_0x17e8e2(0x46c),function(_0xca553c){}),canvas['addEventListener'](_0x17e8e2(0x3ce),function(_0x25d2ad){var _0x3f4414=_0x17e8e2;if(hasInteractedWithWindow||(playMusic(),initAudio(),hasInteractedWithWindow=!0x0),isFocused)switch(_0x25d2ad[_0x3f4414(0x3b9)]){case 0x0:if(click=!0x0,hold=!0x0,null==player['heldObject'])return;if(!inventory&&!inFunction){if(player[_0x3f4414(0x213)][_0x3f4414(0x410)](),fixedView){if(_0x3f4414(0x2b1)===player[_0x3f4414(0x213)][_0x3f4414(0x395)])cursorGreen&&currentDungeon[_0x3f4414(0x3c7)](player[_0x3f4414(0x213)]['copy'](Math[_0x3f4414(0x267)](coorSys[0x0]+player[_0x3f4414(0x246)]-0x9),Math['round'](coorSys[0x1]+player[_0x3f4414(0x433)]-4.5),upOne))&&(fastMode||(sound_PlaceBlock(player['heldObject']),player[_0x3f4414(0x429)]=!0x0,player['inventory'][_0x3f4414(0x42c)](player['heldObject'])),0x0==fastMode&&0x0==player['inventory'][_0x3f4414(0x294)](player['heldObject'])&&(player['heldObject']=null));}else{if(_0x3f4414(0x2b1)===player['heldObject']['type'])cursorGreen&&world[_0x3f4414(0x3c7)](player['heldObject']['copy'](Math[_0x3f4414(0x267)](coorSys[0x0]+player[_0x3f4414(0x246)]-0x9),Math['round'](coorSys[0x1]+player[_0x3f4414(0x433)]-4.5),upOne))&&(fastMode||(sound_PlaceBlock(player[_0x3f4414(0x213)]),player[_0x3f4414(0x429)]=!0x0,player[_0x3f4414(0x276)][_0x3f4414(0x42c)](player[_0x3f4414(0x213)])),0x0==fastMode&&0x0==player[_0x3f4414(0x276)][_0x3f4414(0x294)](player['heldObject'])&&(player[_0x3f4414(0x213)]=null));}}break;case 0x2:null!=selectedBlock&&selectedBlock[_0x3f4414(0x383)]();}}),canvas[_0x17e8e2(0x22e)](_0x17e8e2(0x367),function(_0xe8131c){click=!0x1;}),canvas[_0x17e8e2(0x22e)](_0x17e8e2(0x2c1),function(_0x3a98f4){var _0x5ae7a4=_0x17e8e2;if(isFocused){if(_0x3a98f4['preventDefault'](),inventory)return scrollCooldown<=0x0&&(_0x3a98f4[_0x5ae7a4(0x2af)]>0x0&&scroll_list_down(),_0x3a98f4[_0x5ae7a4(0x2af)]<0x0&&scroll_list_up()),void(scrollCooldown=0x2);(scroll+=-0.02*_0x3a98f4[_0x5ae7a4(0x2af)])<=-0x1&&(scrollCooldown<=0x0&&(upOne=Math['min'](upOne+0x1,-0x2),scrollCooldown=0x4),scroll=0x0),scroll>=0x1&&(scrollCooldown<=0x0&&(upOne=Math[_0x5ae7a4(0x21a)](upOne-0x1,-0x6),scrollCooldown=0x4),scroll=0x0);}});}var gl,vertices,normals,colours,texCoords,selectedBlock=null,blockOnTopOf=null,selectedBlockCanBeBroken=!0x1;function mouseMoveUpdate(_0x2e85ea){var _0x52c0a8=a0_0x567640;cursorDisplayTimer=0x0,transMatrix=mat4(),xCoor+=_0x2e85ea[_0x52c0a8(0x3cc)]/0x64,yCoor+=-_0x2e85ea['movementY']/0x64,selectXCoor+=_0x2e85ea[_0x52c0a8(0x3cc)]/0x64,selectYCoor+=-_0x2e85ea[_0x52c0a8(0x380)]/0x64/Math['cos'](0.261799),xCoor<=0x0&&(xCoor=0x0),xCoor>=0x10&&(xCoor=0x10),yCoor<=0x0&&(yCoor=0x0),yCoor>=0x9&&(yCoor=0x9),cursorCoor=vec2(xCoor,yCoor),fastMode||(selectXCoor>=10.5&&(selectXCoor=10.5),selectXCoor<=6.5&&(selectXCoor=6.5),selectYCoor>=0x6&&(selectYCoor=0x6),selectYCoor<=0x2&&(selectYCoor=0x2)),coorSys=vec3(selectXCoor,selectYCoor,0x0);}function updateUpOne(){}function pushvs(_0x5a5231,_0x5de62b,_0x5ae4b4,_0x4ab191){var _0x6affb=a0_0x567640;vertices[_0x6affb(0x4b3)](_0x5a5231),vertices[_0x6affb(0x4b3)](_0x5de62b),vertices['push'](_0x5ae4b4);for(var _0x4418a8=0x0;_0x4418a8<0x3;_0x4418a8++)colours[_0x6affb(0x4b3)](_0x4ab191),texCoords[_0x6affb(0x4b3)](vec2(0x2,0x2));var _0x534296=cross(subtract(_0x5de62b,_0x5a5231),subtract(_0x5a5231,_0x5ae4b4));_0x534296=vec3(_0x534296);for(_0x4418a8=0x0;_0x4418a8<0x3;_0x4418a8++)normals[_0x6affb(0x4b3)](_0x534296);return 0x3;}function buildArbQuadrilateral(_0x42f62e,_0x43a97b,_0x791faa,_0x5024d8,_0x468ffa){return v1=vec3(_0x42f62e[0x0],_0x42f62e[0x1],_0x42f62e[0x2]),v2=vec3(_0x43a97b[0x0],_0x43a97b[0x1],_0x43a97b[0x2]),v3=vec3(_0x791faa[0x0],_0x791faa[0x1],_0x791faa[0x2]),v4=vec3(_0x5024d8[0x0],_0x5024d8[0x1],_0x5024d8[0x2]),pushvs(_0x42f62e,_0x43a97b,_0x5024d8,_0x468ffa),pushvs(_0x791faa,_0x5024d8,_0x43a97b,_0x468ffa),0x6;}function buildArbQuadrilateralXY(_0x150eeb,_0x3b0689,_0x212780,_0x5173dc,_0x3b8e18,_0x269374){return v1=vec3(_0x150eeb[0x0],_0x150eeb[0x1],_0x3b8e18),v2=vec3(_0x3b0689[0x0],_0x3b0689[0x1],_0x3b8e18),v3=vec3(_0x212780[0x0],_0x212780[0x1],_0x3b8e18),v4=vec3(_0x5173dc[0x0],_0x5173dc[0x1],_0x3b8e18),pushvs(v1,v2,v4,_0x269374),pushvs(v3,v4,v2,_0x269374),0x6;}function buildArbQuadrilateralXZ(_0x408897,_0x1f76d7,_0x5c18d4,_0x275c7b,_0xc61139,_0xed6f67){return v1=vec3(_0x408897[0x0],_0xc61139,_0x408897[0x1]),v2=vec3(_0x1f76d7[0x0],_0xc61139,_0x1f76d7[0x1]),v3=vec3(_0x5c18d4[0x0],_0xc61139,_0x5c18d4[0x1]),v4=vec3(_0x275c7b[0x0],_0xc61139,_0x275c7b[0x1]),pushvs(v1,v2,v4,_0xed6f67),pushvs(v3,v4,v2,_0xed6f67),0x6;}function buildArbQuadrilateralYZ(_0x4a65cf,_0xc33328,_0x20f274,_0x577167,_0x1d63d6,_0x9e62f9){return v1=vec3(_0x1d63d6,_0x4a65cf[0x0],_0x4a65cf[0x1]),v2=vec3(_0x1d63d6,_0xc33328[0x0],_0xc33328[0x1]),v3=vec3(_0x1d63d6,_0x20f274[0x0],_0x20f274[0x1]),v4=vec3(_0x1d63d6,_0x577167[0x0],_0x577167[0x1]),pushvs(v1,v2,v4,_0x9e62f9),pushvs(v3,v4,v2,_0x9e62f9),0x6;}function buildRectangleXY(_0x57505b,_0x12c5f5,_0x50146e,_0x2c2874,_0x51ee1f,_0x584a3b){return v1=vec3(_0x57505b,_0x12c5f5,_0x51ee1f),v2=vec3(_0x50146e,_0x12c5f5,_0x51ee1f),v3=vec3(_0x50146e,_0x2c2874,_0x51ee1f),v4=vec3(_0x57505b,_0x2c2874,_0x51ee1f),pushvs(v1,v2,v4,_0x584a3b),pushvs(v3,v4,v2,_0x584a3b),0x6;}function buildRectangleXZ(_0x2ab046,_0x363748,_0x4f72c1,_0x182858,_0x67c6c6,_0xa47027){return v1=vec3(_0x2ab046,_0x67c6c6,_0x363748),v2=vec3(_0x4f72c1,_0x67c6c6,_0x363748),v3=vec3(_0x4f72c1,_0x67c6c6,_0x182858),v4=vec3(_0x2ab046,_0x67c6c6,_0x182858),pushvs(v1,v2,v4,_0xa47027),pushvs(v3,v4,v2,_0xa47027),0x6;}function buildRectangleYZ(_0x3c1c96,_0x146084,_0x3034c6,_0x1922e9,_0x930ff9,_0x5017ef){return v1=vec3(_0x930ff9,_0x3c1c96,_0x146084),v2=vec3(_0x930ff9,_0x3c1c96,_0x1922e9),v3=vec3(_0x930ff9,_0x3034c6,_0x1922e9),v4=vec3(_0x930ff9,_0x3034c6,_0x146084),pushvs(v1,v2,v4,_0x5017ef),pushvs(v3,v4,v2,_0x5017ef),0x6;}function buildRectangularPrism(_0x38dc83,_0x9babcd,_0x168d22,_0x9ad3c0,_0x526f3c,_0x26c3f4,_0x3cfe39){var _0x2839b7=0x0;return _0x2839b7+=buildRectangleXY(_0x38dc83,_0x9babcd,_0x9ad3c0,_0x526f3c,_0x168d22,_0x3cfe39),_0x2839b7+=buildRectangleXY(_0x38dc83,_0x9babcd,_0x9ad3c0,_0x526f3c,_0x26c3f4,_0x3cfe39),_0x2839b7+=buildRectangleXZ(_0x38dc83,_0x168d22,_0x9ad3c0,_0x26c3f4,_0x9babcd,_0x3cfe39),_0x2839b7+=buildRectangleXZ(_0x38dc83,_0x168d22,_0x9ad3c0,_0x26c3f4,_0x526f3c,_0x3cfe39),_0x2839b7+=buildRectangleYZ(_0x9babcd,_0x168d22,_0x526f3c,_0x26c3f4,_0x38dc83,_0x3cfe39),_0x2839b7+=buildRectangleYZ(_0x9babcd,_0x168d22,_0x526f3c,_0x26c3f4,_0x9ad3c0,_0x3cfe39);}var modelViewMatrix,modelViewMatrixLoc,viewMatrix,viewMatrixFixed,viewMatrixUI,projectionMatrix,projectionMatrixLoc,removeBlock,player,drawDistanceX,drawDistanceY,sColor,sMatrix,sMatrixForPlayer,shadowMatrixLoc,texture,tetraVerts=0x0,tiles=[],blocks=[],ceilingBlocks=[],hitBox=!0x1,xCoor=0x8,yCoor=0x4,zCoor=-0x2,selectXCoor=8.5,selectYCoor=0x4,inventory=!0x1,click=!0x1,lightPosition=vec4(0x0,0x0,-0.4,0x1),lightAmbient=vec4(0.9,0.9,0.9,0x1),lightDiffuse=vec4(0.7,0.7,0.7,0x1),lightSpecular=vec4(0.6,0.6,0.6,0x1),materialAmbient=vec4(0.8,0.8,0.8,0x1),materialDiffuse=vec4(0.6,0.6,0.6,0.5),materialSpecular=vec4(0.5,0.5,0.5,0x1),materialShininess=0x64,playerAmbient=vec4(0x1,0x1,0x1,0x1),ambientProductPlayer=vec4(0.8,0.8,0.8,0.8),ambientProduct=mult(lightAmbient,materialAmbient),diffuseProduct=mult(lightDiffuse,materialDiffuse),specularProduct=mult(lightSpecular,materialSpecular),lPosition=vec4(0x0,0x0,-0.7,0x1),lPositionForPlayer=vec4(0x0,-0.1,-0x2,0x1),modelTestMode=!0x1,fixedView=!0x0,testView=!0x1,texScale=0x1;const imageSize=0x100,upScaledImageSize=0x300;var textureImage,nQueue,fQueue,pQueue,projectileArray,enemyArray,UACT,worldMade,identityMatrix,texSize=0x100*texScale,cursorGreen=!0x1,blockCursor=!0x0,inFunction=!0x1,activeToolBarItem=0x8,toolBarList=[];const NUM_TOOLBAR_TOOLS=0x3,NUM_TOOLBAR_ITEMS=0x7;var cursorBlockLoc;const cursorFramesToDisappear=0x78;var isParticleLoc,isCeilingLoc,inDungeonLoc,opacityFactorLoc,cursorDisplayTimer=0x78,inDungeon=!0x0,projectileCooldown=0x0,particles=[];let bodycontainer;const FONT=a0_0x567640(0x4a6);function create_image_old(){var _0x190dce=a0_0x567640,_0xdd8dd=document[_0x190dce(0x423)]('myCanvas'),_0x23f5c7=_0xdd8dd[_0x190dce(0x43d)]('2d'),_0x2745c6=document[_0x190dce(0x423)]('scream');_0x23f5c7[_0x190dce(0x3c4)](_0x2745c6,0x0,0x0);var _0x523026=_0x23f5c7[_0x190dce(0x4a7)](0x0,0x0,_0xdd8dd[_0x190dce(0x34e)],_0xdd8dd[_0x190dce(0x217)]);textureImage=new Uint8Array(0x4*texSize*texSize);for(var _0x5cf592=0x0,_0x346f12=0x0;_0x346f12<0x100;_0x346f12++)for(var _0x2618b1=0x0;_0x2618b1<0x100;_0x2618b1++)for(var _0x389d70=0x0;_0x389d70<0x4;_0x389d70++)textureImage[_0x5cf592]=_0x523026['data'][_0x5cf592],_0x5cf592+=0x1;}function convert_image_to_3D(_0x3cc15e,_0x11cb57,_0x10fe92,_0x32968a=0x4){var _0x1c17b5=a0_0x567640;let _0x49b404=[];for(let _0xcaaca3=0x0;_0xcaaca3<_0x11cb57;_0xcaaca3++){let _0x1a93f2=[];for(let _0x237e9f=0x0;_0x237e9f<_0x10fe92;_0x237e9f++){let _0x3246e0=[];for(let _0x574447=0x0;_0x574447<_0x32968a;_0x574447++)_0x3246e0[_0x1c17b5(0x4b3)](0x0);_0x1a93f2[_0x1c17b5(0x4b3)](_0x3246e0);}_0x49b404[_0x1c17b5(0x4b3)](_0x1a93f2);}for(let _0x373b69=0x0;_0x373b69<_0x11cb57*_0x10fe92*_0x32968a;_0x373b69++){var _0x597c11=Math[_0x1c17b5(0x47a)](_0x373b69/(_0x10fe92*_0x32968a)),_0x58bb01=Math['floor'](_0x373b69/_0x32968a%_0x10fe92),_0xb45095=_0x373b69%0x4;_0x49b404[_0x597c11][_0x58bb01][_0xb45095]=_0x3cc15e[_0x373b69];}return _0x49b404;}function tile_image_3by3(_0x2c755a,_0x463788,_0x3f5048,_0x237b1b=0x4,_0xaaf62f=0x20){var _0x12c1be=a0_0x567640,_0x4006cd=[],_0x1631dc=0x4*_0x463788,_0x51a1dd=0x4*_0x3f5048;for(let _0x2118da=0x0;_0x2118da<_0x1631dc;_0x2118da++){let _0x30703f=[];for(let _0x2b2bef=0x0;_0x2b2bef<_0x51a1dd;_0x2b2bef++){for(let _0x1da326=0x0;_0x1da326<_0x237b1b;_0x1da326++);_0x30703f[_0x12c1be(0x4b3)]([0x100,0x100,0x100,0x100]);}_0x4006cd[_0x12c1be(0x4b3)](_0x30703f);}for(let _0x265210=0x0;_0x265210<_0x463788;_0x265210++)for(let _0x2708fa=0x0;_0x2708fa<_0x3f5048;_0x2708fa++){var _0x5f4976=_0x265210%_0xaaf62f+Math[_0x12c1be(0x47a)](_0x265210/_0xaaf62f)*_0xaaf62f*0x3,_0x33b96b=_0x2708fa%_0xaaf62f+Math[_0x12c1be(0x47a)](_0x2708fa/_0xaaf62f)*_0xaaf62f*0x3;_0x4006cd[_0x5f4976][_0x33b96b]=_0x2c755a[_0x265210][_0x2708fa],_0x4006cd[_0x5f4976+_0xaaf62f][_0x33b96b]=_0x2c755a[_0x265210][_0x2708fa],_0x4006cd[_0x5f4976+0x2*_0xaaf62f][_0x33b96b]=_0x2c755a[_0x265210][_0x2708fa],_0x4006cd[_0x5f4976][_0x33b96b+_0xaaf62f]=_0x2c755a[_0x265210][_0x2708fa],_0x4006cd[_0x5f4976][_0x33b96b+0x2*_0xaaf62f]=_0x2c755a[_0x265210][_0x2708fa],_0x4006cd[_0x5f4976+_0xaaf62f][_0x33b96b+_0xaaf62f]=_0x2c755a[_0x265210][_0x2708fa],_0x4006cd[_0x5f4976+_0xaaf62f][_0x33b96b+0x2*_0xaaf62f]=_0x2c755a[_0x265210][_0x2708fa],_0x4006cd[_0x5f4976+0x2*_0xaaf62f][_0x33b96b+_0xaaf62f]=_0x2c755a[_0x265210][_0x2708fa],_0x4006cd[_0x5f4976+0x2*_0xaaf62f][_0x33b96b+0x2*_0xaaf62f]=_0x2c755a[_0x265210][_0x2708fa];}return _0x4006cd;}function convert_image_to_1D(_0x166e24,_0x3de66d,_0x38d496,_0x3511fc=0x4){let _0x4db8d6=new Uint8Array(_0x3511fc*_0x3de66d*_0x38d496);for(var _0x909f77=0x0,_0x34c2e3=0x0;_0x34c2e3<_0x3de66d;_0x34c2e3++)for(var _0x253844=0x0;_0x253844<_0x38d496;_0x253844++)for(var _0x5aa084=0x0;_0x5aa084<0x4;_0x5aa084++)_0x4db8d6[_0x909f77]=_0x166e24[_0x34c2e3][_0x253844][_0x5aa084],_0x909f77+=0x1;return _0x4db8d6;}function create_image(){var _0x4c9756=a0_0x567640,_0x33d0d2=document[_0x4c9756(0x423)](_0x4c9756(0x29e)),_0x3c5e94=_0x33d0d2[_0x4c9756(0x43d)]('2d'),_0x49dec2=document[_0x4c9756(0x423)](_0x4c9756(0x431));_0x3c5e94[_0x4c9756(0x3c4)](_0x49dec2,0x0,0x0);var _0x4533c3=_0x3c5e94[_0x4c9756(0x4a7)](0x0,0x0,_0x33d0d2[_0x4c9756(0x34e)],_0x33d0d2[_0x4c9756(0x217)]);textureImage=new Uint8Array(0x4*texSize*texSize);for(var _0x2b2068=0x0,_0xee63e4=0x0;_0xee63e4<0x100;_0xee63e4++)for(var _0xc9da81=0x0;_0xc9da81<0x100;_0xc9da81++)for(var _0x542ffb=0x0;_0x542ffb<0x4;_0x542ffb++)textureImage[_0x2b2068]=_0x4533c3['data'][_0x2b2068],_0x2b2068+=0x1;let _0x5e15a2=convert_image_to_3D(textureImage,texSize,texSize,0x4);_0x5e15a2=tile_image_3by3(_0x5e15a2,texSize,texSize,0x4),delete textureImage,textureImage=convert_image_to_1D(_0x5e15a2,0x4*texSize,0x4*texSize),delete imdData,delete _0x5e15a2;}function displayImage3DArray(_0x5b07f3,_0x2360a7,_0x41696f){var _0x141aa0=a0_0x567640;const _0x1abdb7=document[_0x141aa0(0x423)](_0x141aa0(0x2d0))[_0x141aa0(0x43d)]('2d'),_0x367802=_0x1abdb7[_0x141aa0(0x25a)](_0x2360a7,_0x41696f),_0x18236d=_0x367802['data'];for(let _0x3e0614=0x0;_0x3e0614<_0x41696f;_0x3e0614++)for(let _0x839824=0x0;_0x839824<_0x2360a7;_0x839824++){const _0x58ed12=0x4*(_0x3e0614*_0x2360a7+_0x839824),[_0x33db3e,_0x2de485,_0x2b781b,_0x3c94f8=0xff]=_0x5b07f3[_0x3e0614][_0x839824];_0x18236d[_0x58ed12]=_0x33db3e,_0x18236d[_0x58ed12+0x1]=_0x2de485,_0x18236d[_0x58ed12+0x2]=_0x2b781b,_0x18236d[_0x58ed12+0x3]=_0x3c94f8;}_0x1abdb7[_0x141aa0(0x2a3)](_0x367802,0x0,0x0);}function configure_texture(_0x63b8b5){var _0x40093a=a0_0x567640;texture=gl[_0x40093a(0x2d5)](),gl[_0x40093a(0x28a)](gl['TEXTURE0']),gl['bindTexture'](gl['TEXTURE_2D'],texture),gl[_0x40093a(0x319)](gl[_0x40093a(0x375)],0x0,gl[_0x40093a(0x474)],0x4*texSize,0x4*texSize,0x0,gl[_0x40093a(0x474)],gl[_0x40093a(0x35e)],_0x63b8b5),gl[_0x40093a(0x29f)](gl[_0x40093a(0x375)]),gl[_0x40093a(0x452)](gl[_0x40093a(0x375)],gl[_0x40093a(0x280)],gl['CLAMP_TO_EDGE']),gl[_0x40093a(0x452)](gl[_0x40093a(0x375)],gl['TEXTURE_WRAP_T'],gl[_0x40093a(0x2c2)]),gl[_0x40093a(0x452)](gl[_0x40093a(0x375)],gl['TEXTURE_MIN_FILTER'],gl[_0x40093a(0x321)]),gl[_0x40093a(0x452)](gl[_0x40093a(0x375)],gl['TEXTURE_MAG_FILTER'],gl[_0x40093a(0x2cc)]);}async function lockChangeAlert(){var _0x1bc57b=a0_0x567640;document['pointerLockElement']===canvas||document[_0x1bc57b(0x399)]===canvas?(isFocused=!0x0,resumeMusic(),document[_0x1bc57b(0x22e)]('mousemove',mouseMoveUpdate,!0x1)):(document[_0x1bc57b(0x2f8)](_0x1bc57b(0x3dd),mouseMoveUpdate,!0x1),isFocused=!0x1,pauseMusic(),canvas[_0x1bc57b(0x40b)](),canvas['classList'][_0x1bc57b(0x2ca)](_0x1bc57b(0x259)));}function computeShadowMatrix(_0x2eae5a,_0x129245){const [_0x283a97,_0x48154b,_0x1ccb6d,_0x4875e3]=_0x2eae5a,[_0x48d769,_0x331bd8,_0x3e1b93,_0x2ec956]=_0x129245,_0x478a97=_0x48d769*_0x283a97+_0x331bd8*_0x48154b+_0x3e1b93*_0x1ccb6d+_0x2ec956*_0x4875e3,_0x140c03=mat4();for(let _0x7bb195=0x0;_0x7bb195<0x4;++_0x7bb195)for(let _0x2f07f1=0x0;_0x2f07f1<0x4;++_0x2f07f1)_0x140c03[_0x7bb195][_0x2f07f1]=((_0x7bb195===_0x2f07f1?_0x478a97:0x0)-_0x2eae5a[_0x7bb195]*_0x129245[_0x2f07f1])/_0x478a97;return _0x140c03;}var woodStart,testStart,weirdStart,grassStart,dirtStart,woodLogStart,woodBranchStart,stoneBlockStart,doorStart,dungeonCeilingStart,axeStart,pickaxeStart,bowStart,arrowStart,arrowHB,dropBoxStart,brickStart;coorSys=[8.5,0x4],window[a0_0x567640(0x3f6)]=function(){var _0x26bf4b=a0_0x567640;bodycontainer=document['getElementById']('body'),identityMatrix=mat4(),worldMade=!0x1,UACT=0.001,lastPos=[0x7d,0x7d],sMatrix=computeShadowMatrix(lPosition,vec4(0x0,0x0,0x1,0.201)),sMatrixForPlayer=computeShadowMatrix(lPositionForPlayer,vec4(0x0,0x0,0x1,0.201)),create_image(),canvas=document[_0x26bf4b(0x423)](_0x26bf4b(0x3ab)),textCanvas=document[_0x26bf4b(0x423)](_0x26bf4b(0x2ac)),context=textCanvas[_0x26bf4b(0x43d)]('2d'),context['fillStyle']=_0x26bf4b(0x2fd),context[_0x26bf4b(0x1df)](0x0,0x0,context['canvas'][_0x26bf4b(0x34e)],context[_0x26bf4b(0x25e)][_0x26bf4b(0x217)]),context['font']=_0x26bf4b(0x1ff)+FONT,(gl=WebGLUtils[_0x26bf4b(0x409)](canvas,{'stencil':!0x0,'alpha':!0x1,'premultipliedAlpha':!0x1}))||alert(_0x26bf4b(0x25d)),canvasEvents(),document[_0x26bf4b(0x2b3)]=document[_0x26bf4b(0x2b3)]||document['mozExitPointerLock'],canvas[_0x26bf4b(0x2fb)]=async function(){await canvas['requestPointerLock']();},document[_0x26bf4b(0x22e)]('pointerlockchange',lockChangeAlert,!0x1),document[_0x26bf4b(0x22e)](_0x26bf4b(0x44d),lockChangeAlert,!0x1),gl[_0x26bf4b(0x1f0)](0x0,0x0,canvas[_0x26bf4b(0x34e)],canvas[_0x26bf4b(0x217)]),gl[_0x26bf4b(0x4ce)](0.1,0.1,0.1,0x1),gl[_0x26bf4b(0x494)](gl[_0x26bf4b(0x1e0)]),gl['depthFunc'](gl[_0x26bf4b(0x325)]),gl['polygonOffset'](0x0,0x0),gl[_0x26bf4b(0x494)](gl['BLEND']),gl[_0x26bf4b(0x4d6)](gl[_0x26bf4b(0x411)]),gl['blendFunc'](gl[_0x26bf4b(0x322)],gl[_0x26bf4b(0x379)]),gl['enable'](gl[_0x26bf4b(0x2f3)]),gl[_0x26bf4b(0x459)](0x0),vertices=[],normals=[],colours=[],texCoords=[],player=new Player(0xa,0xa,-0x6),program=initShaders(gl,'vertex-shader',_0x26bf4b(0x307)),gl[_0x26bf4b(0x428)](program),modelViewMatrixLoc=gl[_0x26bf4b(0x230)](program,_0x26bf4b(0x23a)),modelViewMatrix=mult(modelViewMatrix=translate(0x0,0x0,0x0),scale4(0.125,0x1/4.5,0.1)),modelViewMatrix=mult(modelViewMatrix,translate(-0x8,-4.5,0x0)),projectionMatrixLoc=gl[_0x26bf4b(0x230)](program,'projectionMatrix'),projectionMatrix=mat4(),shadowMatrixLoc=gl[_0x26bf4b(0x230)](program,_0x26bf4b(0x21c)),sColor=gl['getUniformLocation'](program,_0x26bf4b(0x219)),gl['uniform4fv'](sColor,flatten(vec4(0x1,0x1,0x1,0x1))),particleColorLoc=gl['getUniformLocation'](program,_0x26bf4b(0x2c8)),gl[_0x26bf4b(0x45d)](particleColorLoc,flatten(vec4(0x1,0x0,0x0,0x1))),opacityFactorLoc=gl[_0x26bf4b(0x230)](program,_0x26bf4b(0x4d2)),gl[_0x26bf4b(0x495)](opacityFactorLoc,0x0),testView||(projectionMatrix=mat4(0.75,0x0,0x0,0x0,0x0,0.75,0x0,0x0,0x0,0x0,0x1,0x0,0x0,0x0,0x1,0x1),projectionMatrix=mult(projectionMatrix=mat4(0.75,0x0,0x0,0x0,0x0,0.75,0x0,0x0,0x0,0x0,0.75,0x0,0x0,0x0,0x1,0x1),rotateX(0xf)),projectionMatrix=mult(projectionMatrix,translate(0x0,0.25,0.25))),send_data_to_GPU(),nQueue=new NotificationQueue(),fQueue=new Queue(),pQueue=new Queue(),projectileArray=new ProperArray(),enemyArray=new ProperArray();var _0x432cee=new WoodAxe();player[_0x26bf4b(0x2b9)](_0x432cee),toolBarList[_0x26bf4b(0x4b3)](_0x432cee);var _0x453daf=new StonePickaxe();player[_0x26bf4b(0x2b9)](_0x453daf),toolBarList[_0x26bf4b(0x4b3)](_0x453daf);var _0x44e605=new WoodenBow();player['addToInventory'](_0x44e605),toolBarList[_0x26bf4b(0x4b3)](_0x44e605);var _0x2b9ee7=new WorkBench();player['addToInventory'](_0x2b9ee7),toolBarList[_0x26bf4b(0x4b3)](_0x2b9ee7);var _0x4f8111=new WorkBenchRecipe();player[_0x26bf4b(0x2b9)](_0x4f8111),player[_0x26bf4b(0x2b9)](new DirtBlock()),player['addToInventory'](new BrickBlock());var _0x5cac33=new DropBox(null,null,null,[new WorkBench(),new StonePickaxe(),new DirtBlock(),new GrassBlock(),new WeirdBlock(),new GrassBlock(),new WoodBlock(),new WoodBlock(),new GrassBlock()]);player[_0x26bf4b(0x2b9)](_0x5cac33),toolBarList[_0x26bf4b(0x4b3)](_0x5cac33);for(let _0x30a7ce=0x0;_0x30a7ce<0x4;_0x30a7ce++)toolBarList[_0x26bf4b(0x4b3)](null);cursorBlockLoc=gl[_0x26bf4b(0x230)](program,_0x26bf4b(0x2fe)),gl['uniform1i'](cursorBlockLoc,!0x1),isParticleLoc=gl[_0x26bf4b(0x230)](program,_0x26bf4b(0x2ea)),gl[_0x26bf4b(0x203)](isParticleLoc,!0x1),isCeilingLoc=gl['getUniformLocation'](program,_0x26bf4b(0x4af)),gl['uniform1i'](isCeilingLoc,!0x1),inDungeonLoc=gl[_0x26bf4b(0x230)](program,'inDungeon'),gl[_0x26bf4b(0x203)](inDungeonLoc,!0x1),universalEnemyId=0x0,viewMatrix=mult(viewMatrix=translate(0x1,0x1,0x0),scale4(0.125,0x1/4.5,0.1)),viewMatrix=mult(viewMatrix,translate(-0x8,-4.5,0x0)),viewMatrixUI=mult(viewMatrixUI=translate(-0x1,0x0,0x0),scale4(0.125,0x1/4.5,0.1)),viewMatrixUI=mult(viewMatrixUI,translate(0x0,-4.5,0x0)),set_toolbar_matrices(),requestAnimationFrame(render);};var lastByte,numberOfBytes,simpleBlocks=[];function send_block(){var _0x47829c=a0_0x567640;woodStart=vertices['length'],sendWood=new WoodBlock(),sendWood[_0x47829c(0x27a)](),testStart=vertices[_0x47829c(0x240)],sendTest=new TestBlock(),sendTest[_0x47829c(0x27a)](),initialize_simpleBlocks();for(let _0x3fb679=0x0;_0x3fb679<simpleBlocks[_0x47829c(0x240)];_0x3fb679++)simpleBlocks[_0x3fb679]['index']=vertices[_0x47829c(0x240)],simpleBlocks[_0x3fb679][_0x47829c(0x27a)]();dirtStart=vertices[_0x47829c(0x240)],sendDirt=new DirtBlock(),sendDirt['sendData'](),woodLogStart=vertices[_0x47829c(0x240)],sendWoodLog=new WoodLog(),sendWoodLog[_0x47829c(0x27a)](),woodBranchStart=vertices[_0x47829c(0x240)],sendWoodBranch=new WoodBranch(),sendWoodBranch[_0x47829c(0x27a)](),stoneBlockStart=vertices[_0x47829c(0x240)],sendStoneBlock=new StoneBlock(),sendStoneBlock[_0x47829c(0x27a)](),doorStart=vertices[_0x47829c(0x240)],sendDoor=new Door(),sendDoor['sendData'](),dungeonCeilingStart=vertices[_0x47829c(0x240)],sendDungeonCeiling=new DungeonCeiling(),sendDungeonCeiling[_0x47829c(0x27a)](),axeStart=vertices[_0x47829c(0x240)],sendWoodAxe=new WoodAxe(),sendWoodAxe[_0x47829c(0x27a)](),pickaxeStart=vertices[_0x47829c(0x240)],sendPickaxe=new StonePickaxe(),sendPickaxe[_0x47829c(0x27a)](),bowStart=vertices[_0x47829c(0x240)],sendBow=new WoodenBow(),sendBow[_0x47829c(0x27a)](),arrowStart=vertices[_0x47829c(0x240)],sendArrow=new Arrow(0x0,0x0),sendArrow['sendData'](),arrowHB=vertices['length'],sendArrow[_0x47829c(0x1db)](),dropBoxStart=vertices['length'],new DropBox()['sendData']();}function clear(){vertices=[],normals=[],vertCoords=[],colours=[],blocks=[];}var cursorBlock,startPositionOfGreenWireframe,totalVerticesOfGreenWireframe,particleStart,undeadHitboxStart,undeadHitboxSize,pX,pY,pZ,bX,bY,bZ,allBlocks,drawBlocks,leftBlocks,rightBlocks,upBlocks,downBlocks,numberOfByte=[],cursorBytes=[],bowVectorStart=0x0,enemyVertices=[],enemyHitboxVertices=[];function send_data_to_GPU(){var _0x3c3fc6=a0_0x567640;clear(),init_player(),gl[_0x3c3fc6(0x3d2)](0x1),player['sendData'](),send_block(),bowVectorStart=vertices[_0x3c3fc6(0x240)],make_bow_vector(),lastByte=vertices[_0x3c3fc6(0x240)],push_wireframe_indices(vec3(-0.25,-0.25,3.9),vec3(0.25,0.25,1.25)),numberOfBytes=add_collision_bound(),numberOfByte[0x0]=vertices[_0x3c3fc6(0x240)],push_wireframe_indices(vec3(0x0,0x0,0x0),vec3(0x1,0x1,0x1)),numberOfByte[0x1]=vertices[_0x3c3fc6(0x240)]-numberOfByte[0x0],numberOfByte[0x2]=vertices['length'],build_inventory(),numberOfByte[0x3]=vertices[_0x3c3fc6(0x240)]-numberOfByte[0x2],build_interface(),startPositionOfGreenWireframe=vertices[_0x3c3fc6(0x240)],push_wireframe_indices(vec3(-0.0125,-0.0125,-0.0125),vec3(1.0125,1.0125,1.0125),vec4(0.5,0x1,0.25,0.5)),totalVerticesOfGreenWireframe=vertices[_0x3c3fc6(0x240)]-startPositionOfGreenWireframe,cursorBytes[_0x3c3fc6(0x4b3)]([vertices[_0x3c3fc6(0x240)],null]),vertices[_0x3c3fc6(0x4b3)](vec3(0.5,0.5,0x0)),colours[_0x3c3fc6(0x4b3)](vec4(0x1,0x1,0x1,0x1)),texCoords['push'](vec2(0x2,0x2)),normals[_0x3c3fc6(0x4b3)](vec3(0x0,0x0,0x0)),cursorBytes[0x0][0x1]=vertices[_0x3c3fc6(0x240)]-cursorBytes[0x0][0x0],cursorBytes[_0x3c3fc6(0x4b3)]([vertices[_0x3c3fc6(0x240)],0x0]),build_cursor_lines_green(),cursorBytes[0x1][0x1]=vertices[_0x3c3fc6(0x240)]-cursorBytes[0x1][0x0],cursorBytes[_0x3c3fc6(0x4b3)]([vertices['length'],0x0]),build_cursor_lines_red(),cursorBytes[0x2][0x1]=vertices[_0x3c3fc6(0x240)]-cursorBytes[0x2][0x0],cursorBytes['push']([vertices[_0x3c3fc6(0x240)],0x0]),build_thick_wireframe(0x1,vec4(0.2,0x1,0.4,0x1),vec4(0x0,0x1,0x0,0.3)),cursorBytes[0x3][0x1]=vertices[_0x3c3fc6(0x240)]-cursorBytes[0x3][0x0],cursorBytes[_0x3c3fc6(0x4b3)]([vertices[_0x3c3fc6(0x240)],0x0]),build_thick_wireframe(0x1,vec4(0x1,0x0,0x0,0x1),vec4(0x1,0x0,0x0,0.3)),cursorBytes[0x4][0x1]=vertices[_0x3c3fc6(0x240)]-cursorBytes[0x4][0x0],particleStart=vertices[_0x3c3fc6(0x240)],vertices[_0x3c3fc6(0x4b3)](vec3(0.5,0.5,0x0)),colours[_0x3c3fc6(0x4b3)](vec4(0x0,0x0,0x0,0x1)),texCoords[_0x3c3fc6(0x4b3)](vec2(0x2,0x2)),normals[_0x3c3fc6(0x4b3)](vec3(0x0,0x0,0x0)),undeadHitboxStart=vertices['length'],push_wireframe_indices(undeadHitboxBounds[0x0],undeadHitboxBounds[0x1]),undeadHitboxSize=vertices[_0x3c3fc6(0x240)]-undeadHitboxStart;let _0x57e7a8=[new Roller(),new Finder()];for(let _0x46b7b8=0x0;_0x46b7b8<_0x57e7a8['length'];_0x46b7b8++)enemyVertices[_0x3c3fc6(0x4b3)]([vertices['length'],0x0]),_0x57e7a8[_0x46b7b8][_0x3c3fc6(0x27a)](),enemyVertices[_0x46b7b8][0x1]=vertices[_0x3c3fc6(0x240)]-enemyVertices[_0x46b7b8][0x0];for(let _0x813b37=0x0;_0x813b37<_0x57e7a8[_0x3c3fc6(0x240)];_0x813b37++)enemyHitboxVertices[_0x3c3fc6(0x4b3)]([vertices[_0x3c3fc6(0x240)],0x0]),_0x57e7a8[_0x813b37][_0x3c3fc6(0x49e)](),enemyHitboxVertices[_0x813b37][0x1]=vertices[_0x3c3fc6(0x240)]-enemyHitboxVertices[_0x813b37][0x0];bind_and_send(),0x0==worldMade&&(worldMade=!0x0,make_world()),init_world(),get_scene(),removeBlock=new NullifierBlock();}function push_wireframe_indices(_0x43510a,_0x428b3f,_0x53359b=vec4(0x1,0x0,0x0,0.75)){var _0x12d768=a0_0x567640,_0x3702d8=[];_0x3702d8[0x0]=vec3(_0x43510a[0x0],_0x43510a[0x1],_0x43510a[0x2]),_0x3702d8[0x1]=vec3(_0x428b3f[0x0],_0x43510a[0x1],_0x43510a[0x2]),_0x3702d8[0x2]=vec3(_0x428b3f[0x0],_0x428b3f[0x1],_0x43510a[0x2]),_0x3702d8[0x3]=vec3(_0x43510a[0x0],_0x428b3f[0x1],_0x43510a[0x2]),_0x3702d8[0x4]=vec3(_0x43510a[0x0],_0x43510a[0x1],_0x428b3f[0x2]),_0x3702d8[0x5]=vec3(_0x428b3f[0x0],_0x43510a[0x1],_0x428b3f[0x2]),_0x3702d8[0x6]=vec3(_0x428b3f[0x0],_0x428b3f[0x1],_0x428b3f[0x2]),_0x3702d8[0x7]=vec3(_0x43510a[0x0],_0x428b3f[0x1],_0x428b3f[0x2]);for(var _0x4fa7a6=[_0x3702d8[0x0],_0x3702d8[0x1],_0x3702d8[0x1],_0x3702d8[0x2],_0x3702d8[0x2],_0x3702d8[0x3],_0x3702d8[0x3],_0x3702d8[0x0],_0x3702d8[0x4],_0x3702d8[0x5],_0x3702d8[0x5],_0x3702d8[0x6],_0x3702d8[0x6],_0x3702d8[0x7],_0x3702d8[0x7],_0x3702d8[0x4],_0x3702d8[0x0],_0x3702d8[0x4],_0x3702d8[0x1],_0x3702d8[0x5],_0x3702d8[0x2],_0x3702d8[0x6],_0x3702d8[0x3],_0x3702d8[0x7]],_0xfa8e27=0x0;_0xfa8e27<_0x4fa7a6['length'];_0xfa8e27++)vertices['push'](_0x4fa7a6[_0xfa8e27]),colours[_0x12d768(0x4b3)](_0x53359b),texCoords[_0x12d768(0x4b3)](vec2(0x2,0x2)),normals['push'](vec3(0x0,0x0,0x0));}function push_cube_indices(_0xefd532,_0x240c84,_0x383bbd=vec4(0x1,0x0,0x0,0x1)){var _0x2fb105=a0_0x567640,_0xa313d5=[];_0xa313d5[0x0]=vec3(_0xefd532[0x0],_0xefd532[0x1],_0xefd532[0x2]),_0xa313d5[0x1]=vec3(_0x240c84[0x0],_0xefd532[0x1],_0xefd532[0x2]),_0xa313d5[0x2]=vec3(_0x240c84[0x0],_0x240c84[0x1],_0xefd532[0x2]),_0xa313d5[0x3]=vec3(_0xefd532[0x0],_0x240c84[0x1],_0xefd532[0x2]),_0xa313d5[0x4]=vec3(_0xefd532[0x0],_0xefd532[0x1],_0x240c84[0x2]),_0xa313d5[0x5]=vec3(_0x240c84[0x0],_0xefd532[0x1],_0x240c84[0x2]),_0xa313d5[0x6]=vec3(_0x240c84[0x0],_0x240c84[0x1],_0x240c84[0x2]),_0xa313d5[0x7]=vec3(_0xefd532[0x0],_0x240c84[0x1],_0x240c84[0x2]);for(var _0x1dc75a=[_0xa313d5[0x0],_0xa313d5[0x1],_0xa313d5[0x2],_0xa313d5[0x2],_0xa313d5[0x2],_0xa313d5[0x3],_0xa313d5[0x3],_0xa313d5[0x0],_0xa313d5[0x4],_0xa313d5[0x5],_0xa313d5[0x5],_0xa313d5[0x6],_0xa313d5[0x6],_0xa313d5[0x7],_0xa313d5[0x7],_0xa313d5[0x4],_0xa313d5[0x0],_0xa313d5[0x4],_0xa313d5[0x1],_0xa313d5[0x5],_0xa313d5[0x2],_0xa313d5[0x6],_0xa313d5[0x3],_0xa313d5[0x7]],_0x54712f=0x0;_0x54712f<_0x1dc75a['length'];_0x54712f++)vertices[_0x2fb105(0x4b3)](_0x1dc75a[_0x54712f]),colours['push'](_0x383bbd),texCoords[_0x2fb105(0x4b3)](vec2(0x2,0x2)),normals[_0x2fb105(0x4b3)](vec3(0x0,0x0,0x0));}function add_collision_bound(){return vertices['length']-lastByte;}function clear_block_col(){var _0x3f60fb=a0_0x567640;allBlocks=[],pX=Math['floor'](player['returnBounds']()[0x0][0x0]),pY=Math[_0x3f60fb(0x47a)](player[_0x3f60fb(0x3ae)]()[0x0][0x1]),pZ=Math['floor'](player[_0x3f60fb(0x3ae)]()[0x0][0x2]);}function add_block_to_draw_list(_0x2f6825,_0x466fd,_0x2dff0d){var _0x51e6d4=a0_0x567640;return bX=_0x2f6825[_0x51e6d4(0x36a)]()[0x0],bY=_0x2f6825['returnPos']()[0x1],bZ=_0x2f6825[_0x51e6d4(0x36a)]()[0x2],DDLeft=pX-this[_0x51e6d4(0x37c)],DDRight=pX+this[_0x51e6d4(0x37c)],DDUp=pY+this[_0x51e6d4(0x427)],DDDown=pY-this[_0x51e6d4(0x427)],pX==bX&&pY==bY||bX<=DDRight&&bX>=DDLeft&&bY<=DDUp&&bY>=DDDown;}function add_block_to_list(_0xbe5985){var _0x2a3cee=a0_0x567640;if(bX=_0xbe5985[_0x2a3cee(0x36a)]()[0x0],bY=_0xbe5985[_0x2a3cee(0x36a)]()[0x1],-0x3==(bZ=_0xbe5985[_0x2a3cee(0x36a)]()[0x2])||-0x4==bZ||-0x1==bZ){if(pX==bX&&pY==bY)return!0x0;if(pX==bX&&(bY==pY+0x1||bY==pY-0x1))return!0x0;if(pX==bX+0x1&&pY==bY+0x1)return!0x0;if(pX==bX+0x1&&pY==bY-0x1)return!0x0;if(pX==bX-0x1&&pY==bY+0x1)return!0x0;if(pX==bX-0x1&&pY==bY-0x1)return!0x0;if(pY==bY&&(bX==pX+0x1||bX==pX-0x1))return!0x0;}return!0x1;}var currentPortion,newPortion,colLeft=!0x1,colRight=!0x1,colUp=!0x1,colDown=!0x1,currentRoom=[0x6,0x3],upOne=-0x3,scroll=0x0,scrollCooldown=0x0,print=!0x1,universalCounter=0x0,blockCounter=0x0;const blockCounterMax=0x78;var updateUnimportantMethods=!0x1,cursorCoordinates=[],frameCount=0x0;let bgX=0x0;function render_data(){var _0x943431=a0_0x567640;(frameCount=(frameCount+0x1)%0x3c,scrollCooldown>0x0&&scrollCooldown--,playPauseCooldown>0x0&&playPauseCooldown--,cursorDisplayTimer<0x78&&(cursorDisplayTimer+=0x1),shiftCoolDown--,shiftTransition--,isShifting&&shiftFixedView(),projectileCooldown>0x0&&projectileCooldown--,hold||(blockCounter=0x0),check_player_action(),universalCounter>=0xf&&(universalCounter=0x0,updateUnimportantMethods=!0x0),updateCursorColour(),update_scene_data(),context['clearRect'](0x0,0x0,context[_0x943431(0x25e)][_0x943431(0x34e)],context[_0x943431(0x25e)][_0x943431(0x217)]),nQueue[_0x943431(0x281)](),drawBlocks=[],fixedView?(drawDistanceX=0x28,drawDistanceY=0x14,modelViewMatrix=viewMatrixFixed):(drawDistanceX=0x14,drawDistanceY=0xa,modelViewMatrix=viewMatrix),set_mv(),0x0==fQueue['isEmpty']()&&fQueue[_0x943431(0x4bb)]()['run'](),inventory&&draw_inventory(),set_light_full(),0x0==pQueue[_0x943431(0x361)]())&&(pQueue['peek']()[_0x943431(0x424)]?pQueue['dequeue']():pQueue[_0x943431(0x4bb)]()[_0x943431(0x41c)]());reset_mv(),reset_pv(),set_light(),clear_block_col(),updateUpOne(),colLeft=!0x1,colRight=!0x1,colUp=!0x1,colDown=!0x1,ambientProductPlayer=vec4(0.9,0.9,0.9,0x1),gl[_0x943431(0x45d)](gl[_0x943431(0x230)](program,'ambientProduct'),flatten(vec4(0.7,0.7,0.7,0x1))),gl[_0x943431(0x45d)](gl['getUniformLocation'](program,_0x943431(0x317)),flatten(vec4(0x0,0x0,-0.1,0x1))),player[_0x943431(0x41c)](),gl[_0x943431(0x45d)](gl[_0x943431(0x230)](program,_0x943431(0x317)),flatten(lightPosition)),gl[_0x943431(0x45d)](gl[_0x943431(0x230)](program,_0x943431(0x23e)),flatten(ambientProduct)),set_mv(fixedView?translate(player[_0x943431(0x246)],player[_0x943431(0x433)],player[_0x943431(0x328)]):translate(0x0,0x0,player['posZ'])),hitBox&&gl[_0x943431(0x20f)](gl[_0x943431(0x1f3)],lastByte,numberOfBytes),fixedView?(modelViewMatrix=viewMatrixFixed,set_mv(translate(player[_0x943431(0x246)],player[_0x943431(0x433)],player[_0x943431(0x328)]))):modelViewMatrix=mult(viewMatrix,translate(-player[_0x943431(0x246)],-player['posY'],0x0)),set_mv(),set_light();var _0x1fbf5f=[];if(0x0==projectileArray[_0x943431(0x361)]()){for(var _0x316a06=0x0;_0x316a06<projectileArray['getLength']();_0x316a06++)0x1==projectileArray['accessElement'](_0x316a06)[_0x943431(0x320)]?_0x1fbf5f['push'](_0x316a06):(projectileArray[_0x943431(0x448)](_0x316a06)['draw'](),projectileArray[_0x943431(0x448)](_0x316a06)['checkCollisions']());for(_0x316a06=0x0;_0x316a06<_0x1fbf5f[_0x943431(0x240)];_0x316a06++)projectileArray[_0x943431(0x2c0)](_0x1fbf5f[_0x316a06]);}if(_0x1fbf5f=[],0x0==enemyArray[_0x943431(0x361)]()){for(_0x316a06=0x0;_0x316a06<enemyArray[_0x943431(0x450)]();_0x316a06++)0x1==enemyArray[_0x943431(0x448)](_0x316a06)[_0x943431(0x292)]||enemyArray[_0x943431(0x448)](_0x316a06)['updatePosition']();for(_0x316a06=0x0;_0x316a06<enemyArray[_0x943431(0x450)]();_0x316a06++)0x1==enemyArray[_0x943431(0x448)](_0x316a06)[_0x943431(0x292)]?_0x1fbf5f['push'](_0x316a06):enemyArray[_0x943431(0x448)](_0x316a06)[_0x943431(0x41c)]();for(_0x316a06=0x0;_0x316a06<_0x1fbf5f[_0x943431(0x240)];_0x316a06++)enemyArray['removeElement'](_0x1fbf5f[_0x316a06]);}for(_0x316a06=0x0;_0x316a06<blocks['length'];_0x316a06++)if(add_block_to_draw_list(blocks[_0x316a06],drawDistanceX,drawDistanceY)&&(blocks[_0x316a06][_0x943431(0x41c)](),add_block_to_list(blocks[_0x316a06]))){var _0x595bd0=colDirection(player,blocks[_0x316a06]);0x0==colRight&&_0x595bd0[RIGHT]&&(_0x943431(0x43a)!=blocks[_0x316a06][_0x943431(0x395)]?(colRight=!0x0,blocks[_0x316a06][_0x943431(0x4a1)]()):(0x200==blocks[_0x316a06][_0x943431(0x44a)]&&shiftCoolDown<=0x0&&(currentRoom=[currentRoom[0x0],currentRoom[0x1]+0x1])[0x1]<gridSize&&(visitedGrid[currentRoom[0x0]][currentRoom[0x1]]=!0x0,viewedGrid[currentRoom[0x0]][currentRoom[0x1]]=!0x1),blocks[_0x316a06][_0x943431(0x4a1)](RIGHT))),0x0==colLeft&&_0x595bd0[LEFT]&&(_0x943431(0x43a)!=blocks[_0x316a06]['type']?(colLeft=!0x0,blocks[_0x316a06][_0x943431(0x4a1)]()):(0x200==blocks[_0x316a06]['objectNumber']&&shiftCoolDown<=0x0&&(currentRoom=[currentRoom[0x0],currentRoom[0x1]-0x1])[0x1]>=0x0&&(visitedGrid[currentRoom[0x0]][currentRoom[0x1]]=!0x0,viewedGrid[currentRoom[0x0]][currentRoom[0x1]]=!0x1),blocks[_0x316a06][_0x943431(0x4a1)](LEFT))),0x0==colUp&&_0x595bd0[TOP]&&(_0x943431(0x43a)!=blocks[_0x316a06][_0x943431(0x395)]?(colUp=!0x0,blocks[_0x316a06][_0x943431(0x4a1)]()):(0x200==blocks[_0x316a06]['objectNumber']&&shiftCoolDown<=0x0&&(currentRoom=[currentRoom[0x0]-0x1,currentRoom[0x1]])[0x0]>=0x0&&(visitedGrid[currentRoom[0x0]][currentRoom[0x1]]=!0x0,viewedGrid[currentRoom[0x0]][currentRoom[0x1]]=!0x1),blocks[_0x316a06][_0x943431(0x4a1)](TOP))),0x0==colDown&&_0x595bd0[BOTTOM]&&(null!=blocks[_0x316a06]&&_0x943431(0x43a)!=blocks[_0x316a06][_0x943431(0x395)]?(colDown=!0x0,blocks[_0x316a06][_0x943431(0x4a1)]()):(null!=blocks[_0x316a06]&&0x200==blocks[_0x316a06]['objectNumber']&&shiftCoolDown<=0x0&&(currentRoom=[currentRoom[0x0]+0x1,currentRoom[0x1]])[0x0]<gridSize&&(visitedGrid[currentRoom[0x0]][currentRoom[0x1]]=!0x0,viewedGrid[currentRoom[0x0]][currentRoom[0x1]]=!0x1),null!=blocks[_0x316a06]&&blocks[_0x316a06][_0x943431(0x4a1)](BOTTOM)));}var _0x1f5162=[],_0x73468=[];for(_0x316a06=0x0;_0x316a06<ceilingBlocks[_0x943431(0x240)];_0x316a06++)if(add_block_to_draw_list(ceilingBlocks[_0x316a06],drawDistanceX,drawDistanceY)){var _0x3c0c30=ceilingBlocks[_0x316a06];_0x3c0c30[_0x943431(0x4af)]?-0x6==_0x3c0c30[_0x943431(0x328)]||-0x7==_0x3c0c30[_0x943431(0x328)]?_0x1f5162[_0x943431(0x4b3)](_0x3c0c30):_0x73468[_0x943431(0x4b3)](_0x3c0c30):_0x3c0c30[_0x943431(0x41c)]();}gl[_0x943431(0x459)](0x0),gl[_0x943431(0x25f)](gl[_0x943431(0x49f)]),gl['enable'](gl[_0x943431(0x2f3)]),gl[_0x943431(0x369)](0xff),gl['stencilFunc'](gl[_0x943431(0x4d5)],0x0,0xff),gl['stencilOp'](gl[_0x943431(0x4cf)],gl[_0x943431(0x4cf)],gl[_0x943431(0x3f7)]),gl[_0x943431(0x45d)](sColor,flatten(vec4(0x0,0x0,0x0,0.4))),gl[_0x943431(0x496)](shadowMatrixLoc,!0x1,flatten(sMatrix));for(_0x316a06=0x0;_0x316a06<blocks[_0x943431(0x240)];_0x316a06++)add_block_to_draw_list(blocks[_0x316a06],drawDistanceX,drawDistanceY)&&blocks[_0x316a06][_0x943431(0x264)]();for(_0x316a06=0x0;_0x316a06<ceilingBlocks[_0x943431(0x240)];_0x316a06++)add_block_to_draw_list(ceilingBlocks[_0x316a06],drawDistanceX,drawDistanceY)&&ceilingBlocks[_0x316a06][_0x943431(0x264)]();if(gl[_0x943431(0x45d)](sColor,flatten(vec4(0x0,0x0,0x0,0.2))),fixedView||(gl[_0x943431(0x496)](shadowMatrixLoc,!0x1,flatten(sMatrixForPlayer)),player[_0x943431(0x264)]()),gl[_0x943431(0x1ef)](gl[_0x943431(0x2f3)]),gl[_0x943431(0x45d)](sColor,flatten(vec4(0x1,0x1,0x1,0x1))),gl[_0x943431(0x496)](projectionMatrixLoc,!0x1,flatten(projectionMatrix)),fastMode?(isStopRight=!0x1,isStopLeft=!0x1,isStopUp=!0x1,isStopDown=!0x1):(isStopRight=!!colRight,isStopLeft=!!colLeft,isStopUp=!!colUp,isStopDown=!!colDown),fixedView?(modelViewMatrix=viewMatrixFixed,set_mv(translate(player[_0x943431(0x246)],player[_0x943431(0x433)],player[_0x943431(0x328)]))):(modelViewMatrix=viewMatrix,set_mv(translate(0x0,0x0,player['posZ'])),modelViewMatrix=mult(viewMatrix,translate(-player[_0x943431(0x246)],-player[_0x943431(0x433)],0x0))),upOne>=-0x4&&draw_cursor_full(),gl[_0x943431(0x203)](isParticleLoc,!0x0),particles[_0x943431(0x240)]>0x0){for(let _0x5ea914=particles[_0x943431(0x240)]-0x1;_0x5ea914>=0x0;_0x5ea914--)particles[_0x5ea914][_0x943431(0x41c)](),particles[_0x5ea914][_0x943431(0x2dd)]()||(delete particles[_0x5ea914],particles[_0x943431(0x2a1)](_0x5ea914,0x1));}gl[_0x943431(0x203)](isParticleLoc,!0x1),gl[_0x943431(0x459)](0x0),gl[_0x943431(0x25f)](gl['STENCIL_BUFFER_BIT']),gl[_0x943431(0x494)](gl[_0x943431(0x2f3)]),gl['stencilMask'](0xff),gl['stencilFunc'](gl[_0x943431(0x4d5)],0x0,0xff),gl['stencilOp'](gl[_0x943431(0x4cf)],gl[_0x943431(0x4cf)],gl[_0x943431(0x3f7)]),set_light(),gl[_0x943431(0x203)](isCeilingLoc,!0x0);for(_0x316a06=0x0;_0x316a06<_0x73468[_0x943431(0x240)];_0x316a06++)add_block_to_draw_list(_0x73468[_0x316a06],drawDistanceX,drawDistanceY)&&_0x73468[_0x316a06]['drawTopBlock']();for(_0x316a06=0x0;_0x316a06<_0x73468['length'];_0x316a06++)add_block_to_draw_list(_0x73468[_0x316a06],drawDistanceX,drawDistanceY)&&_0x73468[_0x316a06][_0x943431(0x41c)]();gl[_0x943431(0x203)](isCeilingLoc,!0x1),gl[_0x943431(0x1ef)](gl['STENCIL_TEST']),-0x5==upOne&&draw_cursor_full(),gl[_0x943431(0x494)](gl[_0x943431(0x2f3)]),gl[_0x943431(0x369)](0xff),gl[_0x943431(0x223)](gl[_0x943431(0x4d5)],0x0,0xff),gl[_0x943431(0x27d)](gl[_0x943431(0x4cf)],gl[_0x943431(0x4cf)],gl[_0x943431(0x3f7)]),gl[_0x943431(0x203)](isCeilingLoc,!0x0),fixedView?gl['uniform1i'](inDungeonLoc,!0x0):gl[_0x943431(0x203)](inDungeonLoc,!0x1);for(_0x316a06=0x0;_0x316a06<_0x1f5162['length'];_0x316a06++)add_block_to_draw_list(_0x1f5162[_0x316a06],drawDistanceX,drawDistanceY)&&_0x1f5162[_0x316a06]['drawTopBlock']();for(_0x316a06=0x0;_0x316a06<_0x1f5162[_0x943431(0x240)];_0x316a06++)add_block_to_draw_list(_0x1f5162[_0x316a06],drawDistanceX,drawDistanceY)&&_0x1f5162[_0x316a06][_0x943431(0x41c)]();gl[_0x943431(0x203)](isCeilingLoc,!0x1),gl['disable'](gl[_0x943431(0x2f3)]),upOne<=-0x6&&draw_cursor_full(),set_light(),gl[_0x943431(0x496)](projectionMatrixLoc,!0x1,flatten(identityMatrix)),draw_tool_bar(),draw_toolbar_items(),inventory||inFunction||fixedView&&draw_map(),gl[_0x943431(0x496)](projectionMatrixLoc,!0x1,flatten(projectionMatrix)),click=!0x1,universalCounter++,blockCounter++,updateUnimportantMethods=!0x1,updateToolBar(),(inventory||inFunction)&&draw_inventory_cursor_overlay(),checkHovering(),isFocused||(draw_filled_box(0x0,0x0,0x10,0x9,_0x943431(0x242),_0x943431(0x492)),draw_centered_text(centerCoordinates[0x0],centerCoordinates[0x1]+1.5,_0x943431(0x413)),draw_centered_text(centerCoordinates[0x0],centerCoordinates[0x1]+0x1,'Use\x20\x27WASD\x27\x20to\x20move.'),draw_centered_text(centerCoordinates[0x0],centerCoordinates[0x1]+0.5,_0x943431(0x3a1)),draw_centered_text(centerCoordinates[0x0],centerCoordinates[0x1],_0x943431(0x384)),draw_centered_text(centerCoordinates[0x0],centerCoordinates[0x1]-0.5,'Right\x20click\x20to\x20interact\x20with\x20blocks.'),draw_centered_text(centerCoordinates[0x0],centerCoordinates[0x1]-0x1,_0x943431(0x3a5)),draw_centered_text(centerCoordinates[0x0],centerCoordinates[0x1]-0x4,_0x943431(0x200),'11'));}const NO_ITEM_HELD=0x0,BLOCK_HELD=0x1,TOOL_HELD=0x2,BOW_HELD=0x3;var currentlyHeldObject=0x0;function draw_cursor_full(){var _0xcf2c67=a0_0x567640;inventory||inFunction||(null!=player['heldObject']?_0xcf2c67(0x231)===player[_0xcf2c67(0x213)]['typeOfObj']?(set_light_full(),draw_cursor_block(coorSys[0x0]+player[_0xcf2c67(0x246)]-0x9,coorSys[0x1]+player[_0xcf2c67(0x433)]-4.5,upOne,player['heldObject']),currentlyHeldObject=BLOCK_HELD):blockCursor?(set_light_full(),draw_cursor(coorSys[0x0]+player[_0xcf2c67(0x246)]-0x9,coorSys[0x1]+player[_0xcf2c67(0x433)]-4.5,upOne),currentlyHeldObject=TOOL_HELD):(draw_bow_vector(coorSys[0x0]+player['posX']-0x9,coorSys[0x1]+player[_0xcf2c67(0x433)]-4.5,-0x3),currentlyHeldObject=BOW_HELD):(set_light_full(),draw_cursor_point(coorSys[0x0]+player[_0xcf2c67(0x246)]-0x9,coorSys[0x1]+player[_0xcf2c67(0x433)]-4.5,-0x3),currentlyHeldObject=NO_ITEM_HELD),cursorCoordinates[0x0]=coorSys[0x0]+player[_0xcf2c67(0x246)]-0x9,cursorCoordinates[0x1]=coorSys[0x1]+player['posY']-4.5,set_light());}function set_light(){var _0x4759ba=a0_0x567640;gl[_0x4759ba(0x45d)](gl['getUniformLocation'](program,'ambientProduct'),flatten(ambientProduct)),gl['uniform4fv'](gl[_0x4759ba(0x230)](program,_0x4759ba(0x415)),flatten(diffuseProduct)),gl[_0x4759ba(0x45d)](gl[_0x4759ba(0x230)](program,'specularProduct'),flatten(specularProduct)),gl[_0x4759ba(0x45d)](gl[_0x4759ba(0x230)](program,_0x4759ba(0x317)),flatten(lightPosition)),gl[_0x4759ba(0x495)](gl[_0x4759ba(0x230)](program,_0x4759ba(0x1f9)),materialShininess);}function set_light_arrow_vector(_0x18a80f){var _0x3f1e77=a0_0x567640;gl[_0x3f1e77(0x45d)](gl[_0x3f1e77(0x230)](program,_0x3f1e77(0x317)),flatten(_0x18a80f));}function set_light_full(){var _0x8a5354=a0_0x567640;gl[_0x8a5354(0x45d)](gl[_0x8a5354(0x230)](program,'ambientProduct'),flatten(vec4(0x1,0x1,0x1,0x1))),gl[_0x8a5354(0x45d)](gl['getUniformLocation'](program,'diffuseProduct'),flatten(vec4(0x1,0x1,0x1,0x1))),gl[_0x8a5354(0x45d)](gl['getUniformLocation'](program,'specularProduct'),flatten(vec4(0x1,0x1,0x1,0x1))),gl[_0x8a5354(0x45d)](gl[_0x8a5354(0x230)](program,_0x8a5354(0x317)),flatten(vec4(0x1,0x1,0x1,0x1)));}const fpsElem=document[a0_0x567640(0x388)](a0_0x567640(0x3b5));let then=0x0;const frameTimes=[];let frameCursor=0x0,numFrames=0x0;const maxFrames=0x14;let totalFPS=0x0;function render(_0x1607c4){var _0x2d73ac=a0_0x567640;gl[_0x2d73ac(0x25f)](gl[_0x2d73ac(0x491)]|gl['DEPTH_BUFFER_BIT']|gl[_0x2d73ac(0x49f)]),set_light(),render_data(),window[_0x2d73ac(0x1ec)](render);}function bind_and_send(){var _0x4f2e98=a0_0x567640;buffer=gl[_0x4f2e98(0x444)](),gl['bindBuffer'](gl[_0x4f2e98(0x422)],buffer),gl[_0x4f2e98(0x4c1)](gl[_0x4f2e98(0x422)],flatten(vertices),gl[_0x4f2e98(0x48c)]);var _0x4a22c5=gl[_0x4f2e98(0x2fa)](program,_0x4f2e98(0x443));gl['vertexAttribPointer'](_0x4a22c5,0x3,gl[_0x4f2e98(0x3e1)],!0x1,0x0,0x0),gl[_0x4f2e98(0x283)](_0x4a22c5);var _0x3d2297=gl[_0x4f2e98(0x444)]();gl[_0x4f2e98(0x282)](gl['ARRAY_BUFFER'],_0x3d2297),gl[_0x4f2e98(0x4c1)](gl[_0x4f2e98(0x422)],flatten(normals),gl[_0x4f2e98(0x48c)]);var _0x3fc188=gl[_0x4f2e98(0x2fa)](program,_0x4f2e98(0x341));gl['vertexAttribPointer'](_0x3fc188,0x3,gl['FLOAT'],!0x1,0x0,0x0),gl['enableVertexAttribArray'](_0x3fc188);var _0x2fe2e7=gl[_0x4f2e98(0x444)]();gl[_0x4f2e98(0x282)](gl['ARRAY_BUFFER'],_0x2fe2e7),gl[_0x4f2e98(0x4c1)](gl[_0x4f2e98(0x422)],flatten(colours),gl[_0x4f2e98(0x48c)]);var _0x3eabe6=gl[_0x4f2e98(0x2fa)](program,_0x4f2e98(0x381));gl[_0x4f2e98(0x308)](_0x3eabe6,0x4,gl['FLOAT'],!0x1,0x0,0x0),gl[_0x4f2e98(0x283)](_0x3eabe6),tBuffer=gl[_0x4f2e98(0x444)](),gl[_0x4f2e98(0x282)](gl[_0x4f2e98(0x422)],tBuffer),gl['bufferData'](gl[_0x4f2e98(0x422)],flatten(texCoords),gl[_0x4f2e98(0x48c)]);var _0x1f0fe5=gl[_0x4f2e98(0x2fa)](program,'vTexCoord');gl[_0x4f2e98(0x308)](_0x1f0fe5,0x2,gl[_0x4f2e98(0x3e1)],!0x1,0x0,0x0),gl[_0x4f2e98(0x283)](_0x1f0fe5),gl[_0x4f2e98(0x28a)](gl[_0x4f2e98(0x389)]),gl['bindTexture'](gl[_0x4f2e98(0x375)],texture),gl[_0x4f2e98(0x203)](texture,0x0),configure_texture(textureImage);}function text_log(_0x20374e){var _0x1f8458=a0_0x567640;document[_0x1f8458(0x388)]('#textlog')[_0x1f8458(0x489)]=_0x20374e;}function set_ui_pv(_0xe935c=translate(0x0,0x0,0x0)){var _0x47fd88=a0_0x567640,_0x585dfe=mat4();_0x585dfe=mult(_0x585dfe,_0xe935c),gl[_0x47fd88(0x496)](projectionMatrixLoc,!0x1,flatten(_0x585dfe));}function reset_pv(){var _0x8b51d8=a0_0x567640;gl[_0x8b51d8(0x496)](projectionMatrixLoc,!0x1,flatten(projectionMatrix));}function set_mv(_0x378bce=translate(0x0,0x0,0x0)){var _0x5723be=a0_0x567640;gl[_0x5723be(0x496)](modelViewMatrixLoc,!0x1,flatten(mult(modelViewMatrix,_0x378bce)));}function get_mv(){return modelViewMatrix;}function set_mv_ui(_0x3b7108=translate(0x0,0x0,0x0)){var _0x55bc3b=a0_0x567640;fixedView?gl[_0x55bc3b(0x496)](modelViewMatrixLoc,!0x1,flatten(mult(viewMatrixUI,_0x3b7108))):gl['uniformMatrix4fv'](modelViewMatrixLoc,!0x1,flatten(mult(viewMatrix,_0x3b7108)));}function set_mv_id(_0x27c125=mat4()){gl['uniformMatrix4fv'](modelViewMatrixLoc,!0x1,flatten(_0x27c125));}function reset_mv(){gl['uniformMatrix4fv'](modelViewMatrixLoc,!0x1,flatten(modelViewMatrix));}function default_push(_0x2c122f,_0x2082c9,_0x543715,_0x22522f=vec4(0x1,0x1,0x1,0x1),_0x4e89ae=vec4(0x1,0x1,0x1,0x1),_0xaed128=vec4(0x1,0x1,0x1,0x1)){var _0x4a8f73=a0_0x567640;vertices[_0x4a8f73(0x4b3)](_0x2c122f),vertices['push'](_0x2082c9),vertices[_0x4a8f73(0x4b3)](_0x543715),colours['push'](_0x22522f),colours[_0x4a8f73(0x4b3)](_0x4e89ae),colours[_0x4a8f73(0x4b3)](_0xaed128);var _0x67d0b5=negate(cross(subtract(_0x2082c9,_0x2c122f),subtract(_0x543715,_0x2c122f)));_0x67d0b5=vec3(_0x67d0b5);for(var _0x61caf5=0x0;_0x61caf5<0x3;_0x61caf5++)normals[_0x4a8f73(0x4b3)](_0x67d0b5);}function set_texture_old(_0x46ee72=0x0,_0x4e3332=0.0065,_0x106567=0.0065){var _0x428211=a0_0x567640;if(0x10!=_0x46ee72){var _0x4c3660=_0x4e3332,_0x303c7a=_0x106567,_0x1f66d0=_0x46ee72%0x8+_0x4c3660,_0x280aa4=Math[_0x428211(0x47a)](_0x46ee72/0x8)+_0x303c7a,_0x3e0eba=_0x1f66d0+0x1-0x2*_0x4c3660,_0x543c67=_0x280aa4+0x1-0x2*_0x303c7a;texCoords['push'](vec2(_0x1f66d0/0x8,_0x543c67/0x8)),texCoords[_0x428211(0x4b3)](vec2(_0x1f66d0/0x8,_0x280aa4/0x8)),texCoords['push'](vec2(_0x3e0eba/0x8,_0x280aa4/0x8)),texCoords[_0x428211(0x4b3)](vec2(_0x1f66d0/0x8,_0x543c67/0x8)),texCoords[_0x428211(0x4b3)](vec2(_0x3e0eba/0x8,_0x280aa4/0x8)),texCoords['push'](vec2(_0x3e0eba/0x8,_0x543c67/0x8));}else{for(var _0x2c23f7=0x0;_0x2c23f7<0x6;_0x2c23f7++)texCoords[_0x428211(0x4b3)](vec2(0x2,0x2));}}function set_texture(_0x290aba=0x0,_0x72bdd=0.0065,_0x42b177=0.0065){var _0x123d07=a0_0x567640,_0x35e615,_0x2bb6a4,_0x10eaa8=_0x42b177,_0x39acdf=_0x35e615=_0x290aba%0x8+_0x72bdd,_0x38efc6=_0x2bb6a4=Math['floor'](_0x290aba/0x8)+_0x10eaa8,_0x390574=(_0x39acdf=(_0x35e615=0x20+0x60*Math[_0x123d07(0x47a)](_0x290aba%0x8))+0x20,_0x38efc6=(_0x2bb6a4=0x20+0x60*Math[_0x123d07(0x47a)](_0x290aba/0x8))+0x20,0x400);texCoords[_0x123d07(0x4b3)](vec2(_0x35e615/_0x390574,_0x38efc6/_0x390574)),texCoords[_0x123d07(0x4b3)](vec2(_0x35e615/_0x390574,_0x2bb6a4/_0x390574)),texCoords[_0x123d07(0x4b3)](vec2(_0x39acdf/_0x390574,_0x2bb6a4/_0x390574)),texCoords[_0x123d07(0x4b3)](vec2(_0x35e615/_0x390574,_0x38efc6/_0x390574)),texCoords[_0x123d07(0x4b3)](vec2(_0x39acdf/_0x390574,_0x2bb6a4/_0x390574)),texCoords['push'](vec2(_0x39acdf/_0x390574,_0x38efc6/_0x390574));}class InventoryObject{constructor(_0x4ed422){var _0x5b9234=a0_0x567640;this[_0x5b9234(0x4d4)]=_0x4ed422,this[_0x5b9234(0x3a6)]=0x1;}[a0_0x567640(0x3f0)](){var _0x260c9d=a0_0x567640;this[_0x260c9d(0x3a6)]++;}[a0_0x567640(0x3f3)](){var _0x2f4631=a0_0x567640;this[_0x2f4631(0x3a6)]--;}}class Inventory{constructor(){var _0x304734=a0_0x567640;this[_0x304734(0x32f)]=[],this[_0x304734(0x3f5)]=[],this[_0x304734(0x3b8)]=[],this[_0x304734(0x34c)]=[],this['recipes']=[];}[a0_0x567640(0x2e1)](){var _0x401d07=a0_0x567640;return[this['getBlocks'](),this[_0x401d07(0x4b5)](),this[_0x401d07(0x26e)](),this[_0x401d07(0x26f)]()];}[a0_0x567640(0x3d3)](){var _0x4a0398=a0_0x567640;this[_0x4a0398(0x32f)]=[],this[_0x4a0398(0x3f5)]=[],this[_0x4a0398(0x3b8)]=[],this[_0x4a0398(0x34c)]=[],this[_0x4a0398(0x4da)]=[];}['addItem'](_0x38d1f8){var _0xe186c7=a0_0x567640;null==this[_0xe186c7(0x34c)][_0x38d1f8[_0xe186c7(0x44a)]]?(this['items'][_0x38d1f8[_0xe186c7(0x44a)]]=new InventoryObject(_0x38d1f8),this[_0xe186c7(0x3b8)][_0xe186c7(0x4b3)](_0x38d1f8[_0xe186c7(0x44a)])):this['items'][_0x38d1f8['objectNumber']][_0xe186c7(0x3f0)]();}[a0_0x567640(0x3c7)](_0x4c294c){var _0x1d2f02=a0_0x567640;null==this[_0x1d2f02(0x3f5)][_0x4c294c[_0x1d2f02(0x44a)]]?(this[_0x1d2f02(0x3f5)][_0x4c294c['objectNumber']]=new InventoryObject(_0x4c294c),this[_0x1d2f02(0x32f)][_0x1d2f02(0x4b3)](_0x4c294c['objectNumber'])):this[_0x1d2f02(0x3f5)][_0x4c294c[_0x1d2f02(0x44a)]][_0x1d2f02(0x3f0)]();}['addRecipe'](_0x4f5e6b){var _0x40cd61=a0_0x567640;let _0x30a4a9=!0x1;for(let _0x305b21=0x0;_0x305b21<this[_0x40cd61(0x4da)]['length'];_0x305b21++)this[_0x40cd61(0x4da)][_0x305b21]['id']==_0x4f5e6b['id']&&(_0x30a4a9=!0x0);_0x30a4a9||this[_0x40cd61(0x4da)][_0x40cd61(0x4b3)](_0x4f5e6b);}[a0_0x567640(0x21d)](_0x5ca80e){var _0x4fe795=a0_0x567640;null!=this['items'][_0x5ca80e[_0x4fe795(0x44a)]]&&0x0!=this[_0x4fe795(0x34c)][_0x5ca80e['objectNumber']]&&this['items'][_0x5ca80e[_0x4fe795(0x44a)]]['decrease']();}[a0_0x567640(0x42c)](_0x401840){var _0x5ca114=a0_0x567640;if(null!=this[_0x5ca114(0x3f5)][_0x401840[_0x5ca114(0x44a)]]&&0x0!=this['blocks'][_0x401840[_0x5ca114(0x44a)]]){this[_0x5ca114(0x3f5)][_0x401840[_0x5ca114(0x44a)]][_0x5ca114(0x3f3)]();for(let _0x5d7f50=0x3;_0x5d7f50<NUM_TOOLBAR_ITEMS;_0x5d7f50++)if(null!=toolBarList[_0x5d7f50]&&toolBarList[_0x5d7f50][_0x5ca114(0x44a)]==_0x401840[_0x5ca114(0x44a)]&&this['getQuantityBlock'](_0x401840)<=0x0)return toolBarList[_0x5d7f50]=null,void(activeToolBarItem-0x1==_0x5d7f50&&(activeToolBarItem=0x8,player[_0x5ca114(0x213)]=null));}}['getQuantityBlock'](_0x3f4f66){var _0x4e7d7f=a0_0x567640;if(null==_0x3f4f66)return null;var _0x2d2de4=this['blocks'][_0x3f4f66[_0x4e7d7f(0x44a)]];return null==_0x2d2de4||_0x2d2de4['quant']<=0x0?0x0:_0x2d2de4[_0x4e7d7f(0x3a6)];}[a0_0x567640(0x4b8)](_0x466adb){var _0x18b3c0=a0_0x567640;if(null==_0x466adb)return null;var _0x34bebe=this[_0x18b3c0(0x34c)][_0x466adb[_0x18b3c0(0x44a)]];return null==_0x34bebe||_0x34bebe['quant']<=0x0?0x0:_0x34bebe[_0x18b3c0(0x3a6)];}['getQuantity'](_0x26a542){var _0x1c1428=a0_0x567640;switch(_0x26a542['typeOfObj']){case _0x1c1428(0x2e6):return this['getQuantityItem'](_0x26a542);case _0x1c1428(0x231):return this[_0x1c1428(0x294)](_0x26a542);case'REC':return 0x1;}return 0x0;}[a0_0x567640(0x207)](){var _0xa483dd=a0_0x567640;for(var _0x5ba29b=[],_0x417f5e=0x0;_0x417f5e<this['blockNums'][_0xa483dd(0x240)];_0x417f5e++)this[_0xa483dd(0x3f5)][this[_0xa483dd(0x32f)][_0x417f5e]]['quant']>0x0&&_0x5ba29b['push'](this[_0xa483dd(0x3f5)][this[_0xa483dd(0x32f)][_0x417f5e]][_0xa483dd(0x4d4)]);return _0x5ba29b;}['getTools'](){var _0x24809e=a0_0x567640;return this[_0x24809e(0x4b5)]();}[a0_0x567640(0x4b5)](){var _0x444dd1=a0_0x567640;for(var _0x26499c=[],_0x54e108=0x0;_0x54e108<this[_0x444dd1(0x3b8)][_0x444dd1(0x240)];_0x54e108++)this[_0x444dd1(0x34c)][this[_0x444dd1(0x3b8)][_0x54e108]][_0x444dd1(0x3a6)]>0x0&&_0x26499c[_0x444dd1(0x4b3)](this[_0x444dd1(0x34c)][this[_0x444dd1(0x3b8)][_0x54e108]]['object']);return _0x26499c;}[a0_0x567640(0x26e)](){return[];}[a0_0x567640(0x26f)](){return this['recipes'];}}class Humanoid{constructor(_0x545200,_0x208cec,_0x4adec4=0x0){var _0x52f2ac=a0_0x567640;this['posX']=_0x545200,this[_0x52f2ac(0x433)]=_0x208cec,this[_0x52f2ac(0x328)]=_0x4adec4,this[_0x52f2ac(0x437)]=0xa,this[_0x52f2ac(0x292)]=!0x1;}[a0_0x567640(0x3b1)](_0x37d968){var _0x58a6a9=a0_0x567640;this[_0x58a6a9(0x437)]-=_0x37d968;}[a0_0x567640(0x273)](){var _0xa2e860=a0_0x567640;this[_0xa2e860(0x437)]<=0x0&&(this['deathMarker']=!0x0);}[a0_0x567640(0x1f6)](_0x155ee2){var _0x32fc7b=a0_0x567640;null!=this[_0x32fc7b(0x213)]&&this[_0x32fc7b(0x213)][_0x32fc7b(0x357)](),null!=_0x155ee2?(_0x155ee2[_0x32fc7b(0x3d4)](),this[_0x32fc7b(0x213)]=_0x155ee2):this[_0x32fc7b(0x213)]=null;}[a0_0x567640(0x2c4)](_0x4ee188){}[a0_0x567640(0x3ae)](){var _0x1a0d47=a0_0x567640;return[vec3(mult(translate(this['posX'],this[_0x1a0d47(0x433)],this['posZ']),vec4(-0.25,-0.25,1.25,0x1))),vec3(mult(translate(this[_0x1a0d47(0x246)],this[_0x1a0d47(0x433)],this[_0x1a0d47(0x328)]),vec4(0.25,0.25,3.1,0x1)))];}}var fastMode=!0x1;class Player extends Humanoid{constructor(_0x2d4f55,_0x3c4efc,_0x5fce80=0x0){var _0x25af27=a0_0x567640;super(_0x2d4f55,_0x3c4efc,_0x5fce80),this[_0x25af27(0x213)]=null,this[_0x25af27(0x460)]=!0x0,this[_0x25af27(0x33b)]=0.05,this[_0x25af27(0x374)],this[_0x25af27(0x1dd)]=!0x1,this['isMovingRight']=!0x1,this[_0x25af27(0x309)]=!0x1,this[_0x25af27(0x363)]=!0x1,this[_0x25af27(0x426)]=!0x1,this['isSwinging']=!0x1,this[_0x25af27(0x1dc)]=!0x1,this[_0x25af27(0x429)]=!0x1,this[_0x25af27(0x3be)]=!0x0,this[_0x25af27(0x276)]=new Inventory();}[a0_0x567640(0x2e1)](){var _0x2abd6e=a0_0x567640;return this[_0x2abd6e(0x276)][_0x2abd6e(0x2e1)]();}[a0_0x567640(0x1fc)](){var _0x39ca86=a0_0x567640;this[_0x39ca86(0x276)]=null,this['inventory']=new Inventory();}[a0_0x567640(0x1f5)](){var _0x389c22=a0_0x567640;return this[_0x389c22(0x276)]['getItems']();}[a0_0x567640(0x3bb)](){var _0x2abf69=a0_0x567640;return this['inventory'][_0x2abf69(0x207)]();}[a0_0x567640(0x451)](){return[];}[a0_0x567640(0x3cd)](){var _0x11953d=a0_0x567640;return this[_0x11953d(0x276)][_0x11953d(0x26f)]();}[a0_0x567640(0x49a)](_0x48d042){var _0x2c7307=a0_0x567640;return this['inventory'][_0x2c7307(0x3a3)](_0x48d042);}['addToInventory'](_0x4539f6){var _0x172b8d=a0_0x567640;switch(nQueue[_0x172b8d(0x1fa)](new Notification(_0x4539f6,0x1)),_0x4539f6['typeOfObj']){case'ITEM':this['inventory'][_0x172b8d(0x3b6)](_0x4539f6);break;case _0x172b8d(0x231):this[_0x172b8d(0x276)]['addBlock'](_0x4539f6);break;case'REC':this[_0x172b8d(0x276)][_0x172b8d(0x2bd)](_0x4539f6);}tab_lists();}[a0_0x567640(0x270)](_0x237f29){var _0x5e67cf=a0_0x567640;switch(_0x237f29[_0x5e67cf(0x2c9)]){case'ITEM':this[_0x5e67cf(0x276)][_0x5e67cf(0x21d)](_0x237f29);break;case'BLOCK':this[_0x5e67cf(0x276)]['removeBlock'](_0x237f29);}tab_lists();}['setObject'](_0x5928b1){var _0x10f3f0=a0_0x567640;this[_0x10f3f0(0x213)]=_0x5928b1;}[a0_0x567640(0x302)](){var _0x4de74d=a0_0x567640;this[_0x4de74d(0x33b)]=fastMode?0.3:0.05;}[a0_0x567640(0x202)](){var _0x25313a=a0_0x567640;this[_0x25313a(0x426)]=!0x1;let _0x261a37=this[_0x25313a(0x246)],_0xe7f79=this[_0x25313a(0x433)];this[_0x25313a(0x1dd)]&&this[_0x25313a(0x31b)](),this['isMovingRight']&&this[_0x25313a(0x3fe)](),this['isMovingUp']&&this[_0x25313a(0x4cc)](),this[_0x25313a(0x363)]&&this[_0x25313a(0x3f8)]();let _0x494f78=this[_0x25313a(0x246)]-_0x261a37,_0x26a48c=this['posY']-_0xe7f79;0x0==_0x494f78&&0x0==_0x26a48c||(this[_0x25313a(0x426)]=!0x0),_0x494f78<0x0&&_0x26a48c<0x0&&(this[_0x25313a(0x1dc)]||(angleFacing=0x2d)),_0x494f78>0x0&&_0x26a48c<0x0&&(this[_0x25313a(0x1dc)]||(angleFacing=-0x2d)),_0x494f78<0x0&&_0x26a48c>0x0&&(this[_0x25313a(0x1dc)]||(angleFacing=0x87)),_0x494f78>0x0&&_0x26a48c>0x0&&(this['isShooting']||(angleFacing=-0x87)),this[_0x25313a(0x1dc)]||(0x0==_0x494f78&&(_0x26a48c>0x0&&(angleFacing=0xb4),_0x26a48c<0x0&&(angleFacing=0x0)),0x0==_0x26a48c&&(_0x494f78>0x0&&(angleFacing=-0x5a),_0x494f78<0x0&&(angleFacing=0x5a))),this['idle']?(soundStopOnDirt(),this[_0x25313a(0x3c1)]()):soundWalkOnDirt();}[a0_0x567640(0x31b)](){var _0x29ec4b=a0_0x567640;this[_0x29ec4b(0x460)]=!0x1,isStopLeft||(this[_0x29ec4b(0x246)]-=this[_0x29ec4b(0x33b)]),this[_0x29ec4b(0x1dc)]||(angleFacing=0x5a);}[a0_0x567640(0x3fe)](){var _0x219904=a0_0x567640;this['idle']=!0x1,isStopRight||(this[_0x219904(0x246)]+=this[_0x219904(0x33b)]),this[_0x219904(0x1dc)]||(angleFacing=-0x5a);}[a0_0x567640(0x4cc)](){var _0x23bec7=a0_0x567640;this['idle']=!0x1,isStopUp||(this[_0x23bec7(0x433)]+=this[_0x23bec7(0x33b)]),this['isShooting']||(angleFacing=0xb4);}[a0_0x567640(0x3f8)](){var _0x36a375=a0_0x567640;this['idle']=!0x1,isStopDown||(this[_0x36a375(0x433)]-=this[_0x36a375(0x33b)]),this[_0x36a375(0x1dc)]||(angleFacing=0x0);}[a0_0x567640(0x3c1)](){this['idle']=!0x0;}[a0_0x567640(0x27a)](){var _0x27c8b1=a0_0x567640;head2(),headVerts=vertices[_0x27c8b1(0x240)],build_shoulder(),shoulderVerts=vertices[_0x27c8b1(0x240)]-headVerts,build_torso(),torsoVerts=vertices[_0x27c8b1(0x240)]-shoulderVerts-headVerts,build_leg(),legVerts=vertices['length']-torsoVerts-shoulderVerts-headVerts,build_eye(),eyeVerts=vertices[_0x27c8b1(0x240)]-legVerts-torsoVerts-shoulderVerts-headVerts,NM=vertices[_0x27c8b1(0x240)];}['draw'](){var _0x366adf=a0_0x567640;fixLegs=!0x1,this['completedAction']=!0x0,this[_0x366adf(0x1dd)]||this['isMovingRight']||this['isMovingUp']||this['isMovingDown']||this[_0x366adf(0x3c1)](),this[_0x366adf(0x202)](),this[_0x366adf(0x327)]?(this[_0x366adf(0x3be)]=!0x1,player_swinging()):sound_StopSwinging(),this[_0x366adf(0x1dc)]&&(this[_0x366adf(0x3be)]=!0x1,player_shooting()),this['isPlacing']&&player_placing(),player_moving(this[_0x366adf(0x246)],this['posY'],this['posZ']),traverse(bodyId);}['drawShadows'](){traverse_shadow(bodyId);}[a0_0x567640(0x40f)](){}}function set_humanoid_texture(){var _0x214160=a0_0x567640;for(var _0x30ce4f=0x0;_0x30ce4f<0x6;_0x30ce4f++)texCoords[_0x214160(0x4b3)](vec2(0x2,0x2));}function set_humanoid_texture_head_face(_0x44bcfc=0x0){var _0xb5678a=a0_0x567640;if(-0x1!=_0x44bcfc){var _0x3acc8d=_0x44bcfc%0x8+0.01,_0x5d729c=Math[_0xb5678a(0x47a)](_0x44bcfc/0x8)+0.01,_0xa58a73=_0x3acc8d+0x1-0.02,_0x597ceb=_0x5d729c+0x1-0.02;texCoords[_0xb5678a(0x4b3)](vec2(_0x3acc8d/0x8,_0x597ceb/0x8)),texCoords[_0xb5678a(0x4b3)](vec2(_0x3acc8d/0x8,_0x5d729c/0x8)),texCoords[_0xb5678a(0x4b3)](vec2(_0xa58a73/0x8,_0x5d729c/0x8)),texCoords[_0xb5678a(0x4b3)](vec2(_0x3acc8d/0x8,_0x597ceb/0x8)),texCoords['push'](vec2(_0xa58a73/0x8,_0x5d729c/0x8)),texCoords[_0xb5678a(0x4b3)](vec2(_0xa58a73/0x8,_0x597ceb/0x8));}else{for(var _0x59edda=0x0;_0x59edda<0x6;_0x59edda++)texCoords['push'](vec2(0x2,0x2));}}function init_player(){initialize_node(bodyId),initialize_node(headId),initialize_node(leftArmId),initialize_node(rightArmId),initialize_node(leftLegId),initialize_node(rightLegId),initialize_node(leftShoulderId),initialize_node(rightShoulderId),initialize_node(leftEyeId),initialize_node(rightEyeId),initialize_node(toolId);}var origCoor=[0x0,0x0];function check_cursor_change_block(){var _0x3aeed7=a0_0x567640,_0x3e8367=Math[_0x3aeed7(0x267)](coorSys[0x0]+player[_0x3aeed7(0x246)]-0x9),_0x2fd4f8=Math[_0x3aeed7(0x267)](coorSys[0x1]+player['posY']-4.5);return _0x3e8367==origCoor[0x0]&&_0x2fd4f8==origCoor[0x1]||(origCoor[0x0]=_0x3e8367,origCoor[0x1]=_0x2fd4f8,!0x1);}function check_player_action(){var _0x4e54c6=a0_0x567640;if(!inventory&&!inFunction&&(check_cursor_change_block()||(blockCounter=0x0),hold&&null!=player[_0x4e54c6(0x213)])){if(_0x4e54c6(0x1d9)==player[_0x4e54c6(0x213)][_0x4e54c6(0x4a3)])player['isShooting']=!0x0;else{if(_0x4e54c6(0x2b1)!=player[_0x4e54c6(0x213)][_0x4e54c6(0x395)]){if(player[_0x4e54c6(0x327)]=!0x0,_0x4e54c6(0x3e8)===player['heldObject'][_0x4e54c6(0x395)])fastMode?world[_0x4e54c6(0x3ec)](Math[_0x4e54c6(0x267)](coorSys[0x0]+player[_0x4e54c6(0x246)]-0x9),Math['round'](coorSys[0x1]+player[_0x4e54c6(0x433)]-4.5),upOne):blockCounter>0x78/player[_0x4e54c6(0x213)][_0x4e54c6(0x385)]&&(blockCounter=0x0,(cursorGreen||fastMode)&&(fixedView?currentDungeon['removeBlockByPos'](Math[_0x4e54c6(0x267)](coorSys[0x0]+player[_0x4e54c6(0x246)]-0x9),Math[_0x4e54c6(0x267)](coorSys[0x1]+player[_0x4e54c6(0x433)]-4.5),upOne):world[_0x4e54c6(0x3ec)](Math[_0x4e54c6(0x267)](coorSys[0x0]+player['posX']-0x9),Math[_0x4e54c6(0x267)](coorSys[0x1]+player[_0x4e54c6(0x433)]-4.5),upOne)));}}}}var vertexPoints=[vec3(-0.5,-0.5,0.5),vec3(-0.5,0.5,0.5),vec3(0.5,0.5,0.5),vec3(0.5,-0.5,0.5),vec3(-0.5,-0.5,-0.5),vec3(-0.5,0.5,-0.5),vec3(0.5,0.5,-0.5),vec3(0.5,-0.5,-0.5)],phase1=!0x0,phase2=!0x1,armAngleRightSwing=0x0,armAngleLeftSwing=0x0,armAngleRightTilt=0x0,armAngleLeftTilt=0x0;function player_swinging(){armAngleLeftSwing=armAngleLeft,player_body_angle_to_cursor(),phase1&&(armAngleRightSwing=0x0,phase1=!0x1),phase2||(armAngleRightSwing+=3.5)>0x78&&(sound_StartSwinging(),phase2=!0x0),phase2&&(armAngleRightSwing-=0xa)<0x28&&(player['isSwinging']=!0x1,armAngleRightSwing=0x0,phase2=!0x1,phase1=!0x0);}function player_shooting(){var _0x7d7efa=a0_0x567640;hold?(armAngleRightSwing=0x5a,armAngleRightTilt=0x5,armAngleLeftTilt=-22.5,armAngleLeftSwing=0x5a,player_angle_to_cursor()):(armAngleRightSwing=0x0,armAngleRightTilt=0x0,armAngleLeftTilt=0x0,armAngleLeftSwing=0x0,player[_0x7d7efa(0x1dc)]=!0x1);}var placeTimerMax=0xa,placeTimer=placeTimerMax,startPlaceAnimation=!0x0;function player_placing(){var _0x10ed28=a0_0x567640;player[_0x10ed28(0x426)]&&(player['isPlacing']=!0x1,startPlaceAnimation=!0x0,placeTimer=placeTimerMax),placeTimer>0x0?(startPlaceAnimation?(placeTimer=placeTimerMax,startPlaceAnimation=!0x1,armAngleRightSwing=0x3*placeTimerMax-0x3,armAngleRightTilt=placeTimerMax/0x2,player_body_angle_to_cursor()):(armAngleRightSwing-=0x3,armAngleRightTilt-=0.5),placeTimer--):(player[_0x10ed28(0x429)]=!0x1,startPlaceAnimation=!0x0,placeTimer=placeTimerMax);}function player_angle_by_diff(_0x132b9d,_0x38253c){var _0x49ed0e=a0_0x567640,_0x4bd870=_0x132b9d,_0xb6d54b=_0x38253c;if(0x0!=_0xb6d54b||0x0!=_0x4bd870){if(0x0==_0xb6d54b&&_0x4bd870>0x0)angleFacing=0xb4;else{if(0x0==_0xb6d54b&&_0x4bd870<0x0)angleFacing=0x0;else{var _0x394406=Math[_0x49ed0e(0x4db)](_0x4bd870/_0xb6d54b);_0x394406=0xb4*_0x394406/Math['PI'],angleFacing=0xb4-(_0x394406=_0xb6d54b<0x0?0x5a+_0x394406:0x10e+_0x394406);}}}else angleFacing=0x0;}function player_angle_to_cursor(){var _0xd779ac=a0_0x567640,_0x12fff7=cursorCoordinates[0x1]-(player[_0xd779ac(0x433)]-0.5),_0x511a81=cursorCoordinates[0x0]-(player['posX']-0.5);if(0x0!=_0x511a81||0x0!=_0x12fff7){if(0x0==_0x511a81&&_0x12fff7>0x0)angleFacing=0xb4;else{if(0x0==_0x511a81&&_0x12fff7<0x0)angleFacing=0x0;else{var _0x5a4a71=Math[_0xd779ac(0x4db)](_0x12fff7/_0x511a81);_0x5a4a71=0xb4*_0x5a4a71/Math['PI'],angleFacing=0xb4-(_0x5a4a71=_0x511a81<0x0?0x5a+_0x5a4a71:0x10e+_0x5a4a71);}}}else angleFacing=0x0;}var NM,headVerts,shoulderVerts,torsoVerts,legVerts,eyeVerts,fixLegs=!0x1;function player_body_angle_to_cursor(){var _0x34344d=a0_0x567640;if(!player[_0x34344d(0x426)]){var _0x301e14=cursorCoordinates[0x1]-(player[_0x34344d(0x433)]-0.5),_0x314730=cursorCoordinates[0x0]-(player[_0x34344d(0x246)]-0.5);if(0x0!=_0x314730||0x0!=_0x301e14){if(0x0==_0x314730&&_0x301e14>0x0)angleFacing=0xb4;else{if(0x0==_0x314730&&_0x301e14<0x0)angleFacing=0x0;else{var _0x470473=Math[_0x34344d(0x4db)](_0x301e14/_0x314730);_0x470473=0xb4*_0x470473/Math['PI'],angleFacing=0xb4-(_0x470473=_0x314730<0x0?0x5a+_0x470473:0x10e+_0x470473),fixLegs=!0x0;}}}else angleFacing=0x0;}}function player_moving(_0x30de03,_0x3d4973,_0x454f28){(legAngle>0x23||legAngle<-0x23)&&(switchDirection=!switchDirection),fixedView||(_0x30de03=0x0,_0x3d4973=0x0),initialize_node(bodyId,_0x30de03,_0x3d4973,_0x454f28),initialize_node(rightArmId),initialize_node(leftArmId),initialize_node(leftLegId),initialize_node(rightLegId),player['idle']&&0x0==armAngleRight||(switchDirection?(legAngle+=0x2,armAngleRight+=3.75):(legAngle-=0x2,armAngleRight-=3.75),armAngleLeft=-armAngleRight);}var humanoid=[],bodyId=0x0,headId=0x1,leftArmId=0x2,rightArmId=0x3,leftLegId=0x4,rightLegId=0x5,leftShoulderId=0x6,rightShoulderId=0x7,leftEyeId=0x8,rightEyeId=0x9,toolId=0xa,BODY_HEIGHT=1.5,BODY_WIDTH=0x1,BODY_DEPTH=0.5,HEAD_HEIGHT=0x1,HEAD_WIDTH=0x1,ARM_HEIGHT=1.75,APPENDAGE_HEIGHT=0x2,modelViewStack=[],switchDirection=!0x0,angleFacing=0x0,armAngleLeft=0x0,armAngleRight=0x0,legAngle=0x0,cArray=[vec4(0x0,0x0,0x0,0x1),vec4(0x1,0x0,0x0,0x1),vec4(0x0,0x1,0x0,0x1),vec4(0x0,0x0,0x1,0x1),vec4(0x1,0x1,0x1,0x1),vec4(0x0,0x1,0x1,0x1)];function body_push(_0x1f18b1,_0x5cfac6,_0x59ed80,_0x54a941=vec4(0x1,0x1,0x1,0x1)){var _0x12b60f=a0_0x567640;vertices[_0x12b60f(0x4b3)](_0x1f18b1),vertices[_0x12b60f(0x4b3)](_0x5cfac6),vertices[_0x12b60f(0x4b3)](_0x59ed80),colours[_0x12b60f(0x4b3)](_0x54a941),colours['push'](_0x54a941),colours['push'](_0x54a941);var _0x5808c3=cross(subtract(_0x5cfac6,_0x1f18b1),subtract(_0x59ed80,_0x1f18b1));_0x5808c3=vec3(_0x5808c3);for(var _0x1ee4ff=0x0;_0x1ee4ff<0x3;_0x1ee4ff++)normals[_0x12b60f(0x4b3)](_0x5808c3);}var colorSwitch=0x4;function quad(_0x2a0e52,_0x1ef37d,_0x3107cb,_0x538487,_0x56ab16=vec4(0x1,0x1,0x1,0x1)){body_push(vertexPoints[_0x2a0e52],vertexPoints[_0x1ef37d],vertexPoints[_0x3107cb],_0x56ab16),body_push(vertexPoints[_0x2a0e52],vertexPoints[_0x3107cb],vertexPoints[_0x538487],_0x56ab16);}var vertexP=[vec3(-0.5,-0.5,0.5),vec3(-0.5,0.5,0.5),vec3(0.5,0.5,0.5),vec3(0.5,-0.5,0.5),vec3(-0.5,-0.5,-0.5),vec3(-0.5,0.5,-0.5),vec3(0.5,0.5,-0.5),vec3(0.5,-0.5,-0.5)];function soften_edge(_0x84c407,_0xa802bd,_0x371de5=0.1){var _0x50c55e=_0x84c407,_0x94d3f9=_0xa802bd,_0x57f7c6=[],_0x3d76b6=_0x371de5/0x5;return _0x57f7c6[0x3]=vec3(0x0,0x0,0x0),_0x50c55e[0x0]<_0x94d3f9[0x0]?(_0x57f7c6[0x0]=vec3(_0x50c55e[0x0]+_0x371de5,_0x50c55e[0x1],_0x50c55e[0x2]),_0x57f7c6[0x3][0x0]=_0x50c55e[0x0]+_0x3d76b6):_0x50c55e[0x0]>_0x94d3f9[0x0]&&(_0x57f7c6[0x0]=vec3(_0x50c55e[0x0]-_0x371de5,_0x50c55e[0x1],_0x50c55e[0x2]),_0x57f7c6[0x3][0x0]=_0x50c55e[0x0]-_0x3d76b6),_0x50c55e[0x1]<_0x94d3f9[0x1]?(_0x57f7c6[0x1]=vec3(_0x50c55e[0x0],_0x50c55e[0x1]+_0x371de5,_0x50c55e[0x2]),_0x57f7c6[0x3][0x1]=_0x50c55e[0x1]+_0x3d76b6):_0x50c55e[0x1]>_0x94d3f9[0x1]&&(_0x57f7c6[0x1]=vec3(_0x50c55e[0x0],_0x50c55e[0x1]-_0x371de5,_0x50c55e[0x2]),_0x57f7c6[0x3][0x1]=_0x50c55e[0x1]-_0x3d76b6),_0x50c55e[0x2]<_0x94d3f9[0x2]?(_0x57f7c6[0x2]=vec3(_0x50c55e[0x0],_0x50c55e[0x1],_0x50c55e[0x2]+_0x371de5),_0x57f7c6[0x3][0x2]=_0x50c55e[0x2]+_0x3d76b6):_0x50c55e[0x2]>_0x94d3f9[0x2]&&(_0x57f7c6[0x2]=vec3(_0x50c55e[0x0],_0x50c55e[0x1],_0x50c55e[0x2]-_0x371de5),_0x57f7c6[0x3][0x2]=_0x50c55e[0x2]-_0x3d76b6),[_0x57f7c6[0x0],_0x57f7c6[0x1],_0x57f7c6[0x2],_0x57f7c6[0x3]];}function head2(){var _0x55c481=a0_0x567640;for(var _0x2305a5=[],_0x1351f3=[],_0x25909b=[],_0x4dbe0a=[],_0xf939e5=[],_0x2398be=[],_0x39360d=0.2,_0x5a0e61=0x0;_0x5a0e61<vertexP[_0x55c481(0x240)];_0x5a0e61++){for(var _0x29acb4=soften_edge(vertexP[_0x5a0e61],vec3(0x0,0x0,0x0),_0x39360d),_0x4b934e=0x0;_0x4b934e<_0x29acb4[_0x55c481(0x240)];_0x4b934e++)-0.5==_0x29acb4[_0x4b934e][0x2]&&_0x4dbe0a[_0x55c481(0x4b3)](_0x29acb4[_0x4b934e]),0.5==_0x29acb4[_0x4b934e][0x2]&&_0xf939e5[_0x55c481(0x4b3)](_0x29acb4[_0x4b934e]),0.5==_0x29acb4[_0x4b934e][0x1]&&_0x2305a5[_0x55c481(0x4b3)](_0x29acb4[_0x4b934e]),-0.5==_0x29acb4[_0x4b934e][0x1]&&_0x2398be[_0x55c481(0x4b3)](_0x29acb4[_0x4b934e]),0.5==_0x29acb4[_0x4b934e][0x0]&&_0x25909b['push'](_0x29acb4[_0x4b934e]),-0.5==_0x29acb4[_0x4b934e][0x0]&&_0x1351f3[_0x55c481(0x4b3)](_0x29acb4[_0x4b934e]);var _0x4aaa13=[_0x29acb4[0x0],_0x29acb4[0x1],_0x29acb4[0x3],_0x29acb4[0x1],_0x29acb4[0x2],_0x29acb4[0x3],_0x29acb4[0x0],_0x29acb4[0x2],_0x29acb4[0x3]];for(_0x4b934e=0x0;_0x4b934e<_0x4aaa13[_0x55c481(0x240)];_0x4b934e+=0x3)special_push(_0x4aaa13[_0x4b934e],_0x4aaa13[_0x4b934e+0x1],_0x4aaa13[_0x4b934e+0x2]);}draw_z_face(_0x4dbe0a,_0x39360d),draw_z_face(_0xf939e5,_0x39360d),draw_x_face(_0x1351f3,_0x39360d),draw_x_face(_0x25909b,_0x39360d),draw_y_face(_0x2305a5,_0x39360d),draw_y_face(_0x2398be,_0x39360d),NM=vertices[_0x55c481(0x240)];}function draw_z_face(_0x231467,_0x4c5ee1){var _0xf4b8ab,_0x3ddf16,_0x19a230,_0x556662,_0x2df858=_0x231467[0x0][0x2];_0xf4b8ab=vec3(-0.5+_0x4c5ee1,0.5-_0x4c5ee1,_0x2df858),_0x3ddf16=vec3(0.5-_0x4c5ee1,0.5-_0x4c5ee1,_0x2df858),special_push(_0xf4b8ab,_0x19a230=vec3(-0.5+_0x4c5ee1,-0.5+_0x4c5ee1,_0x2df858),_0x556662=vec3(0.5-_0x4c5ee1,-0.5+_0x4c5ee1,_0x2df858)),special_push(_0x556662,_0x3ddf16,_0xf4b8ab),special_push(_0x231467[0x0],_0x231467[0x1],_0x19a230),special_push(_0x231467[0x2],_0x231467[0x3],_0xf4b8ab),special_push(_0x231467[0x4],_0x231467[0x5],_0x3ddf16),special_push(_0x231467[0x6],_0x231467[0x7],_0x556662),special_push(_0x231467[0x3],_0x231467[0x1],_0xf4b8ab),special_push(_0x19a230,_0xf4b8ab,_0x231467[0x1]),special_push(_0x231467[0x0],_0x556662,_0x19a230),special_push(_0x231467[0x0],_0x231467[0x6],_0x556662),special_push(_0x556662,_0x231467[0x7],_0x231467[0x5]),special_push(_0x231467[0x5],_0x3ddf16,_0x556662),special_push(_0x231467[0x4],_0x231467[0x2],_0x3ddf16),special_push(_0x231467[0x2],_0xf4b8ab,_0x3ddf16);}function draw_x_face(_0x1db5af,_0x22cf55){var _0x301a2a,_0x263cf5,_0x5975f2,_0xc27565,_0x1e630f=_0x1db5af[0x0][0x0];_0x301a2a=vec3(_0x1e630f,0.5-_0x22cf55,-0.5+_0x22cf55),_0x263cf5=vec3(_0x1e630f,0.5-_0x22cf55,0.5-_0x22cf55),_0xc27565=vec3(_0x1e630f,-0.5+_0x22cf55,0.5-_0x22cf55),special_push(_0x301a2a,_0x5975f2=vec3(_0x1e630f,-0.5+_0x22cf55,-0.5+_0x22cf55),_0xc27565),special_push(_0xc27565,_0x263cf5,_0x301a2a),special_push(_0x1db5af[0x6],_0x1db5af[0x7],_0x5975f2),special_push(_0x1db5af[0x4],_0x1db5af[0x5],_0x301a2a),special_push(_0x1db5af[0x0],_0x1db5af[0x1],_0x263cf5),special_push(_0x1db5af[0x2],_0x1db5af[0x3],_0xc27565),special_push(_0x1db5af[0x4],_0x1db5af[0x6],_0x301a2a),special_push(_0x1db5af[0x6],_0x5975f2,_0x301a2a),special_push(_0x1db5af[0x5],_0x301a2a,_0x263cf5),special_push(_0x263cf5,_0x1db5af[0x1],_0x1db5af[0x5]),special_push(_0x263cf5,_0xc27565,_0x1db5af[0x2]),special_push(_0x1db5af[0x2],_0x1db5af[0x0],_0x263cf5),special_push(_0xc27565,_0x5975f2,_0x1db5af[0x7]),special_push(_0x1db5af[0x7],_0x1db5af[0x3],_0xc27565);}function draw_y_face(_0x5a2786,_0x2bd278){var _0x2cb522,_0x3f348c,_0x532df7,_0x28e2e1,_0x45ec24=_0x5a2786[0x0][0x1];_0x2cb522=vec3(-0.5+_0x2bd278,_0x45ec24,0.5-_0x2bd278),_0x3f348c=vec3(0.5-_0x2bd278,_0x45ec24,0.5-_0x2bd278),special_push(_0x532df7=vec3(-0.5+_0x2bd278,_0x45ec24,-0.5+_0x2bd278),_0x28e2e1=vec3(0.5-_0x2bd278,_0x45ec24,-0.5+_0x2bd278),_0x2cb522),special_push(_0x3f348c,_0x2cb522,_0x28e2e1),special_push(_0x5a2786[0x5],_0x5a2786[0x4],_0x532df7),special_push(_0x5a2786[0x0],_0x5a2786[0x1],_0x2cb522),special_push(_0x5a2786[0x3],_0x5a2786[0x2],_0x3f348c),special_push(_0x5a2786[0x6],_0x5a2786[0x7],_0x28e2e1),special_push(_0x5a2786[0x5],_0x2cb522,_0x5a2786[0x1]),special_push(_0x5a2786[0x5],_0x532df7,_0x2cb522),special_push(_0x532df7,_0x5a2786[0x4],_0x28e2e1),special_push(_0x28e2e1,_0x5a2786[0x4],_0x5a2786[0x6]),special_push(_0x5a2786[0x3],_0x3f348c,_0x28e2e1),special_push(_0x28e2e1,_0x5a2786[0x7],_0x5a2786[0x3]),special_push(_0x5a2786[0x2],_0x5a2786[0x0],_0x2cb522),special_push(_0x3f348c,_0x5a2786[0x2],_0x2cb522);}function special_push(_0x588cc6,_0x2c44b6,_0x5622eb){var _0x3c7658=a0_0x567640;vertices[_0x3c7658(0x4b3)](_0x588cc6),vertices['push'](_0x2c44b6),vertices[_0x3c7658(0x4b3)](_0x5622eb);for(var _0x2dd93f=0x0;_0x2dd93f<0x3;_0x2dd93f++)colours[_0x3c7658(0x4b3)](vec4(0x1,0.7,0.5,0x1));var _0x561ae7=subtract(_0x2c44b6,_0x588cc6),_0x4f5587=cross(subtract(_0x5622eb,_0x588cc6),_0x561ae7);_0x4f5587=vec3(_0x4f5587),normals[_0x3c7658(0x4b3)](vec3(_0x588cc6[0x0],_0x588cc6[0x1],_0x588cc6[0x2])),normals[_0x3c7658(0x4b3)](vec3(_0x2c44b6[0x0],_0x2c44b6[0x1],_0x2c44b6[0x2])),normals['push'](vec3(_0x5622eb[0x0],_0x5622eb[0x1],_0x5622eb[0x2]));for(var _0x15168c=0x0;_0x15168c<0x3;_0x15168c++)texCoords[_0x3c7658(0x4b3)](vec2(0x2,0x2));}function build_hair(){}function build_shoulder(){cube([0x6,0x6,0x6,0x6,0x6,0x6],vec4(0.35,0.24,0.19,0x1));}function build_torso(){cube([0x6,0x6,0x6,0x6,0x6,0x6],vec4(0.35,0.24,0.19,0x1));}function build_leg(){cube([0x7,0x7,0x7,0x7,0x7,0x7],vec4(0.2,0.42,0.68,0x1));}function build_eye(){cube([-0x1,-0x1,-0x1,-0x1,-0x1,-0x1],vec4(0x0,0x0,0x0,0x1));}function cube(_0x157c64,_0x228434=vec4(0x1,0x1,0x1,0x1)){quad(0x1,0x0,0x3,0x2,_0x228434),set_humanoid_texture(),quad(0x2,0x3,0x7,0x6,_0x228434),set_humanoid_texture(),quad(0x3,0x0,0x4,0x7,_0x228434),set_humanoid_texture(),quad(0x6,0x5,0x1,0x2,_0x228434),set_humanoid_texture(),quad(0x4,0x5,0x6,0x7,_0x228434),set_humanoid_texture(),quad(0x5,0x4,0x0,0x1,_0x228434),set_humanoid_texture();}function create_node(_0xbc1844,_0x3a3257,_0x6347a6,_0x37ec84){return{'transform':_0xbc1844,'render':_0x3a3257,'sibling':_0x6347a6,'child':_0x37ec84};}function initialize_node(_0x14196c,_0x4f87f0=0x0,_0x187738=0x0,_0x128a0e=0x0){var _0x52cebb=a0_0x567640,_0x5d9e80=mat4();switch(_0x14196c){case bodyId:_0x5d9e80=mult(_0x5d9e80=scale4(0.5,0.5,0.5),rotateX(-0x5a)),_0x5d9e80=mult(_0x5d9e80,rotateY(angleFacing)),_0x5d9e80=mult(translate(_0x4f87f0,_0x187738,-3.25,0x0),_0x5d9e80),humanoid[bodyId]=create_node(_0x5d9e80,body,null,headId);break;case headId:_0x5d9e80=translate(0x0,1.5,0x0,0x0),humanoid[headId]=create_node(_0x5d9e80,head,leftArmId,leftEyeId);break;case leftArmId:!player[_0x52cebb(0x3be)]||player['isSwinging']||player[_0x52cebb(0x1dc)]?(_0x5d9e80=rotateX(armAngleLeftSwing),_0x5d9e80=mult(rotateY(armAngleLeftTilt),_0x5d9e80)):_0x5d9e80=rotateX(armAngleLeft),_0x5d9e80=mult(translate(-0.75,1.125,0x0,0x0),_0x5d9e80),humanoid[leftArmId]=create_node(_0x5d9e80,left_arm,rightArmId,leftShoulderId);break;case rightArmId:!player[_0x52cebb(0x3be)]||player['isSwinging']||player[_0x52cebb(0x1dc)]||player[_0x52cebb(0x429)]?(_0x5d9e80=rotateX(armAngleRightSwing),_0x5d9e80=mult(rotateY(armAngleRightTilt),_0x5d9e80),player[_0x52cebb(0x1dc)]&&(_0x5d9e80=mult(translate(0x0,-0.1,0.34),_0x5d9e80))):_0x5d9e80=rotateX(armAngleRight),_0x5d9e80=mult(translate(0.75,1.125,0x0,0x0),_0x5d9e80),humanoid[rightArmId]=create_node(_0x5d9e80,right_arm,leftLegId,rightShoulderId);break;case leftLegId:_0x5d9e80=rotateX(-legAngle),_0x5d9e80=mult(translate(-0.25,-0.25,0x0,0x0),_0x5d9e80),humanoid[leftLegId]=create_node(_0x5d9e80,left_leg,rightLegId,null);break;case rightLegId:_0x5d9e80=rotateX(legAngle),_0x5d9e80=mult(translate(0.25,-0.25,0x0,0x0),_0x5d9e80),humanoid[rightLegId]=create_node(_0x5d9e80,right_leg,null,null);break;case leftShoulderId:humanoid[leftShoulderId]=create_node(_0x5d9e80,left_shoulder,null,null);break;case rightShoulderId:humanoid[rightShoulderId]=create_node(_0x5d9e80,right_shoulder,toolId,null);break;case leftEyeId:humanoid[leftEyeId]=create_node(_0x5d9e80,left_eye,rightEyeId,null);break;case rightEyeId:humanoid[rightEyeId]=create_node(_0x5d9e80,right_eye,null,null);break;case toolId:humanoid[toolId]=create_node(_0x5d9e80,tool,null,null);}}function traverse(_0x38902b){var _0x1fe5c5=a0_0x567640;null!=_0x38902b&&(modelViewStack['push'](modelViewMatrix),modelViewMatrix=mult(modelViewMatrix,humanoid[_0x38902b][_0x1fe5c5(0x39a)]),humanoid[_0x38902b][_0x1fe5c5(0x3de)](),null!=humanoid[_0x38902b]['child']&&traverse(humanoid[_0x38902b][_0x1fe5c5(0x344)]),modelViewMatrix=modelViewStack['pop'](),null!=humanoid[_0x38902b][_0x1fe5c5(0x1f4)]&&traverse(humanoid[_0x38902b][_0x1fe5c5(0x1f4)]));}function traverse_shadow(_0x43f51b){var _0x56fd5a=a0_0x567640;null!=_0x43f51b&&(fixedView?(shadowMV=translate(0x0,0x0,0x0),shadowMV=mult(shadowMV,scale4(0.125,0x1/4.5,0.1)),shadowMV=mult(shadowMV,translate(-0x8,-4.5,0x0))):(shadowMV=translate(0x1,0x1,0x0),shadowMV=mult(shadowMV,scale4(0.125,0x1/4.5,0.1)),shadowMV=mult(shadowMV,translate(-0x8,-4.5,0x0))),modelViewStack['push'](shadowMV),shadowMV=mult(shadowMV,humanoid[_0x43f51b][_0x56fd5a(0x39a)]),shadowMV=mult(sMatrixForPlayer,shadowMV),modelViewMatrix=shadowMV,humanoid[_0x43f51b][_0x56fd5a(0x3de)](),null!=humanoid[_0x43f51b]['child']&&traverse(humanoid[_0x43f51b][_0x56fd5a(0x344)]),shadowMV=modelViewStack[_0x56fd5a(0x34b)](),null!=humanoid[_0x43f51b][_0x56fd5a(0x1f4)]&&traverse(humanoid[_0x43f51b][_0x56fd5a(0x1f4)]));}function build_humanoid(){}function scale4(_0x239aba,_0x1e4f00,_0x3649ee){var _0x480012=mat4();return _0x480012[0x0][0x0]=_0x239aba,_0x480012[0x1][0x1]=_0x1e4f00,_0x480012[0x2][0x2]=_0x3649ee,_0x480012;}var move=0x0;function body(){var _0x5b1c2a=a0_0x567640;move++;var _0x3ea07c=scale4(BODY_WIDTH,BODY_HEIGHT,BODY_DEPTH);_0x3ea07c=mult(translate(0x0,0.25,0x0),_0x3ea07c);var _0x183c1a=mult(modelViewMatrix,_0x3ea07c);gl[_0x5b1c2a(0x496)](modelViewMatrixLoc,!0x1,flatten(_0x183c1a)),gl[_0x5b1c2a(0x20f)](gl[_0x5b1c2a(0x2ef)],headVerts+shoulderVerts,torsoVerts);}function head(){var _0x35876f=a0_0x567640,_0x50c0a1=scale4(0x1,0x1,0x1),_0x198530=mult(modelViewMatrix,_0x50c0a1);gl['uniformMatrix4fv'](modelViewMatrixLoc,!0x1,flatten(_0x198530)),gl[_0x35876f(0x20f)](gl[_0x35876f(0x2ef)],0x0,headVerts);}function left_arm(){var _0x577501=a0_0x567640,_0x474bc5=scale4(0.5,ARM_HEIGHT,BODY_DEPTH);_0x474bc5=mult(translate(0x0,-0x1,0x0),_0x474bc5);var _0x1fa54d=mult(modelViewMatrix,_0x474bc5);gl[_0x577501(0x496)](modelViewMatrixLoc,!0x1,flatten(_0x1fa54d)),gl[_0x577501(0x20f)](gl[_0x577501(0x2ef)],0x0,headVerts);}function right_arm(){var _0x2313da=a0_0x567640,_0x392bdd=scale4(0.5,ARM_HEIGHT,BODY_DEPTH);_0x392bdd=mult(translate(0x0,-0x1,0x0),_0x392bdd);var _0x4d726a=mult(modelViewMatrix,_0x392bdd);gl['uniformMatrix4fv'](modelViewMatrixLoc,!0x1,flatten(_0x4d726a)),gl[_0x2313da(0x20f)](gl['TRIANGLES'],0x0,headVerts);}function left_leg(){var _0x5bc23b=a0_0x567640,_0x1f83b1=scale4(0.5,APPENDAGE_HEIGHT,BODY_DEPTH);_0x1f83b1=mult(translate(0x0,-1.25,0x0),_0x1f83b1);var _0x18afe1=mult(modelViewMatrix,_0x1f83b1);gl[_0x5bc23b(0x496)](modelViewMatrixLoc,!0x1,flatten(_0x18afe1)),gl['drawArrays'](gl[_0x5bc23b(0x2ef)],headVerts+shoulderVerts+torsoVerts,legVerts);}function right_leg(){var _0x4d35d1=a0_0x567640,_0x5d0c58=scale4(0.5,APPENDAGE_HEIGHT,BODY_DEPTH);_0x5d0c58=mult(translate(0x0,-1.25,0x0),_0x5d0c58);var _0x456ee4=mult(modelViewMatrix,_0x5d0c58);gl[_0x4d35d1(0x496)](modelViewMatrixLoc,!0x1,flatten(_0x456ee4)),gl[_0x4d35d1(0x20f)](gl[_0x4d35d1(0x2ef)],headVerts+shoulderVerts+torsoVerts,legVerts);}function left_shoulder(){var _0x4891ba=a0_0x567640,_0x21dba7=scale4(0.6,0.6,0.6);_0x21dba7=mult(translate(0x0,-0.2,0x0),_0x21dba7);var _0x2d1132=mult(modelViewMatrix,_0x21dba7);gl['uniformMatrix4fv'](modelViewMatrixLoc,!0x1,flatten(_0x2d1132)),gl['drawArrays'](gl[_0x4891ba(0x2ef)],headVerts,shoulderVerts);}function right_shoulder(){var _0x236d48=a0_0x567640,_0x1169aa=scale4(0.6,0.6,0.6);_0x1169aa=mult(translate(0x0,-0.2,0x0),_0x1169aa);var _0x333e7b=mult(modelViewMatrix,_0x1169aa);gl[_0x236d48(0x496)](modelViewMatrixLoc,!0x1,flatten(_0x333e7b)),gl[_0x236d48(0x20f)](gl[_0x236d48(0x2ef)],headVerts,shoulderVerts);}function left_eye(){var _0x10c8c0=a0_0x567640,_0x478074=scale4(0.1,0.2,0.2);_0x478074=mult(translate(-0.25,0.1,-0.43),_0x478074);var _0x23ef0f=mult(modelViewMatrix,_0x478074);gl[_0x10c8c0(0x496)](modelViewMatrixLoc,!0x1,flatten(_0x23ef0f)),gl[_0x10c8c0(0x20f)](gl[_0x10c8c0(0x2ef)],headVerts+shoulderVerts+torsoVerts+legVerts,eyeVerts);}function right_eye(){var _0x3814a4=a0_0x567640,_0x22a783=scale4(0.1,0.2,0.2);_0x22a783=mult(translate(0.25,0.1,-0.43),_0x22a783);var _0x4c2514=mult(modelViewMatrix,_0x22a783);gl['uniformMatrix4fv'](modelViewMatrixLoc,!0x1,flatten(_0x4c2514)),gl[_0x3814a4(0x20f)](gl[_0x3814a4(0x2ef)],headVerts+shoulderVerts+torsoVerts+legVerts,eyeVerts);}function tool(){var _0x1e3743=a0_0x567640;if(null!=player['heldObject']){if(_0x1e3743(0x231)==player[_0x1e3743(0x213)][_0x1e3743(0x2c9)]){_0x4ef2a7=mult(_0x4ef2a7=translate(-0.3,-1.25,-0.65),rotateY(0x23)),_0x4ef2a7=mult(_0x4ef2a7,rotateX(0x64));var _0x7132fe=mult(modelViewMatrix,_0x4ef2a7);player['heldObject'][_0x1e3743(0x3ad)](_0x7132fe);}else{if(player[_0x1e3743(0x1dc)])_0x4ef2a7=mult(_0x4ef2a7=translate(-0.2,-1.75,1.25),rotateX(-0x5a)),_0x4ef2a7=mult(_0x4ef2a7,rotateY(0x5a)),_0x4ef2a7=mult(_0x4ef2a7,rotateY(0xa)),_0x7132fe=mult(modelViewMatrix,_0x4ef2a7),player[_0x1e3743(0x213)]['drawTransparent'](_0x7132fe);else{var _0x4ef2a7;_0x4ef2a7=mult(_0x4ef2a7=translate(0x0,-0x2,0.15),rotateX(-0x23)),_0x4ef2a7=mult(_0x4ef2a7,rotateY(0x5a));var _0x7132fe=mult(modelViewMatrix,_0x4ef2a7);player[_0x1e3743(0x213)]['drawTransparent'](_0x7132fe);}}}}var vPs=[vec3(0x0,0x0,0x1),vec3(0x0,0x1,0x1),vec3(0x1,0x1,0x1),vec3(0x1,0x0,0x1),vec3(0x0,0x0,0x0),vec3(0x0,0x1,0x0),vec3(0x1,0x1,0x0),vec3(0x1,0x0,0x0)];function block_face(_0x26a13c,_0x19e1d3,_0x2651a0,_0x9e03ea,_0x12f6bb=!0x1,_0x1af703=vec4(0x1,0x1,0x1,0x1)){_0x12f6bb?(default_push(vPs[_0x26a13c],vPs[_0x19e1d3],vPs[_0x2651a0],_0x1af703,_0x1af703,_0x1af703),default_push(vPs[_0x26a13c],vPs[_0x2651a0],vPs[_0x9e03ea],_0x1af703,_0x1af703,_0x1af703)):(default_push(vPs[_0x26a13c],vPs[_0x9e03ea],vPs[_0x2651a0],_0x1af703,_0x1af703,_0x1af703),default_push(vPs[_0x26a13c],vPs[_0x2651a0],vPs[_0x19e1d3],_0x1af703,_0x1af703,_0x1af703));}function build_block(_0x2b4512,_0x2cdfab=0.0065,_0x3df8fd=0.0065,_0x5461e1=_0x2b4512,_0x31b429=_0x2b4512){block_face(0x1,0x0,0x3,0x2),set_texture(_0x2b4512,_0x2cdfab,_0x3df8fd),block_face(0x2,0x3,0x7,0x6,!0x0),set_texture(_0x31b429,_0x2cdfab,_0x3df8fd),block_face(0x3,0x0,0x4,0x7,!0x0),set_texture(_0x5461e1,_0x2cdfab,_0x3df8fd),block_face(0x6,0x5,0x1,0x2,!0x0),set_texture(_0x5461e1,_0x2cdfab,_0x3df8fd),block_face(0x4,0x5,0x6,0x7,!0x0),set_texture(_0x2b4512,_0x2cdfab,_0x3df8fd),block_face(0x5,0x4,0x0,0x1,!0x0),set_texture(_0x31b429,_0x2cdfab,_0x3df8fd);}function get_specific_block_offset(_0x4c1047){return NM+0x24*_0x4c1047;}class zObject{constructor(){var _0x4fd49e=a0_0x567640;this['typeOfObj']=_0x4fd49e(0x26d),this[_0x4fd49e(0x472)]='none',this['numReturned']=0x1,this[_0x4fd49e(0x4a3)]=_0x4fd49e(0x239);}[a0_0x567640(0x3c0)](){var _0x13fd4a=a0_0x567640,_0x2a77d5=this[_0x13fd4a(0x408)]();if(null==_0x2a77d5)return!0x1;for(var _0x107c4f=!0x0,_0x16d739=0x0;_0x16d739<_0x2a77d5[_0x13fd4a(0x240)];_0x16d739++)player[_0x13fd4a(0x49a)](_0x2a77d5[_0x16d739][0x0])<_0x2a77d5[_0x16d739][0x1]&&(_0x107c4f=!0x1);return _0x107c4f;}[a0_0x567640(0x2ab)](){var _0x64cf08=a0_0x567640;if(0x0!=this[_0x64cf08(0x3c0)]()){for(var _0x4e76be=this['getRecipe'](),_0x280461=0x0;_0x280461<_0x4e76be[_0x64cf08(0x240)];_0x280461++)for(var _0x2f87fa=0x0;_0x2f87fa<_0x4e76be[_0x280461][0x1];_0x2f87fa++)player[_0x64cf08(0x270)](_0x4e76be[_0x280461][0x0]);for(_0x280461=0x0;_0x280461<this['numReturned'];_0x280461++)player[_0x64cf08(0x2b9)](this[_0x64cf08(0x35a)]());}}[a0_0x567640(0x408)](){return null;}['copy'](){var _0x5c9b62=a0_0x567640;return new this[(_0x5c9b62(0x23d))]();}[a0_0x567640(0x410)](){}[a0_0x567640(0x3d4)](){}['onRelease'](){}[a0_0x567640(0x3da)](_0x21bc8c){var _0xf09b8b=a0_0x567640;gl[_0xf09b8b(0x496)](modelViewMatrixLoc,!0x1,flatten(_0x21bc8c)),gl[_0xf09b8b(0x20f)](gl[_0xf09b8b(0x2ef)],this['index'],this[_0xf09b8b(0x306)]);}[a0_0x567640(0x3ad)](_0x5d8291){this['drawSmall'](_0x5d8291);}}class BlockWall extends zObject{constructor(_0x1cb8dc,_0x73ba10,_0x3267a4,_0x13d857=0x0,_0x46c69d=!0x1,_0x208bd9=a0_0x567640(0x26d)){var _0x22f6e5=a0_0x567640;super(),this['texture']=_0x13d857,this[_0x22f6e5(0x40d)]=translate(_0x1cb8dc,_0x73ba10,_0x3267a4),this[_0x22f6e5(0x246)]=_0x1cb8dc,this[_0x22f6e5(0x433)]=_0x73ba10,this[_0x22f6e5(0x328)]=_0x3267a4,this[_0x22f6e5(0x303)]=0x0,this[_0x22f6e5(0x306)]=0x24,this[_0x22f6e5(0x39e)]=_0x46c69d,this[_0x22f6e5(0x2c9)]='BLOCK',this[_0x22f6e5(0x395)]=_0x22f6e5(0x2b1),this[_0x22f6e5(0x472)]=_0x22f6e5(0x26d),this['desc']='No\x20description.',this['tob']=_0x208bd9,this[_0x22f6e5(0x44a)]=null,this[_0x22f6e5(0x2c8)]=vec3(0.5,0.5,0.5),this[_0x22f6e5(0x3e7)]=!0x1,this[_0x22f6e5(0x232)]=!0x1,this[_0x22f6e5(0x33f)]=!0x1,this['isCeiling']=!0x1,this[_0x22f6e5(0x3bf)]=!0x0,this[_0x22f6e5(0x1ee)]=!0x0,this[_0x22f6e5(0x478)]=!0x0,this[_0x22f6e5(0x24e)]=!0x0,this[_0x22f6e5(0x3e3)]=!0x0,this[_0x22f6e5(0x3d1)]=_0x22f6e5(0x221);}[a0_0x567640(0x493)](){var _0x5a4f0a=a0_0x567640;return this[_0x5a4f0a(0x35a)]();}[a0_0x567640(0x1e8)](){var _0x9a1759=a0_0x567640;if(!inDungeon){if(this['posZ']>=-0x4)this[_0x9a1759(0x4af)]=!0x1;else{var _0x599c3f=world[_0x9a1759(0x39c)](this[_0x9a1759(0x246)]-0x1,this[_0x9a1759(0x433)],this[_0x9a1759(0x328)]),_0x540c9b=world[_0x9a1759(0x39c)](this[_0x9a1759(0x246)]+0x1,this[_0x9a1759(0x433)],this['posZ']),_0x1ef8b8=world['getBlockAt'](this[_0x9a1759(0x246)],this[_0x9a1759(0x433)]+0x1,this['posZ']),_0x3990a4=world[_0x9a1759(0x39c)](this[_0x9a1759(0x246)],this[_0x9a1759(0x433)]-0x1,this[_0x9a1759(0x328)]);if(-0x6==this[_0x9a1759(0x328)]){var _0x2e01ca=world['getBlockAt'](this['posX'],this['posY'],this['posZ']+0x1),_0x95b5dd=world[_0x9a1759(0x39c)](this[_0x9a1759(0x246)],this['posY'],this['posZ']+0x2);this[_0x9a1759(0x4af)]=!0x0,null!=_0x2e01ca&&null!=_0x95b5dd?(this['isCeiling']=!0x1,this[_0x9a1759(0x1ee)]=!0x0,this[_0x9a1759(0x478)]=!0x0,this['drawBack']=!0x0,this[_0x9a1759(0x3e3)]=!0x0):(this[_0x9a1759(0x1ee)]=null==_0x599c3f,this[_0x9a1759(0x478)]=null==_0x540c9b,this[_0x9a1759(0x24e)]=null==_0x1ef8b8,this[_0x9a1759(0x3e3)]=null==_0x3990a4);}else-0x5==this[_0x9a1759(0x328)]&&(null!=world[_0x9a1759(0x39c)](this[_0x9a1759(0x246)],this[_0x9a1759(0x433)],this[_0x9a1759(0x328)]+0x1)?this[_0x9a1759(0x4af)]=!0x1:this[_0x9a1759(0x4af)]=!0x0);}}}['spawnParticles'](){var _0x191701=a0_0x567640,_0x1481f8=Math[_0x191701(0x267)](0x6*Math[_0x191701(0x47c)]())+0x6;for(let _0x32a50f=0x0;_0x32a50f<_0x1481f8;_0x32a50f++){var _0x4e7dff=Math[_0x191701(0x47c)](),_0x34de42=Math[_0x191701(0x47c)]()-0.5,_0x37a1cb=Math['random']()-0.5;new Particle(this[_0x191701(0x246)]+_0x34de42,this[_0x191701(0x433)]+_0x37a1cb,this['posZ']+_0x4e7dff,this[_0x191701(0x2c8)]);}}[a0_0x567640(0x441)](){var _0x423739=a0_0x567640;this['spawnParticles'](),player[_0x423739(0x2b9)](this['drop']());}[a0_0x567640(0x1da)](){var _0x7bfb62=a0_0x567640;return this[_0x7bfb62(0x303)];}[a0_0x567640(0x382)](){var _0x56cd1d=a0_0x567640;return this[_0x56cd1d(0x472)];}[a0_0x567640(0x36a)](){var _0x54f72b=a0_0x567640;return[this[_0x54f72b(0x246)],this[_0x54f72b(0x433)],this['posZ']];}['returnBounds'](){var _0x264a2d=a0_0x567640;return fixedView?[vec3(this[_0x264a2d(0x246)],this[_0x264a2d(0x433)],this[_0x264a2d(0x328)]),vec3(this['posX']+0x1,this['posY']+0x1,this[_0x264a2d(0x328)]+0x1)]:[vec3(mult(translate(0x0,0x0,0x0),vec4(this[_0x264a2d(0x246)],this['posY'],this[_0x264a2d(0x328)],0x1))),vec3(mult(translate(0x0,0x0,0x0),vec4(this[_0x264a2d(0x246)]+0x1,this[_0x264a2d(0x433)]+0x1,this[_0x264a2d(0x328)]+0x1,0x1)))];}[a0_0x567640(0x27a)](){var _0x600488=a0_0x567640;build_block(this[_0x600488(0x284)]);}[a0_0x567640(0x3af)](){var _0x5dd26d=a0_0x567640;-0x6==upOne?gl[_0x5dd26d(0x495)](opacityFactorLoc,0.4):-0x5==upOne?gl[_0x5dd26d(0x495)](opacityFactorLoc,0.3):gl[_0x5dd26d(0x495)](opacityFactorLoc,0x0);}[a0_0x567640(0x41c)](){var _0x3330ea=a0_0x567640;if(this['isCeiling'])set_mv(this[_0x3330ea(0x40d)]),this[_0x3330ea(0x3af)](),this['drawRight']&&gl[_0x3330ea(0x20f)](gl['TRIANGLES'],this[_0x3330ea(0x303)]+0x6,0x6),this[_0x3330ea(0x1ee)]&&gl[_0x3330ea(0x20f)](gl[_0x3330ea(0x2ef)],this[_0x3330ea(0x303)]+0x1e,0x6),this[_0x3330ea(0x3e3)]&&gl[_0x3330ea(0x20f)](gl['TRIANGLES'],this[_0x3330ea(0x303)]+0xc,0x6),this[_0x3330ea(0x24e)]&&gl['drawArrays'](gl['TRIANGLES'],this[_0x3330ea(0x303)]+0x12,0x6);else{if(set_mv(this[_0x3330ea(0x40d)]),this['ground'])return void gl['drawArrays'](gl['TRIANGLES'],this['index']+0x18,0x6);hitBox&&gl[_0x3330ea(0x20f)](gl[_0x3330ea(0x1f3)],numberOfByte[0x0],numberOfByte[0x1]),gl['drawArrays'](gl[_0x3330ea(0x2ef)],this[_0x3330ea(0x303)]+0x6,this[_0x3330ea(0x306)]-0x6);}}[a0_0x567640(0x3e5)](){var _0x1f68ad=a0_0x567640;set_mv(this[_0x1f68ad(0x40d)]),this[_0x1f68ad(0x3af)](),gl['drawArrays'](gl[_0x1f68ad(0x2ef)],this[_0x1f68ad(0x303)]+0x18,0x6);}[a0_0x567640(0x3da)](_0x34b251){var _0x2b0e2f=a0_0x567640;gl[_0x2b0e2f(0x496)](modelViewMatrixLoc,!0x1,flatten(_0x34b251)),gl[_0x2b0e2f(0x20f)](gl[_0x2b0e2f(0x2ef)],this['index'],this[_0x2b0e2f(0x306)]);}[a0_0x567640(0x3ad)](_0x32792a){this['drawSmall'](_0x32792a);}[a0_0x567640(0x4c6)](_0x3fe6ea){var _0x33c795=a0_0x567640;this[_0x33c795(0x3da)](_0x3fe6ea);}[a0_0x567640(0x264)](){var _0x269d9a=a0_0x567640;if(!(this['posZ']>=-0x2)){var _0x409182=mult(modelViewMatrix,this[_0x269d9a(0x40d)]),_0x5b14c1=mult(sMatrix,_0x409182);gl[_0x269d9a(0x496)](modelViewMatrixLoc,!0x1,flatten(_0x5b14c1)),gl[_0x269d9a(0x20f)](gl[_0x269d9a(0x2ef)],this[_0x269d9a(0x303)],this[_0x269d9a(0x306)]);}}[a0_0x567640(0x484)](){var _0x4d665b=a0_0x567640;set_mv(this[_0x4d665b(0x40d)]),gl[_0x4d665b(0x20f)](gl[_0x4d665b(0x1f3)],numberOfByte[0x0],numberOfByte[0x1]);}[a0_0x567640(0x35a)](_0x559b8c=null,_0x197563=null,_0x155f39=null){var _0x179887=a0_0x567640;return new this[(_0x179887(0x23d))](_0x559b8c,_0x197563,_0x155f39);}['onClick'](){}[a0_0x567640(0x279)](){}['intersect'](){}}class SpecialBlock{constructor(_0x17a98f,_0x2a0bd6,_0xeffaf){var _0x22a6ae=a0_0x567640;this['instanceMat']=translate(_0x17a98f,_0x2a0bd6,_0xeffaf),this[_0x22a6ae(0x246)]=_0x17a98f,this[_0x22a6ae(0x433)]=_0x2a0bd6,this[_0x22a6ae(0x328)]=_0xeffaf,this[_0x22a6ae(0x303)]=0x0,this[_0x22a6ae(0x306)]=0x24,this[_0x22a6ae(0x395)]=_0x22a6ae(0x43a),this[_0x22a6ae(0x44a)]=-0x1;}[a0_0x567640(0x1e8)](){}[a0_0x567640(0x36a)](){var _0x281ac1=a0_0x567640;return[this[_0x281ac1(0x246)],this['posY'],this[_0x281ac1(0x328)]];}[a0_0x567640(0x3ae)](){var _0xe4942b=a0_0x567640;return fixedView?[vec3(this[_0xe4942b(0x246)],this['posY'],this[_0xe4942b(0x328)]),vec3(this[_0xe4942b(0x246)]+0x1,this[_0xe4942b(0x433)]+0x1,this[_0xe4942b(0x328)]+0x1)]:[vec3(mult(translate(0x0,0x0,0x0),vec4(this[_0xe4942b(0x246)],this['posY'],this['posZ'],0x1))),vec3(mult(translate(0x0,0x0,0x0),vec4(this['posX']+0x1,this[_0xe4942b(0x433)]+0x1,this['posZ']+0x1,0x1)))];}[a0_0x567640(0x27a)](){var _0x1626a9=a0_0x567640;build_block(this[_0x1626a9(0x284)]);}['draw'](){var _0x34c199=a0_0x567640;hitBox&&(set_mv(this['instanceMat']),gl[_0x34c199(0x20f)](gl[_0x34c199(0x1f3)],numberOfByte[0x0],numberOfByte[0x1]));}[a0_0x567640(0x4a1)](_0x2559e3=0x0){}[a0_0x567640(0x264)](){}[a0_0x567640(0x383)](){}[a0_0x567640(0x279)](){}}class NullifierBlock{constructor(_0x463e1f=null,_0x408a15=null,_0x4666ad=null){var _0x380926=a0_0x567640;this[_0x380926(0x40d)]=translate(_0x463e1f,_0x408a15,_0x4666ad),this[_0x380926(0x246)]=_0x463e1f,this['posY']=_0x408a15,this['posZ']=_0x4666ad,this['type']=_0x380926(0x214);}}class WoodBlock extends BlockWall{constructor(_0x5f4fa4=null,_0x16c519=null,_0x637adb=null,_0x569d57=!0x1){var _0x5d1f3d=a0_0x567640;super(_0x5f4fa4,_0x16c519,_0x637adb,0x5,_0x569d57),this[_0x5d1f3d(0x303)]=woodStart,this[_0x5d1f3d(0x472)]=_0x5d1f3d(0x4b4),this[_0x5d1f3d(0x44a)]=0x0,this[_0x5d1f3d(0x438)]=0x2,this[_0x5d1f3d(0x23c)]=_0x5d1f3d(0x43f),this[_0x5d1f3d(0x2bf)]='WOOD',this['sound']=_0x5d1f3d(0x44b);}['getRecipe'](){return[[new WoodLog(),0x1]];}}class TestBlock extends BlockWall{constructor(_0x1131be=null,_0x121db0=null,_0x11bf23=null,_0x5e8fad=!0x1){var _0x358e29=a0_0x567640;super(_0x1131be,_0x121db0,_0x11bf23,0x9,_0x5e8fad),this[_0x358e29(0x303)]=testStart,this[_0x358e29(0x472)]=_0x358e29(0x334),this['objectNumber']=0x7,this[_0x358e29(0x438)]=0x1,this[_0x358e29(0x23c)]='A\x20test\x20block.',this['isCeiling']=!0x0,this[_0x358e29(0x3bf)]=!0x0,this[_0x358e29(0x1ee)]=!0x0,this[_0x358e29(0x478)]=!0x0,this[_0x358e29(0x24e)]=!0x0,this[_0x358e29(0x3e3)]=!0x0;}[a0_0x567640(0x1e8)](){var _0x2eb62a=a0_0x567640;if(this[_0x2eb62a(0x328)]>=-0x4)this['isCeiling']=!0x1;else{var _0x171388=world[_0x2eb62a(0x39c)](this[_0x2eb62a(0x246)]-0x1,this[_0x2eb62a(0x433)],this[_0x2eb62a(0x328)]),_0x52aa54=world[_0x2eb62a(0x39c)](this['posX']+0x1,this[_0x2eb62a(0x433)],this[_0x2eb62a(0x328)]),_0x36a359=world[_0x2eb62a(0x39c)](this[_0x2eb62a(0x246)],this[_0x2eb62a(0x433)]+0x1,this[_0x2eb62a(0x328)]),_0x576fc2=world[_0x2eb62a(0x39c)](this[_0x2eb62a(0x246)],this['posY']-0x1,this[_0x2eb62a(0x328)]);if(this[_0x2eb62a(0x1ee)]=null==_0x171388,this[_0x2eb62a(0x478)]=null==_0x52aa54,this[_0x2eb62a(0x24e)]=null==_0x36a359,this['drawFront']=null==_0x576fc2,-0x6==this[_0x2eb62a(0x328)]){var _0x53a555=world[_0x2eb62a(0x39c)](this[_0x2eb62a(0x246)],this[_0x2eb62a(0x433)],this[_0x2eb62a(0x328)]+0x1),_0xb1962c=world['getBlockAt'](this[_0x2eb62a(0x246)],this[_0x2eb62a(0x433)],this['posZ']+0x2);this[_0x2eb62a(0x4af)]=!0x0,null!=_0x53a555&&null!=_0xb1962c&&(this[_0x2eb62a(0x4af)]=!0x1);}else-0x5==this[_0x2eb62a(0x328)]&&(null!=world[_0x2eb62a(0x39c)](this[_0x2eb62a(0x246)],this['posY'],this['posZ']+0x1)?this[_0x2eb62a(0x4af)]=!0x1:this[_0x2eb62a(0x4af)]=!0x0);}}[a0_0x567640(0x41c)](){var _0x51292f=a0_0x567640;set_mv(this[_0x51292f(0x40d)]),this[_0x51292f(0x3bf)]&&gl[_0x51292f(0x20f)](gl['TRIANGLES'],this[_0x51292f(0x303)]+0x18,0x6),this[_0x51292f(0x1ee)]&&gl['drawArrays'](gl[_0x51292f(0x2ef)],this[_0x51292f(0x303)]+0x1e,0x6),this[_0x51292f(0x24e)]&&gl[_0x51292f(0x20f)](gl[_0x51292f(0x2ef)],this[_0x51292f(0x303)]+0x12,0x6),this[_0x51292f(0x3e3)]&&gl[_0x51292f(0x20f)](gl[_0x51292f(0x2ef)],this[_0x51292f(0x303)]+0xc,0x6),this[_0x51292f(0x478)]&&gl[_0x51292f(0x20f)](gl['TRIANGLES'],this['index']+0x6,0x6);}}class DirtBlock extends BlockWall{constructor(_0xbcc49d=null,_0x4e4705=null,_0x28d336=null,_0x49c402=!0x1){var _0x17d706=a0_0x567640;super(_0xbcc49d,_0x4e4705,_0x28d336,0x1,_0x49c402),this[_0x17d706(0x303)]=dirtStart,this[_0x17d706(0x472)]=_0x17d706(0x46e),this[_0x17d706(0x44a)]=0x8,this[_0x17d706(0x23c)]='A\x20dirt\x20block.';const _0x2e1e61=Math['floor'](0x4*Math[_0x17d706(0x47c)]());0x0==_0x2e1e61&&this[_0x17d706(0x353)](0x0,0.001),0x1==_0x2e1e61&&this[_0x17d706(0x353)](0x5a,0.0001),0x2==_0x2e1e61&&this[_0x17d706(0x353)](0xb4,-0.0001),0x3==_0x2e1e61&&this[_0x17d706(0x353)](0x10e,-0.001);}[a0_0x567640(0x441)](){}[a0_0x567640(0x41c)](){var _0x4994b5=a0_0x567640;set_mv(this[_0x4994b5(0x40d)]),hitBox&&gl[_0x4994b5(0x20f)](gl['LINES'],numberOfByte[0x0],numberOfByte[0x1]),gl[_0x4994b5(0x20f)](gl[_0x4994b5(0x2ef)],this[_0x4994b5(0x303)]+0x18,0x6);}[a0_0x567640(0x353)](_0x2c80b0,_0x16ba51){var _0x319178=a0_0x567640;this[_0x319178(0x40d)]=translate(this['posX'],this[_0x319178(0x433)],this['posZ']),this[_0x319178(0x3d5)]=_0x2c80b0,this['instanceMat']=mult(this[_0x319178(0x40d)],translate(0.5,0.5,0x0)),this[_0x319178(0x433)],this[_0x319178(0x40d)]=mult(this['instanceMat'],rotateZ(this[_0x319178(0x3d5)])),this[_0x319178(0x40d)]=mult(this[_0x319178(0x40d)],translate(-0.5,-0.5,0x0));}[a0_0x567640(0x27a)](){var _0x53522b=a0_0x567640;build_block(this[_0x53522b(0x284)],0x0,0x0);}[a0_0x567640(0x3ae)](){var _0x3f5ccf=a0_0x567640;return fixedView?[vec3(this[_0x3f5ccf(0x246)],this[_0x3f5ccf(0x433)],this[_0x3f5ccf(0x328)]-0x2),vec3(this[_0x3f5ccf(0x246)]+0x1,this[_0x3f5ccf(0x433)]+0x1,this[_0x3f5ccf(0x328)]+0x1)]:[vec3(mult(translate(0x0,0x0,0x0),vec4(this['posX'],this[_0x3f5ccf(0x433)],this['posZ']-0x2,0x1))),vec3(mult(translate(0x0,0x0,0x0),vec4(this[_0x3f5ccf(0x246)]+0x1,this['posY']+0x1,this[_0x3f5ccf(0x328)]+0x1,0x1)))];}}class TeleBlock extends SpecialBlock{constructor(_0xd761af=null,_0x5f47bf=null,_0x2f7485=null,_0x1177e8){var _0x542873=a0_0x567640;super(_0xd761af,_0x5f47bf,_0x2f7485),this[_0x542873(0x46d)]=_0x1177e8,this[_0x542873(0x3ca)]=!0x1,this[_0x542873(0x2b4)]=!0x1,this[_0x542873(0x2a2)]=-0x1,scene==WORLD_SCENE&&(this[_0x542873(0x2b4)]=!0x0),this[_0x542873(0x44a)]=0xd;}[a0_0x567640(0x27a)](){}[a0_0x567640(0x4a1)](_0x33fafb=0x0){var _0x164800=a0_0x567640;if(this['toDungeon'])return this[_0x164800(0x3ca)]?(dungeonNumber=this[_0x164800(0x2a2)],void change_scene(this[_0x164800(0x46d)])):(this[_0x164800(0x3ca)]=!0x0,genNewDungeon=!0x0,this[_0x164800(0x2a2)]=dungeonList[_0x164800(0x240)],void change_scene(this[_0x164800(0x46d)]));change_scene(this[_0x164800(0x46d)]);}}var shiftCoolDown=0x0;const shiftCoolDownMax=0x50;var shiftTransition=0x0;const shiftTransitionMaxX=0x1e,shiftTransitionMaxY=0x1e;var shiftDirection=-0x1,isShifting=!0x1;class ShiftBlock extends SpecialBlock{constructor(_0x2a4765=null,_0x283e19=null,_0x43937a=null,_0x4f9239=!0x0){var _0x1b9006=a0_0x567640;super(_0x2a4765,_0x283e19,_0x43937a),this[_0x1b9006(0x287)],this['objectNumber']=0x200,this[_0x1b9006(0x305)]=_0x4f9239;}['sendData'](){}[a0_0x567640(0x3ae)](){var _0x5946e5=a0_0x567640;return fixedView?[vec3(this[_0x5946e5(0x246)],this[_0x5946e5(0x433)],this[_0x5946e5(0x328)]),vec3(this[_0x5946e5(0x246)]+0x1,this[_0x5946e5(0x433)]+0x1,this['posZ']+0x1)]:[vec3(mult(translate(0x0,0x0,0x0),vec4(this['posX'],this[_0x5946e5(0x433)],this[_0x5946e5(0x328)],0x1))),vec3(mult(translate(0x0,0x0,0x0),vec4(this['posX']+0x1,this[_0x5946e5(0x433)]+0x1,this[_0x5946e5(0x328)]+0x1,0x1)))];}[a0_0x567640(0x41c)](){var _0x4673bf=a0_0x567640;hitBox&&(set_mv(this['instanceMat']),gl['drawArrays'](gl[_0x4673bf(0x1f3)],numberOfByte[0x0],numberOfByte[0x1]));}['intersect'](_0x5af2dd=0x0){shiftCoolDown<=0x0&&(isShifting=!0x0,shiftDirection=_0x5af2dd,shiftCoolDown=0x50,shiftTransition=_0x5af2dd==RIGHT||_0x5af2dd==LEFT?shiftTransitionMaxX:shiftTransitionMaxY);}}var testSum=0x0,testSum2=0x0,roomSizeX=0x0,roomSizeY=0x0;function shiftFixedView(){switch(shiftDirection){case LEFT:viewMatrixFixed=mult(viewMatrixFixed,translate(roomSizeX/shiftTransitionMaxX,0x0,0x0));break;case RIGHT:viewMatrixFixed=mult(viewMatrixFixed,translate(-roomSizeX/shiftTransitionMaxX,0x0,0x0));break;case TOP:viewMatrixFixed=mult(viewMatrixFixed,translate(0x0,-roomSizeY/shiftTransitionMaxY,0x0));break;case BOTTOM:viewMatrixFixed=mult(viewMatrixFixed,translate(0x0,roomSizeY/shiftTransitionMaxY,0x0));}shiftTransition<=0x0&&(isShifting=!0x1,shiftTransition=0x1);}class DungeonCeiling extends SpecialBlock{constructor(_0x6ae9a0=null,_0x3fb636=null,_0x28ca91=null,_0x583c67=0x1,_0x9ee574=0x1,_0x2fc9e5=[0x0,0x0]){var _0x2813e7=a0_0x567640;super(_0x6ae9a0,_0x3fb636,_0x28ca91),this[_0x2813e7(0x44a)]=0x201,this[_0x2813e7(0x303)]=dungeonCeilingStart,this[_0x2813e7(0x4af)]=!0x0,this[_0x2813e7(0x472)]=_0x2813e7(0x48e),this[_0x2813e7(0x2f1)]=_0x583c67,this[_0x2813e7(0x416)]=_0x9ee574,this['activeRoom']=_0x2fc9e5;}[a0_0x567640(0x27a)](){var _0x47beaf=a0_0x567640;block_face(0x1,0x0,0x3,0x2,!0x1,vec4(0x0,0x0,0x0,0x1));for(var _0x404af0=0x0;_0x404af0<0x6;_0x404af0++)texCoords[_0x47beaf(0x4b3)](vec2(0x2,0x2));}['returnBounds'](){var _0x38124e=a0_0x567640;return fixedView?[vec3(this[_0x38124e(0x246)],this[_0x38124e(0x433)],this[_0x38124e(0x328)]),vec3(this[_0x38124e(0x246)]+0x1,this[_0x38124e(0x433)]+0x1,this[_0x38124e(0x328)]+0x1)]:[vec3(mult(translate(0x0,0x0,0x0),vec4(this[_0x38124e(0x246)],this[_0x38124e(0x433)],this[_0x38124e(0x328)],0x1))),vec3(mult(translate(0x0,0x0,0x0),vec4(this['posX']+0x1,this[_0x38124e(0x433)]+0x1,this['posZ']+0x1,0x1)))];}[a0_0x567640(0x3e5)](){var _0xa5a620=a0_0x567640;this[_0xa5a620(0x41c)]();}['draw'](){var _0x5d3c0f=a0_0x567640;set_mv(mult(this['instanceMat'],scale4(this[_0x5d3c0f(0x2f1)],this[_0x5d3c0f(0x416)],0x1))),gl['drawArrays'](gl[_0x5d3c0f(0x2ef)],this[_0x5d3c0f(0x303)],0x6);}}class CursorBlock extends SpecialBlock{constructor(_0x299354=null,_0x1ec945=null,_0x4713fa=null){var _0x1a1619=a0_0x567640;super(_0x299354,_0x1ec945,_0x4713fa),this[_0x1a1619(0x44a)]=0x203;}[a0_0x567640(0x202)](_0x1c08f4,_0x479ef4,_0x1611a9){this['instanceMat']=translate(_0x1c08f4,_0x479ef4,_0x1611a9);}}class zObjectNew{static [a0_0x567640(0x44a)]=-0x1;get['objectNumber'](){var _0x5511b8=a0_0x567640;return this[_0x5511b8(0x23d)][_0x5511b8(0x44a)];}static [a0_0x567640(0x472)]='NULL';get['name'](){var _0x3b0075=a0_0x567640;return this[_0x3b0075(0x23d)][_0x3b0075(0x472)];}static [a0_0x567640(0x2c9)]=a0_0x567640(0x231);get['typeOfObj'](){var _0x468e28=a0_0x567640;return this[_0x468e28(0x23d)][_0x468e28(0x2c9)];}static [a0_0x567640(0x438)]=0x1;get['numReturned'](){return this['constructor']['numReturned'];}static ['actionType']='SWING';get[a0_0x567640(0x4a3)](){var _0x11ce07=a0_0x567640;return this['constructor'][_0x11ce07(0x4a3)];}static ['index']=0x0;get[a0_0x567640(0x303)](){var _0x15f194=a0_0x567640;return this[_0x15f194(0x23d)][_0x15f194(0x303)];}static [a0_0x567640(0x306)]=0x24;get['numberOfVerts'](){var _0x6bcb58=a0_0x567640;return this[_0x6bcb58(0x23d)][_0x6bcb58(0x306)];}static[a0_0x567640(0x27a)](){}constructor(){}[a0_0x567640(0x3c0)](){var _0x3da89f=a0_0x567640,_0x14cef5=this[_0x3da89f(0x408)]();if(null==_0x14cef5)return!0x1;for(var _0x409342=!0x0,_0x145cb0=0x0;_0x145cb0<_0x14cef5[_0x3da89f(0x240)];_0x145cb0++)player[_0x3da89f(0x49a)](_0x14cef5[_0x145cb0][0x0])<_0x14cef5[_0x145cb0][0x1]&&(_0x409342=!0x1);return _0x409342;}['craftObject'](){var _0x53bfb8=a0_0x567640;if(0x0!=this['isCraftable']()){for(var _0x33dbf7=this[_0x53bfb8(0x408)](),_0x11f7b8=0x0;_0x11f7b8<_0x33dbf7[_0x53bfb8(0x240)];_0x11f7b8++)for(var _0x2fa8da=0x0;_0x2fa8da<_0x33dbf7[_0x11f7b8][0x1];_0x2fa8da++)player[_0x53bfb8(0x270)](_0x33dbf7[_0x11f7b8][0x0]);for(_0x11f7b8=0x0;_0x11f7b8<this[_0x53bfb8(0x438)];_0x11f7b8++)player['addToInventory'](this['copy']());}}[a0_0x567640(0x408)](){return null;}[a0_0x567640(0x35a)](){var _0x18b176=a0_0x567640;return new this[(_0x18b176(0x23d))]();}[a0_0x567640(0x410)](){}[a0_0x567640(0x3d4)](){}[a0_0x567640(0x357)](){}[a0_0x567640(0x3da)](_0x4881f6){var _0x468611=a0_0x567640;gl[_0x468611(0x496)](modelViewMatrixLoc,!0x1,flatten(_0x4881f6)),gl[_0x468611(0x20f)](gl[_0x468611(0x2ef)],this[_0x468611(0x303)],this['numberOfVerts']);}[a0_0x567640(0x3ad)](_0x305928){var _0x23a1e9=a0_0x567640;this[_0x23a1e9(0x3da)](_0x305928);}}class BlockWallNew extends zObjectNew{static [a0_0x567640(0x395)]=a0_0x567640(0x2b1);get[a0_0x567640(0x395)](){var _0x41db14=a0_0x567640;return this[_0x41db14(0x23d)]['type'];}static ['desc']=a0_0x567640(0x38e);get[a0_0x567640(0x23c)](){var _0x4179fd=a0_0x567640;return this[_0x4179fd(0x23d)][_0x4179fd(0x23c)];}static [a0_0x567640(0x2bf)]='NULL';get[a0_0x567640(0x2bf)](){var _0x542850=a0_0x567640;return this[_0x542850(0x23d)][_0x542850(0x2bf)];}static [a0_0x567640(0x2c8)]=vec3(0.5,0.5,0.5);get[a0_0x567640(0x2c8)](){var _0x4776c0=a0_0x567640;return this[_0x4776c0(0x23d)][_0x4776c0(0x2c8)];}static [a0_0x567640(0x3e7)]=!0x1;get[a0_0x567640(0x3e7)](){var _0x1755e3=a0_0x567640;return this[_0x1755e3(0x23d)][_0x1755e3(0x3e7)];}static [a0_0x567640(0x33f)]=!0x1;get[a0_0x567640(0x33f)](){var _0xb20072=a0_0x567640;return this[_0xb20072(0x23d)]['isTop'];}static [a0_0x567640(0x284)]=-0x1;get[a0_0x567640(0x284)](){var _0x46d418=a0_0x567640;return this['constructor'][_0x46d418(0x284)];}static ['sound']='STONE';get[a0_0x567640(0x3d1)](){var _0x347fa9=a0_0x567640;return this['constructor'][_0x347fa9(0x3d1)];}static [a0_0x567640(0x232)]=!0x1;get[a0_0x567640(0x232)](){var _0xf9ab90=a0_0x567640;return this['constructor'][_0xf9ab90(0x232)];}static['sendData'](){var _0x4fe3c4=a0_0x567640;build_block(this[_0x4fe3c4(0x284)],0x0,0x0);}constructor(_0x4fac51,_0x58930b,_0x3973e7,_0x2c94a4){var _0x572729=a0_0x567640;super(),this[_0x572729(0x40d)]=translate(_0x4fac51,_0x58930b,_0x3973e7),this['posX']=_0x4fac51,this['posY']=_0x58930b,this[_0x572729(0x328)]=_0x3973e7,this[_0x572729(0x39e)]=_0x2c94a4,this[_0x572729(0x4af)]=!0x1,this[_0x572729(0x3bf)]=!0x0,this['drawLeft']=!0x0,this[_0x572729(0x478)]=!0x0,this[_0x572729(0x24e)]=!0x0,this[_0x572729(0x3e3)]=!0x0;}[a0_0x567640(0x493)](){var _0x1bd7d4=a0_0x567640;return this[_0x1bd7d4(0x35a)]();}[a0_0x567640(0x1e8)](){var _0x1ff1e8=a0_0x567640;if(!inDungeon){if(this[_0x1ff1e8(0x328)]>=-0x4)this['isCeiling']=!0x1;else{var _0x32c8e5=world['getBlockAt'](this[_0x1ff1e8(0x246)]-0x1,this['posY'],this[_0x1ff1e8(0x328)]),_0x46da54=world[_0x1ff1e8(0x39c)](this[_0x1ff1e8(0x246)]+0x1,this['posY'],this[_0x1ff1e8(0x328)]),_0x135294=world[_0x1ff1e8(0x39c)](this[_0x1ff1e8(0x246)],this[_0x1ff1e8(0x433)]+0x1,this[_0x1ff1e8(0x328)]),_0x2698ca=world['getBlockAt'](this[_0x1ff1e8(0x246)],this[_0x1ff1e8(0x433)]-0x1,this[_0x1ff1e8(0x328)]);if(-0x6==this[_0x1ff1e8(0x328)]){var _0x80d227=world[_0x1ff1e8(0x39c)](this[_0x1ff1e8(0x246)],this[_0x1ff1e8(0x433)],this[_0x1ff1e8(0x328)]+0x1),_0x342322=world[_0x1ff1e8(0x39c)](this['posX'],this[_0x1ff1e8(0x433)],this[_0x1ff1e8(0x328)]+0x2);this['isCeiling']=!0x0,null!=_0x80d227&&null!=_0x342322?(this[_0x1ff1e8(0x4af)]=!0x1,this[_0x1ff1e8(0x1ee)]=!0x0,this['drawRight']=!0x0,this[_0x1ff1e8(0x24e)]=!0x0,this[_0x1ff1e8(0x3e3)]=!0x0):(this['drawLeft']=null==_0x32c8e5,this[_0x1ff1e8(0x478)]=null==_0x46da54,this['drawBack']=null==_0x135294,this[_0x1ff1e8(0x3e3)]=null==_0x2698ca);}else-0x5==this[_0x1ff1e8(0x328)]&&(null!=world[_0x1ff1e8(0x39c)](this['posX'],this['posY'],this['posZ']+0x1)?this['isCeiling']=!0x1:this[_0x1ff1e8(0x4af)]=!0x0);}}}['spawnParticles'](){var _0x2f6d7e=a0_0x567640,_0x4a57f5=Math[_0x2f6d7e(0x267)](0x6*Math['random']())+0x6;for(let _0x12da62=0x0;_0x12da62<_0x4a57f5;_0x12da62++){var _0x1ad9e3=Math['random'](),_0x2f6e3f=Math['random']()-0.5,_0x46a0e0=Math[_0x2f6d7e(0x47c)]()-0.5;new Particle(this[_0x2f6d7e(0x246)]+_0x2f6e3f,this[_0x2f6d7e(0x433)]+_0x46a0e0,this[_0x2f6d7e(0x328)]+_0x1ad9e3,this[_0x2f6d7e(0x2c8)]);}}['destroy'](){var _0x23fd8b=a0_0x567640;this[_0x23fd8b(0x24c)](),player[_0x23fd8b(0x2b9)](this[_0x23fd8b(0x493)]());}[a0_0x567640(0x36a)](){var _0x30b85d=a0_0x567640;return[this[_0x30b85d(0x246)],this[_0x30b85d(0x433)],this[_0x30b85d(0x328)]];}[a0_0x567640(0x3ae)](){var _0x554d4e=a0_0x567640;return fixedView?[vec3(this[_0x554d4e(0x246)],this[_0x554d4e(0x433)],this[_0x554d4e(0x328)]),vec3(this[_0x554d4e(0x246)]+0x1,this[_0x554d4e(0x433)]+0x1,this[_0x554d4e(0x328)]+0x1)]:[vec3(mult(translate(0x0,0x0,0x0),vec4(this[_0x554d4e(0x246)],this[_0x554d4e(0x433)],this[_0x554d4e(0x328)],0x1))),vec3(mult(translate(0x0,0x0,0x0),vec4(this['posX']+0x1,this['posY']+0x1,this[_0x554d4e(0x328)]+0x1,0x1)))];}[a0_0x567640(0x3af)](){var _0x3d0a5a=a0_0x567640;-0x6==upOne?gl[_0x3d0a5a(0x495)](opacityFactorLoc,0.4):-0x5==upOne?gl[_0x3d0a5a(0x495)](opacityFactorLoc,0.3):gl['uniform1f'](opacityFactorLoc,0x0);}[a0_0x567640(0x41c)](){var _0xe05932=a0_0x567640;if(this[_0xe05932(0x4af)])set_mv(this['instanceMat']),this[_0xe05932(0x3af)](),this['drawRight']&&gl[_0xe05932(0x20f)](gl[_0xe05932(0x2ef)],this['index']+0x6,0x6),this[_0xe05932(0x1ee)]&&gl['drawArrays'](gl[_0xe05932(0x2ef)],this[_0xe05932(0x303)]+0x1e,0x6),this[_0xe05932(0x3e3)]&&gl[_0xe05932(0x20f)](gl[_0xe05932(0x2ef)],this[_0xe05932(0x303)]+0xc,0x6),this['drawBack']&&gl[_0xe05932(0x20f)](gl[_0xe05932(0x2ef)],this[_0xe05932(0x303)]+0x12,0x6);else{if(set_mv(this['instanceMat']),this['ground'])return void gl[_0xe05932(0x20f)](gl[_0xe05932(0x2ef)],this[_0xe05932(0x303)]+0x18,0x6);hitBox&&gl[_0xe05932(0x20f)](gl[_0xe05932(0x1f3)],numberOfByte[0x0],numberOfByte[0x1]),gl[_0xe05932(0x20f)](gl[_0xe05932(0x2ef)],this[_0xe05932(0x303)]+0x6,this[_0xe05932(0x306)]-0x6);}}[a0_0x567640(0x3e5)](){var _0x194e38=a0_0x567640;set_mv(this[_0x194e38(0x40d)]),this[_0x194e38(0x3af)](),gl[_0x194e38(0x20f)](gl[_0x194e38(0x2ef)],this[_0x194e38(0x303)]+0x18,0x6);}['drawSmall'](_0xbf4c9c){var _0x578b2f=a0_0x567640;gl[_0x578b2f(0x496)](modelViewMatrixLoc,!0x1,flatten(_0xbf4c9c)),gl[_0x578b2f(0x20f)](gl[_0x578b2f(0x2ef)],this['index'],this[_0x578b2f(0x306)]);}[a0_0x567640(0x3ad)](_0x4b53ab){var _0x363274=a0_0x567640;this[_0x363274(0x3da)](_0x4b53ab);}[a0_0x567640(0x4c6)](_0x2cdbd7){var _0x5cf36c=a0_0x567640;this[_0x5cf36c(0x3da)](_0x2cdbd7);}[a0_0x567640(0x264)](){var _0x6d9549=a0_0x567640;if(!(this[_0x6d9549(0x328)]>=-0x2)){var _0x2eb243=mult(modelViewMatrix,this[_0x6d9549(0x40d)]),_0x3bec7e=mult(sMatrix,_0x2eb243);gl['uniformMatrix4fv'](modelViewMatrixLoc,!0x1,flatten(_0x3bec7e)),gl['drawArrays'](gl['TRIANGLES'],this[_0x6d9549(0x303)],this[_0x6d9549(0x306)]);}}[a0_0x567640(0x484)](){var _0x3a0577=a0_0x567640;set_mv(this['instanceMat']),gl[_0x3a0577(0x20f)](gl['LINES'],numberOfByte[0x0],numberOfByte[0x1]);}[a0_0x567640(0x35a)](_0x1bdc53=null,_0x3f3c06=null,_0x512d5c=null){var _0x3edf97=a0_0x567640;return new this[(_0x3edf97(0x23d))](_0x1bdc53,_0x3f3c06,_0x512d5c);}['onClick'](){}['onHover'](){}[a0_0x567640(0x4a1)](){}}class FlipBlock extends BlockWallNew{constructor(_0x18c4c6=null,_0x4aeea4=null,_0x5d9a6a=null,_0x4cec3a=!0x1){var _0x802a66=a0_0x567640;super(_0x18c4c6,_0x4aeea4,_0x5d9a6a,_0x4cec3a);const _0x43e673=Math[_0x802a66(0x47a)](0x4*Math[_0x802a66(0x47c)]());0x0==_0x43e673&&this[_0x802a66(0x353)](0x0,0.001),0x1==_0x43e673&&this[_0x802a66(0x353)](0x5a,0.0001),0x2==_0x43e673&&this[_0x802a66(0x353)](0xb4,-0.0001),0x3==_0x43e673&&this[_0x802a66(0x353)](0x10e,-0.001);}[a0_0x567640(0x353)](_0x516200,_0x2b3d7e){var _0x1f0ec1=a0_0x567640;this[_0x1f0ec1(0x40d)]=translate(this[_0x1f0ec1(0x246)],this[_0x1f0ec1(0x433)],this[_0x1f0ec1(0x328)]),this['rot']=_0x516200,this[_0x1f0ec1(0x40d)]=mult(this['instanceMat'],translate(0.5,0.5,0x0)),this[_0x1f0ec1(0x433)],this[_0x1f0ec1(0x40d)]=mult(this['instanceMat'],rotateZ(this[_0x1f0ec1(0x3d5)])),this[_0x1f0ec1(0x40d)]=mult(this[_0x1f0ec1(0x40d)],translate(-0.5,-0.5,0x0));}}class GrassBlock extends BlockWallNew{static ['name']=a0_0x567640(0x37e);static [a0_0x567640(0x44a)]=0x2;static ['desc']='A\x20grass\x20block.';static [a0_0x567640(0x2bf)]='STONE';static [a0_0x567640(0x2c8)]=vec3(0.5,0.7,0.2);static [a0_0x567640(0x284)]=0x0;static [a0_0x567640(0x3d1)]='DIRT';static[a0_0x567640(0x27a)](){var _0x582970=a0_0x567640;build_block(this[_0x582970(0x284)],0x0,0x0),build_block(this[_0x582970(0x284)]+0x8,0x0,0x0),build_block(this[_0x582970(0x284)]+0x10,0x0,0x0);}constructor(_0x38b84b=null,_0x519d15=null,_0x21c8ce=null,_0x28b1f0=!0x1){var _0x582f42=a0_0x567640;super(_0x38b84b,_0x519d15,_0x21c8ce,_0x28b1f0);const _0x2671aa=Math[_0x582f42(0x47a)](0x4*Math[_0x582f42(0x47c)]());0x0==_0x2671aa&&this[_0x582f42(0x353)](0x0,0.001),0x1==_0x2671aa&&this[_0x582f42(0x353)](0x5a,0.0001),0x2==_0x2671aa&&this[_0x582f42(0x353)](0xb4,-0.0001),0x3==_0x2671aa&&this[_0x582f42(0x353)](0x10e,-0.001),this[_0x582f42(0x2cb)]=Math[_0x582f42(0x267)](0x64*Math[_0x582f42(0x47c)]());}[a0_0x567640(0x353)](_0x2c0e18,_0x4fe616){var _0x5172a4=a0_0x567640;this['instanceMat']=translate(this[_0x5172a4(0x246)],this[_0x5172a4(0x433)],this[_0x5172a4(0x328)]),this[_0x5172a4(0x3d5)]=_0x2c0e18,this['instanceMat']=mult(this['instanceMat'],translate(0.5,0.5,0x0)),this['posY'],this[_0x5172a4(0x40d)]=mult(this[_0x5172a4(0x40d)],rotateZ(this['rot'])),this['instanceMat']=mult(this['instanceMat'],translate(-0.5,-0.5,0x0));}[a0_0x567640(0x41c)](){var _0x2270ed=a0_0x567640;if(this['isCeiling'])set_mv(this['instanceMat']),this[_0x2270ed(0x3af)](),this['drawRight']&&gl[_0x2270ed(0x20f)](gl[_0x2270ed(0x2ef)],this[_0x2270ed(0x303)]+0x6,0x6),this[_0x2270ed(0x1ee)]&&gl['drawArrays'](gl[_0x2270ed(0x2ef)],this['index']+0x1e,0x6),this[_0x2270ed(0x3e3)]&&gl['drawArrays'](gl['TRIANGLES'],this[_0x2270ed(0x303)]+0xc,0x6),this['drawBack']&&gl[_0x2270ed(0x20f)](gl[_0x2270ed(0x2ef)],this[_0x2270ed(0x303)]+0x12,0x6);else{if(set_mv(this[_0x2270ed(0x40d)]),this[_0x2270ed(0x39e)])return void gl['drawArrays'](gl[_0x2270ed(0x2ef)],this['index']+0x18,0x6);switch(hitBox&&gl[_0x2270ed(0x20f)](gl[_0x2270ed(0x1f3)],numberOfByte[0x0],numberOfByte[0x1]),this[_0x2270ed(0x2cb)]){case 0x0:gl[_0x2270ed(0x20f)](gl[_0x2270ed(0x2ef)],this[_0x2270ed(0x303)]+0x2a,this[_0x2270ed(0x306)]-0x6);break;case 0x1:gl['drawArrays'](gl['TRIANGLES'],this['index']+0x4e,this[_0x2270ed(0x306)]-0x6);break;default:gl['drawArrays'](gl[_0x2270ed(0x2ef)],this['index']+0x6,this['numberOfVerts']-0x6);}}}}function initialize_simpleBlocks(){simpleBlocks=[GrassBlock,WeirdBlock,BrickBlock,StoneFloorBlock,DungeonWall,BorderWall];}class WeirdBlock extends BlockWallNew{static ['name']=a0_0x567640(0x48b);static ['objectNumber']=0x1;static [a0_0x567640(0x23c)]='A\x20weird\x20block.';static ['texture']=0x2b;constructor(_0x397643=null,_0x404864=null,_0x48abaa=null,_0x5375d1=!0x1){super(_0x397643,_0x404864,_0x48abaa,_0x5375d1);}}class BrickBlock extends BlockWallNew{static [a0_0x567640(0x472)]='Brick';static [a0_0x567640(0x44a)]=0xa;static [a0_0x567640(0x23c)]='A\x20brick\x20block.';static [a0_0x567640(0x284)]=0xc;constructor(_0xc4703c=null,_0x1bd866=null,_0x163b19=null,_0x49e1d7=!0x1){super(_0xc4703c,_0x1bd866,_0x163b19,_0x49e1d7);}}class StoneFloorBlock extends FlipBlock{static ['name']=a0_0x567640(0x3f2);static ['objectNumber']=0xb;static ['desc']=a0_0x567640(0x3fb);static [a0_0x567640(0x284)]=0x3d;constructor(_0x87fbd4=null,_0x47f231=null,_0x840961=null,_0x1690ba=!0x1){super(_0x87fbd4,_0x47f231,_0x840961,_0x1690ba);}}class DungeonWall extends BlockWallNew{static ['name']=a0_0x567640(0x28b);static ['objectNumber']=0xc;static [a0_0x567640(0x23c)]=a0_0x567640(0x1de);static [a0_0x567640(0x284)]=0x3c;constructor(_0x365b19=null,_0x4fe028=null,_0xa9ec2b=null,_0xd251d1=!0x1){super(_0x365b19,_0x4fe028,_0xa9ec2b,_0xd251d1);}}class BorderWall extends BlockWallNew{static [a0_0x567640(0x472)]=a0_0x567640(0x469);static [a0_0x567640(0x44a)]=0xf;static [a0_0x567640(0x23c)]=a0_0x567640(0x1eb);static [a0_0x567640(0x284)]=0x33;constructor(_0x273d5f=null,_0x4b933e=null,_0x17e7a9=null,_0x4604eb=!0x1){super(_0x273d5f,_0x4b933e,_0x17e7a9,_0x4604eb);}}function build_block_3D(_0x2f5ad3,_0x4a1431=0.0065,_0x30586f=0.0065,_0x34da15=_0x2f5ad3,_0x343396=_0x2f5ad3){block_face(0x1,0x0,0x3,0x2),set_texture(_0x2f5ad3,_0x4a1431,_0x30586f),block_face(0x2,0x3,0x7,0x6,!0x0),set_texture(_0x343396,_0x4a1431,_0x30586f),block_face(0x3,0x0,0x4,0x7,!0x0),set_texture(_0x34da15,_0x4a1431,_0x30586f),block_face(0x6,0x5,0x1,0x2,!0x0),set_texture_rotate(_0x34da15,_0x4a1431,_0x30586f),block_face(0x4,0x5,0x6,0x7,!0x0),set_texture(_0x2f5ad3,_0x4a1431,_0x30586f),block_face(0x5,0x4,0x0,0x1,!0x0),set_texture(_0x343396,_0x4a1431,_0x30586f);}function a0_0x21e0(_0x338705,_0x39bf58){var _0x3aea98=a0_0x3aea();return a0_0x21e0=function(_0x21e038,_0x441587){_0x21e038=_0x21e038-0x1d9;var _0x4e7ad9=_0x3aea98[_0x21e038];return _0x4e7ad9;},a0_0x21e0(_0x338705,_0x39bf58);}function set_texture_rotate(_0x107651=0x0,_0x325ee4=0.0065,_0x4d2df1=0.0065){var _0x478a88=a0_0x567640,_0x36f855=0x20+0x60*Math[_0x478a88(0x47a)](_0x107651%0x8),_0x45d0a5=_0x36f855+0x20,_0x4660cd=0x20+0x60*Math[_0x478a88(0x47a)](_0x107651/0x8),_0x1dea5c=_0x4660cd+0x20,_0x4146c7=0x400;let _0x4bbd28=[vec2(_0x36f855/_0x4146c7,_0x4660cd/_0x4146c7),vec2(_0x45d0a5/_0x4146c7,_0x4660cd/_0x4146c7),vec2(_0x36f855/_0x4146c7,_0x1dea5c/_0x4146c7),vec2(_0x45d0a5/_0x4146c7,_0x1dea5c/_0x4146c7),vec2(0x2,0x2)];texCoords['push'](_0x4bbd28[0x1]),texCoords[_0x478a88(0x4b3)](_0x4bbd28[0x3]),texCoords['push'](_0x4bbd28[0x2]),texCoords['push'](_0x4bbd28[0x1]),texCoords['push'](_0x4bbd28[0x2]),texCoords[_0x478a88(0x4b3)](_0x4bbd28[0x0]);}class X_Y_Z_TextureBlock extends BlockWall{constructor(_0x46a9f3=null,_0x2a38b4=null,_0x295d92=null,_0x268457=0x0,_0x25a3f8=0x0,_0x35bfae=0x0,_0x3f2033='NULL'){super(_0x46a9f3,_0x2a38b4,_0x295d92,_0x268457,!0x1,_0x3f2033),this['t1']=_0x268457,this['t2']=_0x25a3f8,this['t3']=_0x35bfae;}[a0_0x567640(0x27a)](){build_block_3D(this['t1'],0x0,0x0,this['t2'],this['t3']);}}class DropBox extends X_Y_Z_TextureBlock{constructor(_0x58257f=null,_0x422b07=null,_0x55b708=null,_0x4820bf=[]){var _0x245371=a0_0x567640;super(_0x58257f,_0x422b07,_0x55b708,0x17,0xf,0xe,!0x1),this[_0x245371(0x303)]=dropBoxStart,this[_0x245371(0x472)]='DropBox',this[_0x245371(0x44a)]=0x9,this[_0x245371(0x438)]=0x0,this[_0x245371(0x23c)]=_0x245371(0x2be),this[_0x245371(0x2bf)]=_0x245371(0x4c3),this[_0x245371(0x30f)]=_0x4820bf,this[_0x245371(0x36c)]=[],this[_0x245371(0x38a)]=0.9,this[_0x245371(0x1e4)]=this[_0x245371(0x38a)],this[_0x245371(0x232)]=!0x0,this['refreshQuantities']();let _0x40daad=mult(translate(0.5,0.5,0x1),mult(scale4(0.8,0.8,0.8),mult(rotateZ(0x0),translate(-0.5,-0.5,-0x1))));this[_0x245371(0x418)]=mult(translate(_0x58257f,_0x422b07,_0x55b708),_0x40daad),_0x40daad=mult(translate(0.5,0.5,0x1),mult(scale4(0.8,0.8,0.8),mult(rotateZ(0x5a),translate(-0.5,-0.5,-0x1)))),this[_0x245371(0x40d)]=mult(translate(_0x58257f,_0x422b07,_0x55b708),_0x40daad);}[a0_0x567640(0x35b)](){var _0x1f17ae=a0_0x567640;return this[_0x1f17ae(0x36c)];}['refreshQuantities'](){var _0x54335c=a0_0x567640;let _0x41e8d1=[];this[_0x54335c(0x1e4)]=this['minDisplayWidth'];for(let _0x5e103b=0x0;_0x5e103b<this[_0x54335c(0x30f)][_0x54335c(0x240)];_0x5e103b++){let _0x1c3402=!0x1,_0x460749=-0x1;for(let _0x2e79cf=0x0;_0x2e79cf<_0x41e8d1[_0x54335c(0x240)];_0x2e79cf++)_0x41e8d1[_0x2e79cf][0x0][_0x54335c(0x44a)]==this['objectsReturned'][_0x5e103b][_0x54335c(0x44a)]&&(_0x1c3402=!0x0,_0x460749=_0x2e79cf);_0x1c3402?_0x41e8d1[_0x460749][0x1]++:(_0x41e8d1[_0x54335c(0x4b3)]([this[_0x54335c(0x30f)][_0x5e103b],0x1]),measure_text(this[_0x54335c(0x30f)][_0x5e103b][_0x54335c(0x472)]+'\x20(x10)','10')>this['displayWidth']&&(this[_0x54335c(0x1e4)]=measure_text(this[_0x54335c(0x30f)][_0x5e103b][_0x54335c(0x472)]+'\x20(x10)','10')));}this['objectQuantityPair']=_0x41e8d1;}['addTo'](_0x52f921){var _0x11933a=a0_0x567640;this[_0x11933a(0x30f)]['push'](_0x52f921),this[_0x11933a(0x253)]();}[a0_0x567640(0x493)](){}['copy'](_0x572dbc=null,_0x2217be=null,_0x126e3b=null){return new this['constructor'](_0x572dbc,_0x2217be,_0x126e3b,this['objectsReturned']);}[a0_0x567640(0x441)](){var _0x53d513=a0_0x567640;this[_0x53d513(0x24c)]();for(let _0x1322c2=0x0;_0x1322c2<this[_0x53d513(0x30f)]['length'];_0x1322c2++)player[_0x53d513(0x2b9)](this[_0x53d513(0x30f)][_0x1322c2]);}[a0_0x567640(0x383)](){removeBlockGlobal(this);}[a0_0x567640(0x32b)](){var _0x841239=a0_0x567640;if(inventory)return;let _0x1b20f8=vec4(0.5,0x1,0x0,0x1);_0x1b20f8=mult(this['unrotatedInstanceMat'],_0x1b20f8),_0x1b20f8=mult(modelViewMatrix,_0x1b20f8),_0x1b20f8=mult(projectionMatrix,_0x1b20f8),_0x1b20f8=[0x8*(_0x1b20f8[0x0]/_0x1b20f8[0x3]+0x1),4.5*(_0x1b20f8[0x1]/_0x1b20f8[0x3]+0x1)],draw_filled_box(_0x1b20f8[0x0]-this[_0x841239(0x1e4)]/0x2,_0x1b20f8[0x1],_0x1b20f8[0x0]+this[_0x841239(0x1e4)]/0x2,_0x1b20f8[0x1]+0.17*(this['objectQuantityPair']['length']+1.25)),draw_centered_text(_0x1b20f8[0x0],_0x1b20f8[0x1]+0.17*(this[_0x841239(0x36c)][_0x841239(0x240)]+0.5),'Contents:','12');for(let _0x4f96b2=0x0;_0x4f96b2<this[_0x841239(0x36c)]['length'];_0x4f96b2++){let _0x9f55c9=this[_0x841239(0x36c)][_0x4f96b2][0x0][_0x841239(0x472)],_0x292f6e=this[_0x841239(0x36c)][_0x4f96b2][0x1];draw_centered_text(_0x1b20f8[0x0],_0x1b20f8[0x1]+0.17*(_0x4f96b2+0.5),_0x9f55c9+'\x20(x'+_0x292f6e[_0x841239(0x477)]()+')','10');}}[a0_0x567640(0x279)](){var _0x653b71=a0_0x567640;this[_0x653b71(0x32b)]();}[a0_0x567640(0x3ae)](){return null;}}const WORLD_SCENE=0x2;var lastPos,scene=WORLD_SCENE;function refresh_scene(){blocks=[],ceilingBlocks=[],init_world(),get_scene(),removeBlock=new NullifierBlock();}function change_scene(_0x4c85c6){clear(),set_scene(_0x4c85c6),refresh_scene();}function set_scene(_0x5cf9e0){scene=_0x5cf9e0;}function update_scene_data(){if(0x2==scene&&check_reload()){var _0x12b240=return_draw_blocks();blocks=_0x12b240[0x0],ceilingBlocks=_0x12b240[0x1];}}function get_scene(){switch(scene){case 0x0:return void home_scene();case 0x1:return gen(),void test_scene();case 0x2:return inDungeon=!0x1,void world_test();case 0x3:return void dungeon_test_scene();case 0x4:return inDungeon=!0x0,void dungeon_scene();}}function world_test(){var _0x168993=a0_0x567640;init_world(),player[_0x168993(0x246)]=lastPos[0x0],player[_0x168993(0x433)]=lastPos[0x1]-0.5;var _0x17f6b1=return_draw_blocks();blocks=_0x17f6b1[0x0],ceilingBlocks=_0x17f6b1[0x1],fixedView=!0x1;}function cursor_test_scene(){var _0x1ef0ef=a0_0x567640;testView=!0x0,fixedView=!0x1,blocks[_0x1ef0ef(0x4b3)](new WeirdBlock(0xf,0x8,0x0));for(var _0xf4387=0x1;_0xf4387<0xf;_0xf4387+=0x1)for(var _0x2875d8=0x1;_0x2875d8<0x8;_0x2875d8+=0x1);}function test_scene(){var _0x2cfdb5=a0_0x567640;fixedView=!0x1;for(var _0x2de109=0x1;_0x2de109<0xf;_0x2de109+=0x1)for(var _0x18138b=0x1;_0x18138b<0x8;_0x18138b+=0x1)blocks['push'](new WoodBlock(_0x2de109,_0x18138b,-0x2,!0x0));for(_0x2de109=0x1;_0x2de109<0x9;_0x2de109++)blocks[_0x2cfdb5(0x4b3)](new WeirdBlock(0x0,_0x2de109,-0x3)),blocks['push'](new WeirdBlock(0x0,_0x2de109,-0x4));for(_0x2de109=0x1;_0x2de109<0x9;_0x2de109++)blocks[_0x2cfdb5(0x4b3)](new WeirdBlock(0xf,_0x2de109,-0x3)),blocks[_0x2cfdb5(0x4b3)](new WeirdBlock(0xf,_0x2de109,-0x4));for(_0x2de109=0x1;_0x2de109<0xf;_0x2de109++)blocks[_0x2cfdb5(0x4b3)](new WeirdBlock(_0x2de109,0x8,-0x3)),blocks[_0x2cfdb5(0x4b3)](new WeirdBlock(_0x2de109,0x8,-0x4));for(_0x2de109=0x0;_0x2de109<0x10;_0x2de109++)0xa!=_0x2de109&&0xb!=_0x2de109?(blocks[_0x2cfdb5(0x4b3)](new WeirdBlock(_0x2de109,0x0,-0x3)),blocks[_0x2cfdb5(0x4b3)](new WeirdBlock(_0x2de109,0x0,-0x4))):(blocks['push'](new WoodBlock(_0x2de109,0x0,-0x2)),blocks[_0x2cfdb5(0x4b3)](new WoodBlock(_0x2de109,0x0,-0x2)));blocks[_0x2cfdb5(0x4b3)](new TeleBlock(0xa,0x1,-0x4,0x0)),blocks[_0x2cfdb5(0x4b3)](new TeleBlock(0xb,0x1,-0x4,0x0));}function home_scene(){var _0xefc5ef=a0_0x567640;fixedView=!0x0,blocks[_0xefc5ef(0x4b3)](new TeleBlock(0xa,-0x1,-0x4,0x2)),blocks[_0xefc5ef(0x4b3)](new TeleBlock(0xb,-0x1,-0x4,0x2));for(var _0x508975=0x1;_0x508975<0xf;_0x508975+=0x1)for(var _0x531a79=0x1;_0x531a79<0x8;_0x531a79+=0x1);for(_0x508975=0x1;_0x508975<0x9;_0x508975++)blocks[_0xefc5ef(0x4b3)](new WeirdBlock(0x0,_0x508975,-0x3)),blocks[_0xefc5ef(0x4b3)](new WeirdBlock(0x0,_0x508975,-0x4));for(_0x508975=0x1;_0x508975<0x9;_0x508975++)blocks[_0xefc5ef(0x4b3)](new WeirdBlock(0xf,_0x508975,-0x3)),blocks[_0xefc5ef(0x4b3)](new WeirdBlock(0xf,_0x508975,-0x4));for(_0x508975=0x1;_0x508975<0xf;_0x508975++)blocks['push'](new WeirdBlock(_0x508975,0x8,-0x3)),blocks[_0xefc5ef(0x4b3)](new WeirdBlock(_0x508975,0x8,-0x4));for(_0x508975=0x0;_0x508975<0x10;_0x508975++)0xa!=_0x508975&&0xb!=_0x508975?(blocks[_0xefc5ef(0x4b3)](new WeirdBlock(_0x508975,0x0,-0x3)),blocks[_0xefc5ef(0x4b3)](new WeirdBlock(_0x508975,0x0,-0x4))):(blocks['push'](new WoodBlock(_0x508975,0x0,-0x2)),blocks[_0xefc5ef(0x4b3)](new WoodBlock(_0x508975,0x0,-0x2)));}function dungeon_test_scene(){var _0x33d02e=a0_0x567640;fixedView=!0x0,lastPos=[player[_0x33d02e(0x246)],player[_0x33d02e(0x433)]],player[_0x33d02e(0x246)]=0x8,player['posY']=0.1;for(let _0xe64cad=-0x14;_0xe64cad<0x1e;_0xe64cad++)for(let _0x4cc6fa=0x0;_0x4cc6fa<0x14;_0x4cc6fa++)_0xe64cad<0x10&&_0xe64cad>=0x0&&_0x4cc6fa<0x9&&_0x4cc6fa>=0x0?blocks[_0x33d02e(0x4b3)](new WoodBlock(_0xe64cad,_0x4cc6fa,-0x2)):blocks[_0x33d02e(0x4b3)](new GrassBlock(_0xe64cad,_0x4cc6fa,-0x2));blocks[_0x33d02e(0x4b3)](new WoodBlock(0x7,-0x2,-0x2)),blocks[_0x33d02e(0x4b3)](new WoodBlock(0x8,-0x2,-0x2)),blocks['push'](new WoodBlock(0x7,-0x1,-0x2)),blocks['push'](new WoodBlock(0x8,-0x1,-0x2)),blocks[_0x33d02e(0x4b3)](new GrassBlock(0x6,-0x2,-0x2)),blocks[_0x33d02e(0x4b3)](new GrassBlock(0x9,-0x2,-0x2)),blocks[_0x33d02e(0x4b3)](new TeleBlock(0x7,-0x2,-0x4,0x2)),blocks[_0x33d02e(0x4b3)](new TeleBlock(0x8,-0x2,-0x4,0x2));for(var _0x50ed8c=0x1;_0x50ed8c<0xf;_0x50ed8c+=0x1)for(var _0x89c45f=0x1;_0x89c45f<0x8;_0x89c45f+=0x1);for(_0x50ed8c=-0x1;_0x50ed8c<0x9;_0x50ed8c++)blocks[_0x33d02e(0x4b3)](new WeirdBlock(0x0,_0x50ed8c,-0x3)),blocks[_0x33d02e(0x4b3)](new WeirdBlock(0x0,_0x50ed8c,-0x4));for(_0x50ed8c=-0x1;_0x50ed8c<0x9;_0x50ed8c++)blocks[_0x33d02e(0x4b3)](new WeirdBlock(0xf,_0x50ed8c,-0x3)),blocks[_0x33d02e(0x4b3)](new WeirdBlock(0xf,_0x50ed8c,-0x4));for(_0x50ed8c=0x1;_0x50ed8c<0xf;_0x50ed8c++)blocks[_0x33d02e(0x4b3)](new WeirdBlock(_0x50ed8c,0x9,-0x3)),blocks[_0x33d02e(0x4b3)](new WeirdBlock(_0x50ed8c,0x9,-0x4));for(_0x50ed8c=0x1;_0x50ed8c<0x7;_0x50ed8c++)blocks[_0x33d02e(0x4b3)](new WeirdBlock(_0x50ed8c,-0x1,-0x3)),blocks[_0x33d02e(0x4b3)](new WeirdBlock(_0x50ed8c,-0x1,-0x4)),blocks[_0x33d02e(0x4b3)](new WeirdBlock(0xf-_0x50ed8c,-0x1,-0x3)),blocks[_0x33d02e(0x4b3)](new WeirdBlock(0xf-_0x50ed8c,-0x1,-0x4));for(_0x50ed8c=0x0;_0x50ed8c<0x10;_0x50ed8c++)for(_0x89c45f=0x0;_0x89c45f<0x8;_0x89c45f++);}function dungeon_one_default_room(){}var visitedGrid,viewedGrid,dungeonGrid=[];const gridSize=0x7;function build_layout(){var _0x3be6b9=a0_0x567640,_0x17ca5d=[];for(let _0x460d80=0x0;_0x460d80<gridSize;_0x460d80++){var _0x380e8=[];for(let _0x2b9124=0x0;_0x2b9124<gridSize;_0x2b9124++)_0x380e8[_0x3be6b9(0x4b3)](!0x1);_0x17ca5d[_0x3be6b9(0x4b3)](_0x380e8);}var _0x308bc2=new Queue();_0x308bc2[_0x3be6b9(0x392)]([0x6,0x3]),_0x17ca5d[0x6][0x3]=!0x0;for(var _0x2cb095=0x8+Math['floor'](0x2*Math[_0x3be6b9(0x47c)]()),_0x106daa=0x1,_0x3fdaf3=0x0;_0x106daa<_0x2cb095&&_0x3fdaf3<0x2710;){if(_0x308bc2['isEmpty']()){for(let _0x177c4e=0x0;_0x177c4e<gridSize;_0x177c4e++)for(let _0x425624=0x0;_0x425624<gridSize;_0x425624++)_0x17ca5d[_0x177c4e][_0x425624]=!0x1;_0x308bc2['enqueue']([0x6,0x3]),_0x17ca5d[0x6][0x3]=!0x0,_0x106daa=0x1;}var [_0x4a8050,_0x1d95ef]=_0x308bc2[_0x3be6b9(0x4bb)]();(_0x308bc2[_0x3be6b9(0x225)](),_0x4a8050-0x1>=0x0&&!_0x17ca5d[_0x4a8050-0x1][_0x1d95ef])&&(0x1==(Math[_0x3be6b9(0x47c)]()>=0.5?0x1:0x0)&&(_0x308bc2[_0x3be6b9(0x392)]([_0x4a8050-0x1,_0x1d95ef]),_0x17ca5d[_0x4a8050-0x1][_0x1d95ef]=!0x0,_0x106daa++)),_0x4a8050+0x1<gridSize&&!_0x17ca5d[_0x4a8050+0x1][_0x1d95ef]&&(0x1==(Math[_0x3be6b9(0x47c)]()>=0.5?0x1:0x0)&&(_0x308bc2['enqueue']([_0x4a8050+0x1,_0x1d95ef]),_0x17ca5d[_0x4a8050+0x1][_0x1d95ef]=!0x0,_0x106daa++)),_0x1d95ef-0x1>=0x0&&!_0x17ca5d[_0x4a8050][_0x1d95ef-0x1]&&(0x1==(Math[_0x3be6b9(0x47c)]()>=0.5?0x1:0x0)&&(_0x308bc2[_0x3be6b9(0x392)]([_0x4a8050,_0x1d95ef-0x1]),_0x17ca5d[_0x4a8050][_0x1d95ef-0x1]=!0x0,_0x106daa++)),_0x1d95ef+0x1<gridSize&&!_0x17ca5d[_0x4a8050][_0x1d95ef+0x1]&&(0x1==(Math[_0x3be6b9(0x47c)]()>=0.5?0x1:0x0)&&(_0x308bc2[_0x3be6b9(0x392)]([_0x4a8050,_0x1d95ef+0x1]),_0x17ca5d[_0x4a8050][_0x1d95ef+0x1]=!0x0,_0x106daa++)),_0x3fdaf3++;}return _0x17ca5d;}class Dungeon{constructor(){var _0x5fda2a=a0_0x567640;this['grid']=build_layout(),this[_0x5fda2a(0x3f4)]=0x10,this['roomSizeY']=0xa,this[_0x5fda2a(0x227)]=(this[_0x5fda2a(0x3f4)]+0x1)*gridSize+0x1,this[_0x5fda2a(0x289)]=(this[_0x5fda2a(0x43c)]+0x1)*gridSize+0x1,this[_0x5fda2a(0x481)]=0x8,this[_0x5fda2a(0x26a)]=[],this[_0x5fda2a(0x36e)]=[],this[_0x5fda2a(0x36f)](),this[_0x5fda2a(0x3f5)]=[],this[_0x5fda2a(0x356)]=[],this[_0x5fda2a(0x2b6)]=[],this[_0x5fda2a(0x47a)]=StoneFloorBlock,this['wall']=DungeonWall;}[a0_0x567640(0x2f5)](_0x878e0a){var _0x2cd6db=a0_0x567640;this[_0x2cd6db(0x2b6)]=_0x878e0a;}['getDungeonMap'](){var _0x1405e9=a0_0x567640;return this[_0x1405e9(0x2b6)];}[a0_0x567640(0x36f)](){var _0x4fee24=a0_0x567640;for(let _0x2ce8bc=0x0;_0x2ce8bc<this['MAX_X_SIZE'];_0x2ce8bc++){var _0x5a094f=[],_0x52cfad=[];for(let _0x2d31bb=0x0;_0x2d31bb<this[_0x4fee24(0x289)];_0x2d31bb++){var _0x7d9cd0=[],_0x808522=[];for(let _0x107c9d=0x0;_0x107c9d<this[_0x4fee24(0x481)];_0x107c9d++)_0x7d9cd0[_0x4fee24(0x4b3)](!0x1),_0x808522[_0x4fee24(0x4b3)](null);_0x5a094f['push'](_0x7d9cd0),_0x52cfad['push'](_0x808522);}this[_0x4fee24(0x26a)][_0x4fee24(0x4b3)](_0x5a094f),this[_0x4fee24(0x36e)]['push'](_0x52cfad);}}[a0_0x567640(0x22c)](){var _0x5631ff=a0_0x567640;const _0x2200c2=currentRoom[0x0],_0x29747d=(currentRoom[0x1]-0x3)*(this[_0x5631ff(0x3f4)]+0x1),_0x2925dd=(0x6-_0x2200c2)*(this['roomSizeY']+0x1);var _0x412b00=[];for(let _0x10ec57=_0x29747d;_0x10ec57<_0x29747d+this[_0x5631ff(0x3f4)];_0x10ec57++){var _0x2f9c65=[];for(let _0x30d30a=_0x2925dd;_0x30d30a<_0x2925dd+this[_0x5631ff(0x43c)];_0x30d30a++)_0x2f9c65[_0x5631ff(0x4b3)](this[_0x5631ff(0x2cd)](_0x10ec57,_0x30d30a,-0x3)||this[_0x5631ff(0x2cd)](_0x10ec57,_0x30d30a,-0x4));_0x412b00[_0x5631ff(0x4b3)](_0x2f9c65);}return _0x412b00;}[a0_0x567640(0x41e)](_0x2cc106,_0x57b05c){var _0x2e477d=a0_0x567640;const _0x513857=currentRoom[0x0];return[_0x2cc106-(currentRoom[0x1]-0x3)*(this['roomSizeX']+0x1),_0x57b05c-(0x6-_0x513857)*(this[_0x2e477d(0x43c)]+0x1)];}[a0_0x567640(0x349)](_0x3a5ad8,_0x8188d){const _0x30c5e2=currentRoom[0x0];return[_0x3a5ad8+(currentRoom[0x1]-0x3)*(this['roomSizeX']+0x1),_0x8188d+(0x6-_0x30c5e2)*(this['roomSizeY']+0x1)];}['getIsOccupied'](_0x2fe052,_0x419177,_0x2d5ccb){var _0x3820e4=a0_0x567640;const _0x1bae1e=(this[_0x3820e4(0x3f4)]+0x1)*Math[_0x3820e4(0x47a)](gridSize/0x2)+0x1;return!(_0x2fe052+_0x1bae1e>=this[_0x3820e4(0x227)]||_0x419177+0x1>=this[_0x3820e4(0x289)]||_0x2d5ccb+0x8>=this[_0x3820e4(0x481)]||_0x2fe052+_0x1bae1e<0x0||_0x419177+0x1<0x0||_0x2d5ccb+0x8<0x0)&&this[_0x3820e4(0x26a)][_0x2fe052+_0x1bae1e][_0x419177+0x1][_0x2d5ccb+0x8];}['isSpaceOccupied'](_0x48536d,_0xd27cd3,_0x46c306){return this['getIsOccupied'](_0x48536d,_0xd27cd3,_0x46c306);}[a0_0x567640(0x29c)](_0x102c02,_0x5ab103,_0x1cf571,_0x560e80=!0x0){var _0x423e21=a0_0x567640;const _0x1ae381=(this['roomSizeX']+0x1)*Math[_0x423e21(0x47a)](gridSize/0x2)+0x1;this[_0x423e21(0x26a)][_0x102c02+_0x1ae381][_0x5ab103+0x1][_0x1cf571+0x8]=_0x560e80;}[a0_0x567640(0x2ee)](_0x156e63,_0x5b22dc,_0x40394d,_0x29b348){var _0xc960d7=a0_0x567640;const _0x4690a2=(this[_0xc960d7(0x3f4)]+0x1)*Math[_0xc960d7(0x47a)](gridSize/0x2)+0x1;this[_0xc960d7(0x36e)][_0x156e63+_0x4690a2][_0x5b22dc+0x1][_0x40394d+0x8]=_0x29b348;}[a0_0x567640(0x316)](_0x46c5b2,_0x11169f,_0x109552){var _0x12736b=a0_0x567640;const _0x496271=(this[_0x12736b(0x3f4)]+0x1)*Math[_0x12736b(0x47a)](gridSize/0x2)+0x1;this[_0x12736b(0x36e)][_0x46c5b2+_0x496271][_0x11169f+0x1][_0x109552+0x8]=null;}[a0_0x567640(0x39c)](_0x1042bd,_0x45a794,_0x2efa98){var _0x278f72=a0_0x567640;const _0x2fc127=(this[_0x278f72(0x3f4)]+0x1)*Math[_0x278f72(0x47a)](gridSize/0x2)+0x1;return _0x1042bd+_0x2fc127>=this[_0x278f72(0x227)]||_0x45a794+0x1>=this[_0x278f72(0x289)]||_0x2efa98+0x8>=this[_0x278f72(0x481)]||_0x1042bd+_0x2fc127<0x0||_0x45a794+0x1<0x0||_0x2efa98+0x8<0x0?null:this[_0x278f72(0x36e)][_0x1042bd+_0x2fc127][_0x45a794+0x1][_0x2efa98+0x8];}[a0_0x567640(0x25c)](){var _0x418e83=a0_0x567640;return this[_0x418e83(0x35d)];}[a0_0x567640(0x207)](){return this['blocks'];}[a0_0x567640(0x3e0)](){var _0x46340e=a0_0x567640;return this[_0x46340e(0x356)];}[a0_0x567640(0x4b3)](_0x4c35ce){var _0x1f25bc=a0_0x567640,_0x57dd95=_0x4c35ce[_0x1f25bc(0x246)],_0xc99a3c=_0x4c35ce[_0x1f25bc(0x433)],_0x2fd03c=_0x4c35ce['posZ'];this['getIsOccupied'](_0x57dd95,_0xc99a3c,_0x2fd03c)||(this[_0x1f25bc(0x29c)](_0x57dd95,_0xc99a3c,_0x2fd03c),this[_0x1f25bc(0x2ee)](_0x57dd95,_0xc99a3c,_0x2fd03c,_0x4c35ce),this[_0x1f25bc(0x3f5)]['push'](_0x4c35ce));}['pushCeiling'](_0xa8ffd7){var _0x5d15b6=a0_0x567640;this[_0x5d15b6(0x356)][_0x5d15b6(0x4b3)](_0xa8ffd7);}[a0_0x567640(0x2ca)](){}[a0_0x567640(0x45b)](_0x247145,_0x295d30,_0x1f7b78=!0x1,_0x9f39da=!0x1,_0x56fb86=!0x1,_0x560f1f=!0x1,_0x41b2fd=[0x0,0x0],_0x16a837=!0x1){var _0x1cbdba=a0_0x567640;for(let _0x2a2c33=0x0;_0x2a2c33<this['roomSizeX'];_0x2a2c33++)for(let _0x56f7cc=0x0;_0x56f7cc<this[_0x1cbdba(0x43c)];_0x56f7cc++)this[_0x1cbdba(0x4b3)](new this[(_0x1cbdba(0x47a))](_0x247145+_0x2a2c33,_0x295d30+_0x56f7cc,-0x2));this[_0x1cbdba(0x2bc)](new DungeonCeiling(_0x247145,_0x295d30,-0x7,this['roomSizeX'],this[_0x1cbdba(0x43c)],_0x41b2fd)),this[_0x1cbdba(0x4b3)](new StoneBlock(_0x247145+0x5,_0x295d30+0x5,-0x3)),this[_0x1cbdba(0x4b3)](new StoneBlock(_0x247145+0x6,_0x295d30+0x5,-0x3));for(let _0x1f5ba1=-0x1;_0x1f5ba1<0x4;_0x1f5ba1++){for(let _0xa81713=0x0;_0xa81713<this[_0x1cbdba(0x43c)];_0xa81713++){var _0x2724eb=new this[(_0x1cbdba(0x258))](_0x247145-0x1,+_0x295d30+_0xa81713,-0x3-_0x1f5ba1);-0x1==_0x1f5ba1?_0x2724eb=new this[(_0x1cbdba(0x47a))](_0x247145-0x1,+_0x295d30+_0xa81713,-0x3-_0x1f5ba1):_0x1f5ba1<0x2&&_0x1f7b78&&(0x4==_0xa81713||0x5==_0xa81713)&&(_0x2724eb=new ShiftBlock(_0x247145-0x1,+_0x295d30+_0xa81713,-0x3-_0x1f5ba1)),this[_0x1cbdba(0x4b3)](_0x2724eb);}for(let _0x4f2a43=0x0;_0x4f2a43<this[_0x1cbdba(0x43c)];_0x4f2a43++){_0x2724eb=new this['wall'](_0x247145+this[_0x1cbdba(0x3f4)],+_0x295d30+_0x4f2a43,-0x3-_0x1f5ba1),(-0x1==_0x1f5ba1?_0x2724eb=new this[(_0x1cbdba(0x47a))](_0x247145+this[_0x1cbdba(0x3f4)],+_0x295d30+_0x4f2a43,-0x3-_0x1f5ba1):_0x1f5ba1<0x2&&_0x9f39da&&(0x4==_0x4f2a43||0x5==_0x4f2a43)&&(_0x2724eb=new ShiftBlock(_0x247145+this[_0x1cbdba(0x3f4)],+_0x295d30+_0x4f2a43,-0x3-_0x1f5ba1)),this[_0x1cbdba(0x4b3)](_0x2724eb));}for(let _0x3750ab=0x0;_0x3750ab<this[_0x1cbdba(0x3f4)];_0x3750ab++){_0x2724eb=new this['wall'](_0x247145+_0x3750ab,_0x295d30-0x1,-0x3-_0x1f5ba1),(-0x1==_0x1f5ba1?_0x2724eb=new this['floor'](_0x247145+_0x3750ab,_0x295d30-0x1,-0x3-_0x1f5ba1):_0x1f5ba1<0x2&&(_0x560f1f||_0x16a837)&&(0x7==_0x3750ab||0x8==_0x3750ab)&&(_0x2724eb=_0x16a837?new TeleBlock(_0x247145+_0x3750ab,_0x295d30-0x1,-0x3-_0x1f5ba1,0x2):new ShiftBlock(_0x247145+_0x3750ab,_0x295d30-0x1,-0x3-_0x1f5ba1)),this[_0x1cbdba(0x4b3)](_0x2724eb));}for(let _0x54a444=0x0;_0x54a444<this[_0x1cbdba(0x3f4)];_0x54a444++){_0x2724eb=new this['wall'](_0x247145+_0x54a444,_0x295d30+this[_0x1cbdba(0x43c)],-0x3-_0x1f5ba1),(-0x1==_0x1f5ba1?_0x2724eb=new this['floor'](_0x247145+_0x54a444,_0x295d30+this['roomSizeY'],-0x3-_0x1f5ba1):_0x1f5ba1<0x2&&_0x56fb86&&(0x7==_0x54a444||0x8==_0x54a444)&&(_0x2724eb=new ShiftBlock(_0x247145+_0x54a444,_0x295d30+this[_0x1cbdba(0x43c)],-0x3-_0x1f5ba1)),this[_0x1cbdba(0x4b3)](_0x2724eb));}}}[a0_0x567640(0x20b)](){var _0xf95942=a0_0x567640;for(let _0x274f4b=0x0;_0x274f4b<gridSize;_0x274f4b++)for(let _0x20ccfd=0x0;_0x20ccfd<gridSize;_0x20ccfd++){var _0x36bf8b=_0x20ccfd-0x1>=0x0&&this[_0xf95942(0x35d)][_0x274f4b][_0x20ccfd-0x1],_0x1a590c=_0x20ccfd+0x1<gridSize&&this[_0xf95942(0x35d)][_0x274f4b][_0x20ccfd+0x1],_0x1ee892=_0x274f4b+0x1<gridSize&&this[_0xf95942(0x35d)][_0x274f4b+0x1][_0x20ccfd],_0x5b1234=_0x274f4b-0x1>=0x0&&this[_0xf95942(0x35d)][_0x274f4b-0x1][_0x20ccfd];this[_0xf95942(0x35d)][_0x274f4b][_0x20ccfd]&&(0x6==_0x274f4b&&0x3==_0x20ccfd?this[_0xf95942(0x45b)]((_0x20ccfd-0x3)*(this['roomSizeX']+0x1),(0x6-_0x274f4b)*(this[_0xf95942(0x43c)]+0x1),_0x36bf8b,_0x1a590c,_0x5b1234,_0x1ee892,[_0x274f4b,_0x20ccfd],!0x0):this[_0xf95942(0x45b)]((_0x20ccfd-0x3)*(this[_0xf95942(0x3f4)]+0x1),(0x6-_0x274f4b)*(this[_0xf95942(0x43c)]+0x1),_0x36bf8b,_0x1a590c,_0x5b1234,_0x1ee892,[_0x274f4b,_0x20ccfd],!0x1));}for(let _0x11492b=0x0;_0x11492b<this[_0xf95942(0x3f5)]['length'];_0x11492b++)this[_0xf95942(0x3f5)][_0x11492b]['update']();}[a0_0x567640(0x457)](_0x10cdf6,_0x4af5ce,_0x5604b8){var _0x5749ed=a0_0x567640;if(0x0!=this['blocks']['length']){if(0x1!=this[_0x5749ed(0x3f5)][_0x5749ed(0x240)]){for(var _0x551db2=0x0;_0x551db2<this[_0x5749ed(0x3f5)][_0x5749ed(0x240)];_0x551db2++)if(this[_0x5749ed(0x3f5)][_0x551db2][_0x5749ed(0x246)]==_0x10cdf6&&this[_0x5749ed(0x3f5)][_0x551db2][_0x5749ed(0x433)]==_0x4af5ce&&this[_0x5749ed(0x3f5)][_0x551db2]['posZ']==_0x5604b8){if(_0x551db2!=this[_0x5749ed(0x3f5)][_0x5749ed(0x240)]-0x1){var _0x2c39c1=this[_0x5749ed(0x3f5)][_0x551db2];this[_0x5749ed(0x3f5)][_0x551db2]=this[_0x5749ed(0x3f5)][this[_0x5749ed(0x3f5)]['length']-0x1],this[_0x5749ed(0x3f5)][_0x5749ed(0x34b)](),_0x2c39c1['destroy']();}else _0x2c39c1=this[_0x5749ed(0x3f5)][_0x551db2],(this['blocks'][_0x5749ed(0x34b)](),_0x2c39c1['destroy']());}}else this[_0x5749ed(0x3f5)][0x0]['posX']==_0x10cdf6&&this[_0x5749ed(0x3f5)][0x0][_0x5749ed(0x433)]==_0x4af5ce&&this[_0x5749ed(0x3f5)][0x0][_0x5749ed(0x328)]==_0x5604b8&&(this['blocks']=[]);}}[a0_0x567640(0x3ec)](_0x1c44bd,_0x208d1b,_0xaaf696){var _0x16f5fe=a0_0x567640;if(!this[_0x16f5fe(0x2cd)](_0x1c44bd,_0x208d1b,_0xaaf696))return!0x1;this[_0x16f5fe(0x29c)](_0x1c44bd,_0x208d1b,_0xaaf696,!0x1),this['removeBlock3D'](_0x1c44bd,_0x208d1b,_0xaaf696),this['removeFromBlockArray'](_0x1c44bd,_0x208d1b,_0xaaf696),this['updateChunk'](_0x1c44bd,_0x208d1b,_0xaaf696);}['addBlock'](_0x5e5192){var _0xd03f9c=a0_0x567640,_0x3ab4a6=_0x5e5192[_0xd03f9c(0x246)],_0x1cca29=_0x5e5192['posY'],_0x65b633=_0x5e5192['posZ'];return!this[_0xd03f9c(0x2cd)](_0x3ab4a6,_0x1cca29,_0x65b633)&&(this['push'](_0x5e5192),this[_0xd03f9c(0x249)](_0x3ab4a6,_0x1cca29,_0x65b633),!0x0);}['updateChunk'](_0x3a639b,_0x2772f4,_0x467c51){var _0x30f6ad=a0_0x567640;for(let _0x37b86c=-0x1;_0x37b86c<0x2;_0x37b86c++)for(let _0x117063=-0x1;_0x117063<0x2;_0x117063++)for(let _0x3cb6be=-0x1;_0x3cb6be<0x2;_0x3cb6be++){null!=(_0x42595c=this[_0x30f6ad(0x39c)](_0x3a639b+_0x37b86c,_0x2772f4+_0x117063,_0x467c51+_0x3cb6be))&&_0x42595c[_0x30f6ad(0x1e8)]();}var _0x42595c;null!=(_0x42595c=this['getBlockAt'](_0x3a639b,_0x2772f4,_0x467c51-0x2))&&_0x42595c['update']();}[a0_0x567640(0x447)](_0x10883f,_0x13e1c8){var _0x3cb1c1=a0_0x567640,_0x26cb32=[];for(let _0x371573=-0x2;_0x371573<0x3;_0x371573++)for(let _0xaa40a8=-0x2;_0xaa40a8<0x3;_0xaa40a8++){var _0x2434a4=this['getBlockAt'](_0x10883f+_0x371573,_0x13e1c8+_0xaa40a8,-0x3);null!=_0x2434a4&&_0x26cb32[_0x3cb1c1(0x4b3)](_0x2434a4),null!=(_0x2434a4=this[_0x3cb1c1(0x39c)](_0x10883f+_0x371573,_0x13e1c8+_0xaa40a8,-0x4))&&_0x26cb32[_0x3cb1c1(0x4b3)](_0x2434a4);}return _0x26cb32;}[a0_0x567640(0x278)](_0x5bd6ea,_0x2bdc88){var _0x5e27dc=a0_0x567640;for(let _0x86c61e=0x0;_0x86c61e<0x3;_0x86c61e++)for(let _0x4c4189=0x0;_0x4c4189<0x3;_0x4c4189++){let _0x111ddb=this['getBlockAt'](_0x5bd6ea+(_0x86c61e-0x1),_0x2bdc88+(_0x4c4189-0x1),-0x3);if(null!=_0x111ddb&&0x9==_0x111ddb['objectNumber'])return[!0x0,_0x111ddb];}for(let _0x506b24=0x0;_0x506b24<0x3;_0x506b24++)for(let _0x48b802=0x0;_0x48b802<0x3;_0x48b802++)if(!this[_0x5e27dc(0x44e)](_0x5bd6ea+(_0x506b24-0x1),_0x2bdc88+(_0x48b802-0x1),-0x3))return[!0x1,[_0x5bd6ea+(_0x506b24-0x1),_0x2bdc88+(_0x48b802-0x1),-0x3]];return null;}}var currentDungeon,dungeonList=[],genNewDungeon=!0x0,dungeonNumber=-0x1;function dungeon_scene(){var _0x415e93=a0_0x567640;fixedView=!0x0,lastPos=[player[_0x415e93(0x246)],player[_0x415e93(0x433)]],player['posX']=0x8,player[_0x415e93(0x433)]=0x1;let _0x213585=!0x1;if(genNewDungeon?(_0x213585=!0x0,(currentDungeon=new Dungeon())[_0x415e93(0x20b)](),dungeonList[_0x415e93(0x4b3)](currentDungeon),genNewDungeon=!0x1):currentDungeon=dungeonList[dungeonNumber],dungeonGrid=currentDungeon[_0x415e93(0x25c)](),blocks=currentDungeon[_0x415e93(0x207)](),ceilingBlocks=currentDungeon[_0x415e93(0x3e0)](),viewMatrixFixed=mult(viewMatrixFixed=translate(0x0,0x0,0x0),scale4(0.125,0x1/4.5,0.1)),viewMatrixFixed=mult(viewMatrixFixed,translate(-0x8,-4.75,0x0)),roomSizeX=currentDungeon[_0x415e93(0x3f4)]+0x1,roomSizeY=currentDungeon['roomSizeY']+0x1,_0x213585){visitedGrid=[];for(let _0x3c22db=0x0;_0x3c22db<gridSize;_0x3c22db++){var _0x44c91d=[];for(let _0x513dd0=0x0;_0x513dd0<gridSize;_0x513dd0++)_0x44c91d[_0x415e93(0x4b3)](!0x1);visitedGrid[_0x415e93(0x4b3)](_0x44c91d);}visitedGrid[0x6][0x3]=!0x0,viewedGrid=[];for(let _0x25272a=0x0;_0x25272a<gridSize;_0x25272a++){_0x44c91d=[];for(let _0x6d5a01=0x0;_0x6d5a01<gridSize;_0x6d5a01++)_0x44c91d[_0x415e93(0x4b3)](!0x1);viewedGrid[_0x415e93(0x4b3)](_0x44c91d);}currentDungeon[_0x415e93(0x2f5)]([visitedGrid,viewedGrid]);}else{let _0x535783=currentDungeon[_0x415e93(0x299)]();visitedGrid=_0x535783[0x0],viewGrid=_0x535783[0x1];}}var isStopRight=!0x1,isStopLeft=!0x1,isStopUp=!0x1,isStopDown=!0x1,colOffset=0.1,colZOffset=-0.5;function isInZRange(_0x5f5b6d,_0x14d98f){var _0x4f6770=a0_0x567640;return _0x5f5b6d[_0x4f6770(0x3ae)]()[0x1][0x2]>=_0x14d98f[_0x4f6770(0x3ae)]()[0x0][0x2]+colZOffset&&_0x5f5b6d[_0x4f6770(0x3ae)]()[0x1][0x2]<=_0x14d98f['returnBounds']()[0x1][0x2]-colZOffset||_0x5f5b6d[_0x4f6770(0x3ae)]()[0x0][0x2]>=_0x14d98f[_0x4f6770(0x3ae)]()[0x0][0x2]+colZOffset&&_0x5f5b6d[_0x4f6770(0x3ae)]()[0x0][0x2]<=_0x14d98f['returnBounds']()[0x1][0x2]-colZOffset;}class BoundObject{constructor(_0x1e6334,_0x2c149f,_0x485194){var _0xc5c9c1=a0_0x567640;this[_0xc5c9c1(0x246)]=_0x1e6334,this['posY']=_0x2c149f,this['posZ']=_0x485194;}[a0_0x567640(0x3ae)](){var _0x1398af=a0_0x567640;return fixedView?[vec3(this['posX'],this[_0x1398af(0x433)],this[_0x1398af(0x328)]),vec3(this['posX']+0x1,this[_0x1398af(0x433)]+0x1,this['posZ']+0x1)]:[vec3(mult(translate(0x0,0x0,0x0),vec4(this[_0x1398af(0x246)],this[_0x1398af(0x433)],this[_0x1398af(0x328)],0x1))),vec3(mult(translate(0x0,0x0,0x0),vec4(this[_0x1398af(0x246)]+0x1,this[_0x1398af(0x433)]+0x1,this[_0x1398af(0x328)]+0x1,0x1)))];}}function isCollidingRight(_0x2c6ec6,_0x39fe8e){var _0xa85e87=a0_0x567640;if(null==_0x39fe8e||null==_0x2c6ec6)return!0x1;if(!isInZRange(_0x2c6ec6,_0x39fe8e))return!0x1;if(_0x2c6ec6['returnBounds']()[0x1][0x0]>=_0x39fe8e[_0xa85e87(0x3ae)]()[0x0][0x0]&&_0x2c6ec6['returnBounds']()[0x1][0x0]<=_0x39fe8e['returnBounds']()[0x1][0x0]){if(_0x2c6ec6[_0xa85e87(0x3ae)]()[0x1][0x1]>=_0x39fe8e['returnBounds']()[0x0][0x1]+colOffset&&_0x2c6ec6[_0xa85e87(0x3ae)]()[0x1][0x1]<=_0x39fe8e[_0xa85e87(0x3ae)]()[0x1][0x1]-colOffset)return!0x0;if(_0x2c6ec6['returnBounds']()[0x0][0x1]>=_0x39fe8e[_0xa85e87(0x3ae)]()[0x0][0x1]+colOffset&&_0x2c6ec6['returnBounds']()[0x0][0x1]<=_0x39fe8e['returnBounds']()[0x1][0x1]-colOffset)return!0x0;}return!0x1;}function isCollidingLeft(_0x53975a,_0x27a2c1){var _0xab23c=a0_0x567640;if(null==_0x27a2c1||null==_0x53975a)return!0x1;if(!isInZRange(_0x53975a,_0x27a2c1))return!0x1;if(_0x53975a[_0xab23c(0x3ae)]()[0x0][0x0]>=_0x27a2c1[_0xab23c(0x3ae)]()[0x0][0x0]&&_0x53975a[_0xab23c(0x3ae)]()[0x0][0x0]<=_0x27a2c1[_0xab23c(0x3ae)]()[0x1][0x0]){if(_0x53975a[_0xab23c(0x3ae)]()[0x1][0x1]>=_0x27a2c1[_0xab23c(0x3ae)]()[0x0][0x1]+colOffset&&_0x53975a[_0xab23c(0x3ae)]()[0x1][0x1]<=_0x27a2c1['returnBounds']()[0x1][0x1]-colOffset)return!0x0;if(_0x53975a['returnBounds']()[0x0][0x1]>=_0x27a2c1['returnBounds']()[0x0][0x1]+colOffset&&_0x53975a['returnBounds']()[0x0][0x1]<=_0x27a2c1['returnBounds']()[0x1][0x1]-colOffset)return!0x0;}return!0x1;}function isCollidingUp(_0x49c6be,_0x279080){var _0x4269dd=a0_0x567640;if(null==_0x279080||null==_0x49c6be)return!0x1;if(!isInZRange(_0x49c6be,_0x279080))return!0x1;if(_0x49c6be[_0x4269dd(0x3ae)]()[0x1][0x1]>=_0x279080[_0x4269dd(0x3ae)]()[0x0][0x1]&&_0x49c6be[_0x4269dd(0x3ae)]()[0x1][0x1]<=_0x279080['returnBounds']()[0x1][0x1]){if(_0x49c6be[_0x4269dd(0x3ae)]()[0x1][0x0]>=_0x279080[_0x4269dd(0x3ae)]()[0x0][0x0]+colOffset&&_0x49c6be['returnBounds']()[0x1][0x0]<=_0x279080[_0x4269dd(0x3ae)]()[0x1][0x0]-colOffset)return!0x0;if(_0x49c6be[_0x4269dd(0x3ae)]()[0x0][0x0]>=_0x279080[_0x4269dd(0x3ae)]()[0x0][0x0]+colOffset&&_0x49c6be[_0x4269dd(0x3ae)]()[0x0][0x0]<=_0x279080['returnBounds']()[0x1][0x0]-colOffset)return!0x0;}return!0x1;}function isCollidingDown(_0x1ba4a9,_0x5eddea){var _0x495288=a0_0x567640;if(null==_0x1ba4a9||null==_0x5eddea)return!0x1;if(!isInZRange(_0x1ba4a9,_0x5eddea))return!0x1;if(_0x1ba4a9[_0x495288(0x3ae)]()[0x0][0x1]<=_0x5eddea[_0x495288(0x3ae)]()[0x1][0x1]&&_0x1ba4a9[_0x495288(0x3ae)]()[0x0][0x1]>=_0x5eddea[_0x495288(0x3ae)]()[0x0][0x1]){if(_0x1ba4a9[_0x495288(0x3ae)]()[0x0][0x0]>=_0x5eddea[_0x495288(0x3ae)]()[0x0][0x0]+colOffset&&_0x1ba4a9[_0x495288(0x3ae)]()[0x0][0x0]<=_0x5eddea['returnBounds']()[0x1][0x0]-colOffset)return!0x0;if(_0x1ba4a9[_0x495288(0x3ae)]()[0x1][0x0]>=_0x5eddea[_0x495288(0x3ae)]()[0x0][0x0]+colOffset&&_0x1ba4a9['returnBounds']()[0x1][0x0]<=_0x5eddea[_0x495288(0x3ae)]()[0x1][0x0]-colOffset)return!0x0;}return!0x1;}function isColliding(_0x3cd228,_0x2140e5){var _0x42e7e2=a0_0x567640;return null!=_0x3cd228&&null!=_0x2140e5&&(_0x3cd228['returnBounds']()[0x1][0x0]>=_0x2140e5[_0x42e7e2(0x3ae)]()[0x0][0x0]&&_0x3cd228[_0x42e7e2(0x3ae)]()[0x0][0x0]<_0x2140e5[_0x42e7e2(0x3ae)]()[0x1][0x0]&&_0x3cd228['returnBounds']()[0x1][0x1]>=_0x2140e5[_0x42e7e2(0x3ae)]()[0x0][0x1]&&_0x3cd228['returnBounds']()[0x0][0x1]<_0x2140e5[_0x42e7e2(0x3ae)]()[0x1][0x1]);}function collidingHorizontal(_0x4cd88a,_0x694339){var _0x5856c5=a0_0x567640;return objectOneBounds=_0x4cd88a['returnBounds'](),objectTwoBounds=_0x694339[_0x5856c5(0x3ae)](),objectOneBounds[0x1][0x0]>=objectTwoBounds[0x0][0x0]&&objectOneBounds[0x0][0x0]<objectTwoBounds[0x1][0x0]?[objectOneBounds[0x1][0x0]-objectTwoBounds[0x0][0x0],objectTwoBounds[0x1][0x0]-objectOneBounds[0x0][0x0]]:[0x0,0x0];}function collidingVerticle(_0x11751e,_0x242368){var _0xc0ac7f=a0_0x567640;return _0x11751e[_0xc0ac7f(0x3ae)]()[0x1][0x1]>=_0x242368['returnBounds']()[0x0][0x1]&&_0x11751e[_0xc0ac7f(0x3ae)]()[0x0][0x1]<_0x242368[_0xc0ac7f(0x3ae)]()[0x1][0x1];}function isCollidingLeftNew(_0xffaa5c,_0x192989){var _0x50fad4=a0_0x567640;return objectOneBounds=_0xffaa5c[_0x50fad4(0x3ae)](),objectTwoBounds=_0x192989[_0x50fad4(0x3ae)](),_0xffaa5c[_0x50fad4(0x3ae)]()[0x1][0x0]>=_0x192989['returnBounds']()[0x0][0x0]&&_0xffaa5c[_0x50fad4(0x3ae)]()[0x0][0x0]<_0x192989[_0x50fad4(0x3ae)]()[0x1][0x0]&&_0xffaa5c[_0x50fad4(0x3ae)]()[0x1][0x1]>=_0x192989[_0x50fad4(0x3ae)]()[0x0][0x1]&&_0xffaa5c[_0x50fad4(0x3ae)]()[0x0][0x1]<_0x192989[_0x50fad4(0x3ae)]()[0x1][0x1];}function isColliding_Original(_0x190a5d,_0x549bd4){return!!isCollidingRight(_0x190a5d,_0x549bd4)||(!!isCollidingLeft(_0x190a5d,_0x549bd4)||(!!isCollidingUp(_0x190a5d,_0x549bd4)||!!isCollidingDown(_0x190a5d,_0x549bd4)));}const NO_DIRECTION=-0x1,LEFT=0x0,RIGHT=0x1,TOP=0x2,BOTTOM=0x3,ALL_DIRECTIONS=0x4;function isPointInRectangle(_0x314a29,_0x1f1f43){var _0x2cbdcf=_0x1f1f43[0x0],_0x2ed4e0=_0x1f1f43[0x1];return _0x2cbdcf[0x0]<=_0x314a29[0x0]&&_0x2ed4e0[0x0]>=_0x314a29[0x0]&&_0x2cbdcf[0x1]<=_0x314a29[0x1]&&_0x2ed4e0[0x1]>=_0x314a29[0x1];}function directionInhibited(_0x482ea0,_0x2267df){var _0x4e7176,_0xa91886,_0x50f181,_0x4cdce0,_0x54d226,_0x122447,_0x322f36,_0x1f4e40;_0x4e7176=_0x482ea0[0x0],_0xa91886=vec2(_0x482ea0[0x1][0x0],_0x482ea0[0x0][0x1]),_0x50f181=vec2(_0x482ea0[0x0][0x0],_0x482ea0[0x1][0x1]),_0x4cdce0=_0x482ea0[0x1],_0x54d226=_0x2267df[0x0],_0x122447=vec2(_0x2267df[0x1][0x0],_0x2267df[0x0][0x1]),_0x322f36=vec2(_0x2267df[0x0][0x0],_0x2267df[0x1][0x1]),_0x1f4e40=_0x2267df[0x1];var _0x3a2964=[isPointInRectangle(_0x4e7176,_0x2267df),isPointInRectangle(_0xa91886,_0x2267df),isPointInRectangle(_0x50f181,_0x2267df),isPointInRectangle(_0x4cdce0,_0x2267df)],_0x36f3bc=[isPointInRectangle(_0x54d226,_0x482ea0),isPointInRectangle(_0x122447,_0x482ea0),isPointInRectangle(_0x322f36,_0x482ea0),isPointInRectangle(_0x1f4e40,_0x482ea0)],_0x117ab7=0x0,_0x3b2157=0x0;for(let _0x5f4f17=0x0;_0x5f4f17<0x4;_0x5f4f17++)_0x117ab7+=_0x3a2964[_0x5f4f17],_0x3b2157+=_0x36f3bc[_0x5f4f17];if(0x0==_0x117ab7&&0x0==_0x3b2157)return-0x1;var _0x517686=!0x1,_0x304784=!0x1,_0x21522d=!0x1,_0x11285b=!0x1;return _0x3a2964[0x1]+_0x3a2964[0x3]+_0x36f3bc[0x0]+_0x36f3bc[0x2]>=0x2&&(_0x304784=!0x0),_0x3a2964[0x0]+_0x3a2964[0x2]+_0x36f3bc[0x1]+_0x36f3bc[0x3]>=0x2&&(_0x517686=!0x0),_0x3a2964[0x2]+_0x3a2964[0x3]+_0x36f3bc[0x0]+_0x36f3bc[0x1]>=0x2&&(_0x21522d=!0x0),_0x3a2964[0x0]+_0x3a2964[0x1]+_0x36f3bc[0x2]+_0x36f3bc[0x3]>=0x2&&(_0x11285b=!0x0),[_0x517686,_0x304784,_0x21522d,_0x11285b];}function directionInhibitedOffset(_0x415058,_0x4ba322){var _0x540791,_0x153dd7,_0x580b5a,_0x5ba926,_0x4a740b,_0x33f8a0,_0x2506ef,_0x35d88d,_0x2d7b48=0.05;_0x540791=_0x415058[0x0],_0x153dd7=vec2(_0x415058[0x1][0x0],_0x415058[0x0][0x1]),_0x580b5a=vec2(_0x415058[0x0][0x0],_0x415058[0x1][0x1]),_0x5ba926=_0x415058[0x1],_0x4a740b=_0x4ba322[0x0],_0x33f8a0=vec2(_0x4ba322[0x1][0x0],_0x4ba322[0x0][0x1]),_0x2506ef=vec2(_0x4ba322[0x0][0x0],_0x4ba322[0x1][0x1]),_0x35d88d=_0x4ba322[0x1];var _0x1c8294=vec2(_0x540791[0x0]-_0x2d7b48,_0x540791[0x1]),_0x4c0bc4=vec2(_0x540791[0x0],_0x540791[0x1]-_0x2d7b48),_0x3a4511=vec2(_0x153dd7[0x0]+_0x2d7b48,_0x153dd7[0x1]),_0x4084ff=vec2(_0x153dd7[0x0],_0x153dd7[0x1]-_0x2d7b48),_0x4e7108=vec2(_0x580b5a[0x0]-_0x2d7b48,_0x580b5a[0x1]),_0x4d1d12=vec2(_0x580b5a[0x0],_0x580b5a[0x1]+_0x2d7b48),_0x2fde8f=vec2(_0x5ba926[0x0]+_0x2d7b48,_0x5ba926[0x1]),_0x2b88d3=vec2(_0x5ba926[0x0],_0x5ba926[0x1]+_0x2d7b48),_0x5b7635=[[isPointInRectangle(_0x1c8294,_0x4ba322),isPointInRectangle(_0x4c0bc4,_0x4ba322)],[isPointInRectangle(_0x3a4511,_0x4ba322),isPointInRectangle(_0x4084ff,_0x4ba322)],[isPointInRectangle(_0x4e7108,_0x4ba322),isPointInRectangle(_0x4d1d12,_0x4ba322)],[isPointInRectangle(_0x2fde8f,_0x4ba322),isPointInRectangle(_0x2b88d3,_0x4ba322)]],_0x48cb39=[vec2(_0x540791[0x0]-_0x2d7b48,_0x540791[0x1]-_0x2d7b48),vec2(_0x5ba926[0x0]+_0x2d7b48,_0x5ba926[0x1]+_0x2d7b48)],_0x2dd8a1=[isPointInRectangle(_0x4a740b,_0x48cb39),isPointInRectangle(_0x33f8a0,_0x48cb39),isPointInRectangle(_0x2506ef,_0x48cb39),isPointInRectangle(_0x35d88d,_0x48cb39)],_0x166504=!0x1,_0x47b932=!0x1,_0x5e33d4=!0x1,_0x2d5e53=!0x1;return _0x5b7635[0x1][0x0]+_0x5b7635[0x3][0x0]+_0x2dd8a1[0x0]+_0x2dd8a1[0x2]>=0x2&&(_0x47b932=!0x0),_0x5b7635[0x0][0x0]+_0x5b7635[0x2][0x0]+_0x2dd8a1[0x1]+_0x2dd8a1[0x3]>=0x2&&(_0x166504=!0x0),_0x5b7635[0x2][0x1]+_0x5b7635[0x3][0x1]+_0x2dd8a1[0x0]+_0x2dd8a1[0x1]>=0x2&&(_0x5e33d4=!0x0),_0x5b7635[0x0][0x1]+_0x5b7635[0x1][0x1]+_0x2dd8a1[0x2]+_0x2dd8a1[0x3]>=0x2&&(_0x2d5e53=!0x0),[_0x166504,_0x47b932,_0x5e33d4,_0x2d5e53];}function colDirection(_0x3d7611,_0x2206ed){var _0x26ba46=a0_0x567640;if(null==_0x3d7611||null==_0x2206ed)return[!0x1,!0x1,!0x1,!0x1];var _0xf51b58=_0x3d7611['returnBounds'](),_0x1584a8=_0x2206ed[_0x26ba46(0x3ae)]();if(null==_0xf51b58||null==_0x1584a8)return[!0x1,!0x1,!0x1,!0x1];var _0x2bd793=_0xf51b58[0x0][0x2],_0xeb4ac3=_0xf51b58[0x1][0x2],_0x1ee1e0=_0x1584a8[0x0][0x2],_0x15fd66=_0x1584a8[0x1][0x2];return _0xeb4ac3<_0x1ee1e0||_0x2bd793>_0x15fd66?[!0x1,!0x1,!0x1,!0x1]:directionInhibitedOffset([vec2(_0xf51b58[0x0][0x0],_0xf51b58[0x0][0x1]),vec2(_0xf51b58[0x1][0x0],_0xf51b58[0x1][0x1])],[vec2(_0x1584a8[0x0][0x0],_0x1584a8[0x0][0x1]),vec2(_0x1584a8[0x1][0x0],_0x1584a8[0x1][0x1])]);}function boxInBox(_0x42c09f,_0x13ec00){_0x42c09f[0x0];}function isCol(_0x2d9ccd,_0x24b5ff){var _0x4be0aa=a0_0x567640;if(null==_0x2d9ccd||null==_0x24b5ff)return!0x1;return _0x2d9ccd['returnBounds'](),_0x24b5ff['returnBounds'](),oOne['returnBounds']()[0x1][0x0]>=oTwo[_0x4be0aa(0x3ae)]()[0x0][0x0]&&oOne['returnBounds']()[0x0][0x0]<oTwo[_0x4be0aa(0x3ae)]()[0x1][0x0]&&oOne['returnBounds']()[0x1][0x1]>=oTwo[_0x4be0aa(0x3ae)]()[0x0][0x1]&&oOne[_0x4be0aa(0x3ae)]()[0x0][0x1]<oTwo[_0x4be0aa(0x3ae)]()[0x1][0x1];}function pushApart(_0x49fd2f,_0x3b34c0){}function isPointInBox(_0x25d1ab,_0x275c82){var _0x2a4e8b=_0x275c82[0x0],_0x2036b4=_0x275c82[0x1];return _0x2a4e8b[0x0]<=_0x25d1ab[0x0]&&_0x2036b4[0x0]>=_0x25d1ab[0x0]&&_0x2a4e8b[0x1]<=_0x25d1ab[0x1]&&_0x2036b4[0x1]>=_0x25d1ab[0x1]&&_0x2a4e8b[0x2]<=_0x25d1ab[0x2]&&_0x2036b4[0x2]>=_0x25d1ab[0x2];}var universalEnemyId,boxX=0.25,boxY=0.25,undeadHitboxBounds=[vec3(-boxX,-boxY,1.25),vec3(boxX,boxY,3.1)];class Undead extends Humanoid{constructor(_0x52d828,_0x342596,_0x4d7651){var _0x583586=a0_0x567640;super(_0x52d828,_0x342596,_0x4d7651),this[_0x583586(0x212)]=[],this['modelViewStack']=[],this[_0x583586(0x2f6)]=0x0,this['legAngle']=0x0,this[_0x583586(0x4ab)]=!0x1,this[_0x583586(0x48f)]=!0x1,this['stuckWith']=[],this['ID']=universalEnemyId,this[_0x583586(0x33b)]=0.045,this[_0x583586(0x351)]=0.045,this[_0x583586(0x2d1)]=0.025,universalEnemyId++,this[_0x583586(0x49c)]=this[_0x583586(0x246)],this[_0x583586(0x26b)]=this['posY'],this[_0x583586(0x2c5)]=0xa,this[_0x583586(0x209)]=0x0,this['horizontalCooldown']=0x0;}[a0_0x567640(0x407)](_0x40deba){return this['ID']==_0x40deba['ID'];}[a0_0x567640(0x2c4)](_0x2aefc4){var _0x2b913b=a0_0x567640;this[_0x2b913b(0x49c)]-=Math[_0x2b913b(0x211)](Math['PI']*_0x2aefc4/0xb4),this[_0x2b913b(0x26b)]+=Math['cos'](Math['PI']*_0x2aefc4/0xb4),this[_0x2b913b(0x273)]();}[a0_0x567640(0x243)](){var _0x1b617c=a0_0x567640;this[_0x1b617c(0x216)](bodyId),this['initialize_node'](headId),this['initialize_node'](leftArmId),this[_0x1b617c(0x216)](rightArmId),this[_0x1b617c(0x216)](leftLegId),this[_0x1b617c(0x216)](rightLegId),this[_0x1b617c(0x216)](leftShoulderId),this[_0x1b617c(0x216)](rightShoulderId),this['initialize_node'](leftEyeId),this[_0x1b617c(0x216)](rightEyeId),this[_0x1b617c(0x216)](toolId);}[a0_0x567640(0x216)](_0x589810,_0x2d23e5=0x0,_0x4b30d4=0x0,_0x30aabf=0x0){var _0x256be9=a0_0x567640,_0x58f5e5=mat4();switch(_0x589810){case bodyId:_0x58f5e5=mult(_0x58f5e5=scale4(0.5,0.5,0.5),rotateX(-0x5a)),_0x58f5e5=mult(_0x58f5e5,rotateY(this[_0x256be9(0x2f6)])),_0x58f5e5=mult(translate(_0x2d23e5,_0x4b30d4,-3.25,0x0),_0x58f5e5),this[_0x256be9(0x212)][bodyId]=create_node(_0x58f5e5,body,null,headId);break;case headId:_0x58f5e5=translate(0x0,1.5,0x0,0x0),this[_0x256be9(0x212)][headId]=create_node(_0x58f5e5,head,leftArmId,leftEyeId);break;case leftArmId:_0x58f5e5=rotateX(0x5a),_0x58f5e5=mult(translate(-0.75,1.125,0x0,0x0),_0x58f5e5),this[_0x256be9(0x212)][leftArmId]=create_node(_0x58f5e5,left_arm,rightArmId,leftShoulderId);break;case rightArmId:_0x58f5e5=rotateX(0x5a),_0x58f5e5=mult(translate(0.75,1.125,0x0,0x0),_0x58f5e5),this[_0x256be9(0x212)][rightArmId]=create_node(_0x58f5e5,right_arm,leftLegId,rightShoulderId);break;case leftLegId:_0x58f5e5=rotateX(-this[_0x256be9(0x38b)]),_0x58f5e5=mult(translate(-0.25,-0.25,0x0,0x0),_0x58f5e5),this[_0x256be9(0x212)][leftLegId]=create_node(_0x58f5e5,left_leg,rightLegId,null);break;case rightLegId:_0x58f5e5=rotateX(this[_0x256be9(0x38b)]),_0x58f5e5=mult(translate(0.25,-0.25,0x0,0x0),_0x58f5e5),this['model'][rightLegId]=create_node(_0x58f5e5,right_leg,null,null);break;case leftShoulderId:this[_0x256be9(0x212)][leftShoulderId]=create_node(_0x58f5e5,left_shoulder,null,null);break;case rightShoulderId:this[_0x256be9(0x212)][rightShoulderId]=create_node(_0x58f5e5,right_shoulder,null,null);break;case leftEyeId:this[_0x256be9(0x212)][leftEyeId]=create_node(_0x58f5e5,left_eye,rightEyeId,null);break;case rightEyeId:this[_0x256be9(0x212)][rightEyeId]=create_node(_0x58f5e5,right_eye,null,null);}}[a0_0x567640(0x318)](_0x45c24d){var _0xba727a=a0_0x567640;null!=_0x45c24d&&(this[_0xba727a(0x4b2)][_0xba727a(0x4b3)](modelViewMatrix),modelViewMatrix=mult(modelViewMatrix,this['model'][_0x45c24d][_0xba727a(0x39a)]),this['model'][_0x45c24d]['render'](),null!=this[_0xba727a(0x212)][_0x45c24d][_0xba727a(0x344)]&&this[_0xba727a(0x318)](this[_0xba727a(0x212)][_0x45c24d][_0xba727a(0x344)]),modelViewMatrix=this['modelViewStack']['pop'](),null!=this[_0xba727a(0x212)][_0x45c24d][_0xba727a(0x1f4)]&&this[_0xba727a(0x318)](this[_0xba727a(0x212)][_0x45c24d][_0xba727a(0x1f4)]));}[a0_0x567640(0x4d3)](){var _0x48177d=a0_0x567640;if(0x0==enemyArray['isEmpty']()){for(var _0x28d2d2=0x0;_0x28d2d2<enemyArray[_0x48177d(0x450)]();_0x28d2d2++)enemyArray[_0x48177d(0x448)](_0x28d2d2)[_0x48177d(0x41c)]();}}[a0_0x567640(0x27a)](){var _0x50d179=a0_0x567640;head2(),headVerts=vertices['length'],build_shoulder(),shoulderVerts=vertices[_0x50d179(0x240)]-headVerts,build_torso(),torsoVerts=vertices[_0x50d179(0x240)]-shoulderVerts-headVerts,build_leg(),legVerts=vertices[_0x50d179(0x240)]-torsoVerts-shoulderVerts-headVerts,build_eye(),eyeVerts=vertices[_0x50d179(0x240)]-legVerts-torsoVerts-shoulderVerts-headVerts,NM=vertices[_0x50d179(0x240)];}[a0_0x567640(0x1db)](){}[a0_0x567640(0x20d)](){var _0x438ddc=a0_0x567640;(this['legAngle']>0x23||this[_0x438ddc(0x38b)]<-0x23)&&(this[_0x438ddc(0x4ab)]=!this[_0x438ddc(0x4ab)]),this[_0x438ddc(0x216)](bodyId,this['posX'],this[_0x438ddc(0x433)],this[_0x438ddc(0x328)]),this['initialize_node'](leftLegId),this[_0x438ddc(0x216)](rightLegId),this[_0x438ddc(0x4ab)]?this[_0x438ddc(0x38b)]+=0x2:this[_0x438ddc(0x38b)]-=0x2;}['checkCollisions'](){var _0x5cf940=a0_0x567640;hitBox=blocks[i][_0x5cf940(0x246)]==Math[_0x5cf940(0x47a)](player[_0x5cf940(0x246)])+0x1&&blocks[i][_0x5cf940(0x433)]==Math[_0x5cf940(0x47a)](player[_0x5cf940(0x433)])||(blocks[i]['posX']==Math['floor'](player[_0x5cf940(0x246)])-0x1&&blocks[i][_0x5cf940(0x433)]==Math[_0x5cf940(0x47a)](player['posY'])||(blocks[i][_0x5cf940(0x246)]==Math[_0x5cf940(0x47a)](player[_0x5cf940(0x246)])&&blocks[i][_0x5cf940(0x433)]==Math[_0x5cf940(0x47a)](player[_0x5cf940(0x433)])+0x1||blocks[i][_0x5cf940(0x246)]==Math[_0x5cf940(0x47a)](player[_0x5cf940(0x246)])&&blocks[i]['posY']==Math['floor'](player[_0x5cf940(0x433)])-0x1));}[a0_0x567640(0x3ff)](){var _0x2769c0=a0_0x567640;this[_0x2769c0(0x33b)]>=this[_0x2769c0(0x351)]||(this['speed']+=0.01);}[a0_0x567640(0x2e8)](_0x4a3860,_0xb17ee8){var _0x5c742c=a0_0x567640,_0x16ea1f=!0x0,_0x2b4f1c=!0x0;if(this[_0x5c742c(0x3ff)](),!isColliding(this,player)){if(this['horizontalCooldown']>0x0)this[_0x5c742c(0x2f0)]--;else{if(!enemyArray[_0x5c742c(0x361)]()&&0x1!=enemyArray[_0x5c742c(0x450)]()){for(var _0x53e396=0x0;_0x53e396<enemyArray[_0x5c742c(0x450)]();_0x53e396++)if(!enemyArray[_0x5c742c(0x448)](_0x53e396)['isEqual'](this)){var _0x772395=colDirection(this,enemyArray['accessElement'](_0x53e396));0x1==_0x772395[LEFT]&&(_0x16ea1f=!0x1),0x1==_0x772395[RIGHT]&&(_0x2b4f1c=!0x1);}return _0x16ea1f&&_0x4a3860<0x0||_0x2b4f1c&&_0x4a3860>=0x0?(this[_0x5c742c(0x49c)]+=this[_0x5c742c(0x33b)]*(_0x4a3860/_0xb17ee8),!0x0):(this[_0x5c742c(0x2f0)]=this['cooldownMax'],!0x1);}this[_0x5c742c(0x49c)]+=this['speed']*(_0x4a3860/_0xb17ee8);}}}[a0_0x567640(0x40e)](_0x4a5368,_0x362152){var _0x4a1b2e=a0_0x567640,_0x32002a=!0x0,_0x93824=!0x0;if(this[_0x4a1b2e(0x3ff)](),!isColliding(this,player)){if(this[_0x4a1b2e(0x209)]>0x0)this[_0x4a1b2e(0x209)]--;else{if(!enemyArray[_0x4a1b2e(0x361)]()&&0x1!=enemyArray[_0x4a1b2e(0x450)]()){for(var _0x5c4683=0x0;_0x5c4683<enemyArray[_0x4a1b2e(0x450)]();_0x5c4683++)if(!enemyArray['accessElement'](_0x5c4683)['isEqual'](this)){var _0x4370b8=colDirection(this,enemyArray[_0x4a1b2e(0x448)](_0x5c4683));_0x4370b8[TOP]&&(_0x32002a=!0x1),_0x4370b8[BOTTOM]&&(_0x93824=!0x1);}return _0x93824&&_0x4a5368<0x0||_0x32002a&&_0x4a5368>=0x0?(this[_0x4a1b2e(0x26b)]+=this[_0x4a1b2e(0x33b)]*(_0x4a5368/_0x362152),!0x0):(this['verticleCooldown']=this[_0x4a1b2e(0x2c5)],!0x1);}this[_0x4a1b2e(0x26b)]+=this['speed']*(_0x4a5368/_0x362152);}}}['returnBounds'](){var _0x433bc4=a0_0x567640,_0x5e7bed=vec4(undeadHitboxBounds[0x0][0x0],undeadHitboxBounds[0x0][0x1],undeadHitboxBounds[0x0][0x2],0x1),_0x70746c=vec4(undeadHitboxBounds[0x1][0x0],undeadHitboxBounds[0x1][0x1],undeadHitboxBounds[0x1][0x2],0x1),_0xea24af=translate(this['posX'],this[_0x433bc4(0x433)],this[_0x433bc4(0x328)]);return _0x5e7bed=mult(_0xea24af,_0x5e7bed),_0x70746c=mult(_0xea24af,_0x70746c),[vec4(Math['min'](_0x5e7bed[0x0],_0x70746c[0x0]),Math[_0x433bc4(0x21e)](_0x5e7bed[0x1],_0x70746c[0x1]),Math[_0x433bc4(0x21e)](_0x5e7bed[0x2],_0x70746c[0x2]),0x1),vec4(Math['max'](_0x5e7bed[0x0],_0x70746c[0x0]),Math[_0x433bc4(0x21a)](_0x5e7bed[0x1],_0x70746c[0x1]),Math['max'](_0x5e7bed[0x2],_0x70746c[0x2]),0x1)];}[a0_0x567640(0x38c)](){var _0x286c9c=a0_0x567640;if(null!=player){var _0x18a6d0,_0x18d71e,_0x2d7ae6,_0x569b3b=player[_0x286c9c(0x246)],_0x4cc808=player[_0x286c9c(0x433)],_0x1097ff=_0x569b3b-this[_0x286c9c(0x246)],_0x62e188=_0x4cc808-this[_0x286c9c(0x433)],_0x4ff55c=Math['sqrt'](_0x1097ff*_0x1097ff+_0x62e188*_0x62e188);switch(_0x18a6d0=Math[_0x286c9c(0x267)](this[_0x286c9c(0x246)]),_0x18d71e=Math[_0x286c9c(0x267)](this['posY']),_0x2d7ae6=inDungeon?currentDungeon[_0x286c9c(0x447)](_0x18a6d0,_0x18d71e):world[_0x286c9c(0x447)](_0x18a6d0,_0x18d71e),Math['sign'](_0x1097ff)){case-0x1:var _0x51e6a8=!0x1;this[_0x286c9c(0x2f6)]=0x5a-0xb4*Math[_0x286c9c(0x4db)](_0x62e188/_0x1097ff)/Math['PI'];for(let _0x4f4338=0x0;_0x4f4338<_0x2d7ae6[_0x286c9c(0x240)];_0x4f4338++)isCollidingLeft(this,_0x2d7ae6[_0x4f4338])&&(_0x51e6a8=!0x0);_0x51e6a8||this[_0x286c9c(0x2e8)](_0x1097ff,_0x4ff55c);break;case 0x1:var _0x2ef004=!0x1;this['angleFacing']=0x10e-0xb4*Math[_0x286c9c(0x4db)](_0x62e188/_0x1097ff)/Math['PI'];for(let _0x4b4f35=0x0;_0x4b4f35<_0x2d7ae6[_0x286c9c(0x240)];_0x4b4f35++)isCollidingRight(this,_0x2d7ae6[_0x4b4f35])&&(_0x2ef004=!0x0);_0x2ef004||this[_0x286c9c(0x2e8)](_0x1097ff,_0x4ff55c);}switch(Math[_0x286c9c(0x346)](_0x62e188)){case-0x1:var _0x5f1fea=!0x1;for(let _0x1a285d=0x0;_0x1a285d<_0x2d7ae6[_0x286c9c(0x240)];_0x1a285d++)isCollidingDown(this,_0x2d7ae6[_0x1a285d])&&(_0x5f1fea=!0x0);_0x5f1fea||this['moveVertically'](_0x62e188,_0x4ff55c);break;case 0x1:var _0x5eec88=!0x1;for(let _0x307aef=0x0;_0x307aef<_0x2d7ae6['length'];_0x307aef++)isCollidingUp(this,_0x2d7ae6[_0x307aef])&&(_0x5eec88=!0x0);_0x5eec88||this['moveVertically'](_0x62e188,_0x4ff55c);}}}[a0_0x567640(0x29a)](){var _0x4d9469=a0_0x567640;this[_0x4d9469(0x20d)](),this[_0x4d9469(0x38c)]();}[a0_0x567640(0x2a4)](){var _0x53b2a7=a0_0x567640;this['posX']=this[_0x53b2a7(0x49c)],this[_0x53b2a7(0x433)]=this['posYNew'];}[a0_0x567640(0x41c)](){var _0x230fd2=a0_0x567640;this['setNewPosition'](),this[_0x230fd2(0x318)](bodyId),set_mv(translate(this[_0x230fd2(0x246)],this['posY'],this[_0x230fd2(0x328)])),hitBox&&gl[_0x230fd2(0x20f)](gl[_0x230fd2(0x1f3)],undeadHitboxStart,undeadHitboxSize);}}class Enemy{constructor(_0x37a4cb=null,_0x4b7ebd=null,_0xafb412=null){var _0x5558c6=a0_0x567640;this[_0x5558c6(0x246)]=_0x37a4cb,this['posY']=_0x4b7ebd,this['posZ']=_0xafb412,this[_0x5558c6(0x40d)]=translate(this[_0x5558c6(0x246)],this[_0x5558c6(0x433)],this[_0x5558c6(0x328)]),this[_0x5558c6(0x437)]=0xa,this[_0x5558c6(0x3fa)]=-0x1,this['ID']=universalEnemyId,universalEnemyId++,this[_0x5558c6(0x292)]=!0x1,this['lowerBound']=vec4(0x0,0x0,0x0,0x1),this[_0x5558c6(0x33e)]=vec4(0x1,0x1,0x1,0x1);}['isEqual'](_0x1b8b97){return this['ID']==_0x1b8b97['ID'];}[a0_0x567640(0x27a)](){}[a0_0x567640(0x49e)](){var _0x4a7e55=a0_0x567640;push_wireframe_indices(this['lowerBound'],this[_0x4a7e55(0x33e)]);}[a0_0x567640(0x243)](){}['returnBounds'](){var _0x429e40=a0_0x567640;return[mult(translate(this['posX'],this[_0x429e40(0x433)],this['posZ']),this['lowerBound']),mult(translate(this[_0x429e40(0x246)],this[_0x429e40(0x433)],this[_0x429e40(0x328)]),this[_0x429e40(0x33e)])];}[a0_0x567640(0x29a)](){var _0x4fb556=a0_0x567640;this[_0x4fb556(0x40d)]=translate(this[_0x4fb556(0x246)],this[_0x4fb556(0x433)],this[_0x4fb556(0x328)]);}[a0_0x567640(0x3b1)](_0x5b7cfb){var _0x24af5a=a0_0x567640;this[_0x24af5a(0x437)]-=_0x5b7cfb;}[a0_0x567640(0x273)](){this['health']<=0x0&&(this['deathMarker']=!0x0);}[a0_0x567640(0x2c4)](_0x412854){var _0x1ae572=a0_0x567640;this[_0x1ae572(0x273)]();}[a0_0x567640(0x41c)](){var _0xce1404=a0_0x567640;set_mv(this[_0xce1404(0x40d)]),gl[_0xce1404(0x20f)](gl[_0xce1404(0x2ef)],enemyVertices[this['verticesStart']][0x0],enemyVertices[this[_0xce1404(0x3fa)]][0x1]),hitBox&&(set_mv(translate(this[_0xce1404(0x246)],this[_0xce1404(0x433)],this['posZ'])),gl[_0xce1404(0x20f)](gl[_0xce1404(0x1f3)],enemyHitboxVertices[this[_0xce1404(0x3fa)]][0x0],enemyHitboxVertices[this['verticesStart']][0x1]));}}class Turret extends Enemy{constructor(_0x2382be=null,_0x2ca778=null,_0x2dd823=null){super(_0x2382be,_0x2ca778,_0x2dd823);}}class Finder extends Enemy{constructor(_0x2d5d7d=null,_0x56d41b=null,_0x46dc31=null){var _0x51b3aa=a0_0x567640;if(super(_0x2d5d7d,_0x56d41b,_0x46dc31),this[_0x51b3aa(0x3fa)]=0x1,this[_0x51b3aa(0x33b)]=0.02,null==_0x2d5d7d)return;let _0x13fd59=currentDungeon[_0x51b3aa(0x41e)](Math['round'](_0x2d5d7d),Math[_0x51b3aa(0x267)](_0x56d41b));this[_0x51b3aa(0x247)]=_0x13fd59[0x0],this[_0x51b3aa(0x343)]=_0x13fd59[0x1],this[_0x51b3aa(0x3f4)]=0x10,this[_0x51b3aa(0x43c)]=0xa,this[_0x51b3aa(0x47e)]=0x0,this['pathUpdateTimeMax']=0xa,this[_0x51b3aa(0x2e2)]=[];}[a0_0x567640(0x27a)](){build_block(0x1);}[a0_0x567640(0x208)](){var _0x45c3b7=a0_0x567640;let _0x31e946=currentDungeon[_0x45c3b7(0x349)](this['mapPosX'],this[_0x45c3b7(0x343)]);var _0xd95820=_0x31e946[0x0],_0x495058=_0x31e946[0x1],_0x27a9eb=_0xd95820-this[_0x45c3b7(0x246)],_0x32755d=_0x495058-this[_0x45c3b7(0x433)];if(0x0==_0x27a9eb&&0x0==_0x32755d)return!0x0;var _0x5eb103=Math[_0x45c3b7(0x45a)](_0x27a9eb*_0x27a9eb+_0x32755d*_0x32755d);switch(this[_0x45c3b7(0x246)]+=this[_0x45c3b7(0x33b)]*(_0x27a9eb/_0x5eb103),this[_0x45c3b7(0x433)]+=this[_0x45c3b7(0x33b)]*(_0x32755d/_0x5eb103),Math['sign'](_0x27a9eb)){case-0x1:this[_0x45c3b7(0x246)]<=_0xd95820&&(this['posX']=_0xd95820);break;case 0x1:this['posX']>=_0xd95820&&(this[_0x45c3b7(0x246)]=_0xd95820);}switch(Math['sign'](_0x32755d)){case-0x1:this[_0x45c3b7(0x433)]<=_0x495058&&(this[_0x45c3b7(0x433)]=_0x495058);break;case 0x1:this[_0x45c3b7(0x433)]>=_0x495058&&(this['posY']=_0x495058);}return this[_0x45c3b7(0x246)]==_0xd95820&&this[_0x45c3b7(0x433)]==_0x495058;}[a0_0x567640(0x29a)](){var _0x243188=a0_0x567640;if(this[_0x243188(0x47e)]<=0x0){var _0x20f17c=currentDungeon['getPathMap'](),_0x46ef90=currentDungeon['convertToRoomCoords'](player['posX']-0.5,player['posY']-0.5),_0x48e3e2=[Math[_0x243188(0x267)](_0x46ef90[0x0]),Math[_0x243188(0x267)](_0x46ef90[0x1])];this['path']=this[_0x243188(0x2df)](_0x48e3e2,_0x20f17c),0x0!=this[_0x243188(0x2e2)][_0x243188(0x240)]&&null!=this[_0x243188(0x2e2)]&&this['path'][_0x243188(0x34b)](),this[_0x243188(0x47e)]=this[_0x243188(0x3c2)];}else this['pathUpdateTime']--;if(this[_0x243188(0x208)]()){if(0x0==this[_0x243188(0x2e2)][_0x243188(0x240)])return;var _0x46cea8=this['path'][_0x243188(0x240)],_0x123d62=this[_0x243188(0x2e2)][_0x46cea8-0x1][0x0];this[_0x243188(0x247)]=_0x123d62[0x0],this[_0x243188(0x343)]=_0x123d62[0x1],this[_0x243188(0x2e2)][_0x243188(0x34b)]();}this[_0x243188(0x40d)]=translate(this[_0x243188(0x246)],this[_0x243188(0x433)],this[_0x243188(0x328)]);}['getCandidates'](_0x536690,_0x595b14){var _0x20e313=a0_0x567640;let _0x523cae=[];var _0x4e1f98=_0x536690[0x0],_0x7f20b0=_0x536690[0x1];return _0x4e1f98-0x1>=0x0&&(_0x595b14[_0x4e1f98-0x1][_0x7f20b0]||_0x523cae[_0x20e313(0x4b3)]([_0x4e1f98-0x1,_0x7f20b0])),_0x4e1f98+0x1<this[_0x20e313(0x3f4)]&&(_0x595b14[_0x4e1f98+0x1][_0x7f20b0]||_0x523cae[_0x20e313(0x4b3)]([_0x4e1f98+0x1,_0x7f20b0])),_0x7f20b0+0x1<this[_0x20e313(0x43c)]&&(_0x595b14[_0x4e1f98][_0x7f20b0+0x1]||_0x523cae[_0x20e313(0x4b3)]([_0x4e1f98,_0x7f20b0+0x1])),_0x7f20b0-0x1>=0x0&&(_0x595b14[_0x4e1f98][_0x7f20b0-0x1]||_0x523cae['push']([_0x4e1f98,_0x7f20b0-0x1])),_0x4e1f98-0x1>=0x0&&_0x7f20b0-0x1>=0x0&&(_0x595b14[_0x4e1f98-0x1][_0x7f20b0-0x1]||_0x595b14[_0x4e1f98-0x1][_0x7f20b0]||_0x595b14[_0x4e1f98][_0x7f20b0-0x1]||_0x523cae[_0x20e313(0x4b3)]([_0x4e1f98-0x1,_0x7f20b0-0x1])),_0x4e1f98+0x1<this['roomSizeX']&&_0x7f20b0-0x1>=0x0&&(_0x595b14[_0x4e1f98+0x1][_0x7f20b0-0x1]||_0x595b14[_0x4e1f98+0x1][_0x7f20b0]||_0x595b14[_0x4e1f98][_0x7f20b0-0x1]||_0x523cae[_0x20e313(0x4b3)]([_0x4e1f98+0x1,_0x7f20b0-0x1])),_0x4e1f98-0x1>=0x0&&_0x7f20b0+0x1<this['roomSizeY']&&(_0x595b14[_0x4e1f98-0x1][_0x7f20b0+0x1]||_0x595b14[_0x4e1f98][_0x7f20b0+0x1]||_0x595b14[_0x4e1f98-0x1][_0x7f20b0]||_0x523cae[_0x20e313(0x4b3)]([_0x4e1f98-0x1,_0x7f20b0+0x1])),_0x4e1f98+0x1<this['roomSizeX']&&_0x7f20b0+0x1<this['roomSizeY']&&(_0x595b14[_0x4e1f98+0x1][_0x7f20b0+0x1]||_0x595b14[_0x4e1f98+0x1][_0x7f20b0]||_0x595b14[_0x4e1f98][_0x7f20b0+0x1]||_0x523cae[_0x20e313(0x4b3)]([_0x4e1f98+0x1,_0x7f20b0+0x1])),_0x523cae;}[a0_0x567640(0x2df)](_0x160cb0,_0x264ada){var _0x1e168d=a0_0x567640,_0x5052d1=this[_0x1e168d(0x247)],_0x1e97de=this['mapPosY'];let _0x34c565=new PriorityQueue(),_0x3b20b0=[];for(let _0x2523f5=0x0;_0x2523f5<this[_0x1e168d(0x3f4)];_0x2523f5++){let _0x17fe5e=[];for(let _0x59ead5=0x0;_0x59ead5<this[_0x1e168d(0x43c)];_0x59ead5++)_0x17fe5e[_0x1e168d(0x4b3)](null);_0x3b20b0[_0x1e168d(0x4b3)](_0x17fe5e);}var _0x5279dd=this[_0x1e168d(0x257)]([_0x5052d1,_0x1e97de],_0x160cb0,_0x264ada),_0x1c0623=[[_0x5052d1,_0x1e97de],_0x5279dd,[],_0x5279dd];_0x34c565[_0x1e168d(0x354)](_0x1c0623);for(var _0x3049e9=_0x1c0623;!_0x34c565[_0x1e168d(0x361)]()&&null==_0x3b20b0[_0x160cb0[0x0]][_0x160cb0[0x1]];){let _0x4847b1=_0x34c565[_0x1e168d(0x2ca)]();var _0x31b878=_0x4847b1[0x0][0x0],_0x2b9a89=_0x4847b1[0x0][0x1];_0x3b20b0[_0x31b878][_0x2b9a89]=_0x4847b1,_0x4847b1[0x3]<_0x3049e9[0x3]&&(_0x3049e9=_0x4847b1);var _0x47119e=_0x4847b1[0x2],_0x4566e8=[];_0x47119e[_0x1e168d(0x240)]>0x0&&(_0x4566e8=_0x47119e[_0x1e168d(0x27f)]()),_0x4566e8[_0x1e168d(0x4b3)](_0x4847b1);var _0x4171cf=this[_0x1e168d(0x2ad)]([_0x31b878,_0x2b9a89],_0x264ada);for(let _0x310749=0x0;_0x310749<_0x4171cf[_0x1e168d(0x240)];_0x310749++){var _0x4b616b=_0x4171cf[_0x310749][0x0],_0x3d4f50=_0x4171cf[_0x310749][0x1],_0x7173f2=this[_0x1e168d(0x257)](_0x4171cf[_0x310749],_0x160cb0,_0x264ada),_0x2b89f5=_0x4566e8['length']+_0x7173f2;null!=_0x3b20b0[_0x4b616b][_0x3d4f50]&&_0x2b89f5<_0x3b20b0[_0x4b616b][_0x3d4f50][0x1]&&(_0x3b20b0[_0x4b616b][_0x3d4f50]=null),null==_0x3b20b0[_0x4b616b][_0x3d4f50]&&_0x34c565[_0x1e168d(0x354)]([[_0x4b616b,_0x3d4f50],_0x2b89f5,_0x4566e8,_0x7173f2]);}}var _0x1d1ce2=null;return null==_0x3b20b0[_0x160cb0[0x0]][_0x160cb0[0x1]]?((_0x1d1ce2=_0x3049e9[0x2])['push'](_0x3049e9),_0x1d1ce2[_0x1e168d(0x4bf)]()):((_0x1d1ce2=_0x3b20b0[_0x160cb0[0x0]][_0x160cb0[0x1]][0x2])[_0x1e168d(0x4b3)]([_0x160cb0]),_0x1d1ce2['reverse']());}[a0_0x567640(0x257)](_0x2f286f,_0x2dfb83,_0x390375){var _0x1b5cd1=a0_0x567640,_0x4c0f6b=Math[_0x1b5cd1(0x250)](_0x2f286f[0x0]-_0x2dfb83[0x0]),_0x1afe7c=Math[_0x1b5cd1(0x250)](_0x2f286f[0x1]-_0x2dfb83[0x1]);return _0x2f286f[0x0]<0x0||_0x2f286f[0x0]>this['roomSizeX']||_0x2f286f[0x1]<0x0||_0x2f286f[0x1]>this[_0x1b5cd1(0x43c)]||_0x390375[_0x2f286f[0x0]][_0x2f286f[0x1]]?0x3e8:_0x4c0f6b+_0x1afe7c;}[a0_0x567640(0x41c)](){var _0x58b285=a0_0x567640;set_mv(this[_0x58b285(0x40d)]),gl[_0x58b285(0x20f)](gl[_0x58b285(0x2ef)],enemyVertices[this[_0x58b285(0x3fa)]][0x0],enemyVertices[this[_0x58b285(0x3fa)]][0x1]);let _0x118c39=currentDungeon['convertToDungeonCoords'](this[_0x58b285(0x247)],this['mapPosY']);set_mv(translate(_0x118c39[0x0],_0x118c39[0x1],this[_0x58b285(0x328)])),gl[_0x58b285(0x20f)](gl[_0x58b285(0x1f3)],enemyHitboxVertices[this[_0x58b285(0x3fa)]][0x0],enemyHitboxVertices[this['verticesStart']][0x1]),hitBox&&(set_mv(translate(this[_0x58b285(0x246)],this['posY'],this['posZ'])),gl[_0x58b285(0x20f)](gl[_0x58b285(0x1f3)],enemyHitboxVertices[this[_0x58b285(0x3fa)]][0x0],enemyHitboxVertices[this['verticesStart']][0x1]));}}class Roller extends Enemy{constructor(_0x473bc6=null,_0x5af2bc=null,_0x5e32b8=null){var _0x5f5b24=a0_0x567640;super(_0x473bc6,_0x5af2bc,_0x5e32b8),this[_0x5f5b24(0x3fa)]=0x0,this['posZ']=-0x3,this['rollX']=0x0,this[_0x5f5b24(0x2dc)]=0x0,this[_0x5f5b24(0x33b)]=0.025,this[_0x5f5b24(0x1f7)]=2.5,this[_0x5f5b24(0x4c8)]=RIGHT;}[a0_0x567640(0x27a)](){build_block(0x0);}[a0_0x567640(0x285)](){var _0xcc86ba=a0_0x567640;return mult(translate(0.5,0.5,0.5),mult(rotateY(this[_0xcc86ba(0x2dc)]),translate(-0.5,-0.5,-0.5)));}['rollVertical'](){var _0x4d599f=a0_0x567640;return mult(translate(0.5,0.5,0.5),mult(rotateX(this[_0x4d599f(0x387)]),translate(-0.5,-0.5,-0.5)));}[a0_0x567640(0x29a)](){var _0x14f704=a0_0x567640,_0x37e399=Math['round'](this[_0x14f704(0x246)]),_0x156e5f=Math[_0x14f704(0x267)](this[_0x14f704(0x433)]),_0x175d3c=this[_0x14f704(0x328)],_0x379b6c=currentDungeon[_0x14f704(0x2cd)](_0x37e399,_0x156e5f,_0x175d3c);switch(this[_0x14f704(0x4c8)]){case RIGHT:var _0x4d2287=currentDungeon[_0x14f704(0x2cd)](_0x37e399+0x1,_0x156e5f,_0x175d3c);(_0x379b6c||_0x4d2287)&&(isColliding(this,currentDungeon['getBlockAt'](_0x37e399,_0x156e5f,_0x175d3c))||isColliding(this,currentDungeon[_0x14f704(0x39c)](_0x37e399+0x1,_0x156e5f,_0x175d3c)))&&(this[_0x14f704(0x4c8)]=TOP);break;case LEFT:var _0x520ab1=currentDungeon['getIsOccupied'](_0x37e399-0x1,_0x156e5f,_0x175d3c);(_0x379b6c||_0x520ab1)&&(isColliding(this,currentDungeon[_0x14f704(0x39c)](_0x37e399,_0x156e5f,_0x175d3c))||isColliding(this,currentDungeon[_0x14f704(0x39c)](_0x37e399-0x1,_0x156e5f,_0x175d3c)))&&(this[_0x14f704(0x4c8)]=BOTTOM);break;case TOP:var _0x264c84=currentDungeon[_0x14f704(0x2cd)](_0x37e399,_0x156e5f+0x1,_0x175d3c);(_0x379b6c||_0x264c84)&&(isColliding(this,currentDungeon['getBlockAt'](_0x37e399,_0x156e5f,_0x175d3c))||isColliding(this,currentDungeon['getBlockAt'](_0x37e399,_0x156e5f+0x1,_0x175d3c)))&&(this[_0x14f704(0x4c8)]=LEFT);break;case BOTTOM:var _0x3ee08d=currentDungeon[_0x14f704(0x2cd)](_0x37e399,_0x156e5f-0x1,_0x175d3c);(_0x379b6c||_0x3ee08d)&&(isColliding(this,currentDungeon['getBlockAt'](_0x37e399,_0x156e5f,_0x175d3c))||isColliding(this,currentDungeon[_0x14f704(0x39c)](_0x37e399,_0x156e5f-0x1,_0x175d3c)))&&(this[_0x14f704(0x4c8)]=RIGHT);}switch(this[_0x14f704(0x4c8)]){case RIGHT:this[_0x14f704(0x246)]+=this['speed'],this[_0x14f704(0x2dc)]-=this['rotSpeed'],this[_0x14f704(0x40d)]=mult(translate(this[_0x14f704(0x246)],this[_0x14f704(0x433)],this['posZ']),this['rollHorizontal']());break;case LEFT:this[_0x14f704(0x246)]-=this[_0x14f704(0x33b)],this[_0x14f704(0x2dc)]+=this[_0x14f704(0x1f7)],this['instanceMat']=mult(translate(this['posX'],this[_0x14f704(0x433)],this['posZ']),this[_0x14f704(0x285)]());break;case TOP:this['posY']+=this[_0x14f704(0x33b)],this[_0x14f704(0x387)]+=this[_0x14f704(0x1f7)],this['instanceMat']=mult(translate(this[_0x14f704(0x246)],this[_0x14f704(0x433)],this[_0x14f704(0x328)]),this['rollVertical']());break;case BOTTOM:this['posY']-=this['speed'],this['rollX']-=this[_0x14f704(0x1f7)],this[_0x14f704(0x40d)]=mult(translate(this['posX'],this[_0x14f704(0x433)],this['posZ']),this[_0x14f704(0x271)]());}}}function draw_notification_box(_0x1fc704,_0x1333c8,_0x1e3bcc,_0x6fd0c7,_0x5c7b61=0x1,_0x23f167=a0_0x567640(0x296),_0x151efc=0x1){var _0x2134b2=a0_0x567640,_0xdf444b=_0x1fc704*(canvas[_0x2134b2(0x34e)]/0x10),_0x1efe57=canvas['height']-_0x1333c8*(canvas[_0x2134b2(0x217)]/0x9),_0x224fe8=_0x1e3bcc*(canvas[_0x2134b2(0x34e)]/0x10),_0x194160=canvas['height']-_0x6fd0c7*(canvas[_0x2134b2(0x217)]/0x9);context['globalAlpha']=_0x5c7b61,context[_0x2134b2(0x3b7)]='#111111',context['fillRect'](_0xdf444b,_0x1efe57,_0x224fe8-_0xdf444b,_0x194160-_0x1efe57),context['fillStyle']=_0x2134b2(0x2fd),context[_0x2134b2(0x248)]='#FFFFFF',context[_0x2134b2(0x3e2)](),context[_0x2134b2(0x329)](_0xdf444b,_0x1efe57,_0x224fe8-_0xdf444b,_0x194160-_0x1efe57),context[_0x2134b2(0x1e6)](),draw_c_text_small(_0x1fc704+0.05,_0x1333c8-0.25,_0x23f167),draw_c_text_small(_0x1fc704+0.05,_0x1333c8-0.37,_0x151efc),context[_0x2134b2(0x1e2)]=0x1;}class NotificationQueue{constructor(){var _0x1b32d3=a0_0x567640;this[_0x1b32d3(0x3df)]=new Queue();}['addNotification'](_0x5dd7fd){var _0x4e8752=a0_0x567640;0x0==this[_0x4e8752(0x361)]()&&this[_0x4e8752(0x3df)]['cheekyPeek']()['name']==_0x5dd7fd['name']?this[_0x4e8752(0x3df)][_0x4e8752(0x40c)]()[_0x4e8752(0x24b)]():this[_0x4e8752(0x3df)][_0x4e8752(0x392)](_0x5dd7fd);}[a0_0x567640(0x281)](){var _0x1e297c=a0_0x567640;if(!this[_0x1e297c(0x361)]()&&(this[_0x1e297c(0x3df)][_0x1e297c(0x4bb)]()[_0x1e297c(0x30d)]()&&this[_0x1e297c(0x3df)][_0x1e297c(0x225)](),!this[_0x1e297c(0x361)]())){this['notificationQueue'][_0x1e297c(0x4bb)]()[_0x1e297c(0x1e8)]();for(var _0x254b6a=this['notificationQueue'][_0x1e297c(0x345)](),_0x438865=0x0;_0x438865<_0x254b6a[_0x1e297c(0x240)];_0x438865++)this[_0x1e297c(0x3df)][_0x1e297c(0x345)]()[_0x438865][_0x1e297c(0x41c)](0.7*-_0x438865);}}[a0_0x567640(0x361)](){return!!this['notificationQueue']['isEmpty']();}}class Notification{constructor(_0x265c40,_0x25b074){var _0x564e64=a0_0x567640;this[_0x564e64(0x472)]=_0x265c40[_0x564e64(0x472)],this[_0x564e64(0x295)]=_0x25b074,this[_0x564e64(0x2ba)]=0x1,this[_0x564e64(0x24a)]=!0x0;}[a0_0x567640(0x1e8)](){var _0x5bd11f=a0_0x567640;this[_0x5bd11f(0x2ba)]-=0.01,this['alpha']<=0x0&&(this['alpha']=0x0,this[_0x5bd11f(0x24a)]=!0x1);}['addQuantity'](){var _0x477c77=a0_0x567640;this[_0x477c77(0x2ba)]=0x1,this['quantity']++;}[a0_0x567640(0x41c)](_0x1b6263=0x0){var _0x3790b7=a0_0x567640;draw_notification_box(14.25,8.6+_0x1b6263,15.75,8.1+_0x1b6263,this[_0x3790b7(0x2ba)],this[_0x3790b7(0x472)],this['quantity']);}['isDestroyed'](){var _0x2be728=a0_0x567640;return!this[_0x2be728(0x24a)];}}class Popup{constructor(_0x20014f,_0x2e8382){var _0x3c9bc9=a0_0x567640;this[_0x3c9bc9(0x34e)]=_0x20014f,this[_0x3c9bc9(0x217)]=_0x2e8382,this[_0x3c9bc9(0x424)]=!0x1,this[_0x3c9bc9(0x400)]=get_draw_center(),this['x1']=this[_0x3c9bc9(0x400)][0x0]-_0x20014f/0x2,this['x2']=this[_0x3c9bc9(0x400)][0x0]+_0x20014f/0x2,this['y1']=this['center'][0x1]-_0x2e8382/0x2,this['y2']=this[_0x3c9bc9(0x400)][0x1]+_0x2e8382/0x2,this['animationTimer']=0x8,this[_0x3c9bc9(0x4a2)]=0x7,this[_0x3c9bc9(0x2ed)]=[],keyboardDisabled=!0x0;}['kill'](){var _0x2abd43=a0_0x567640;keyboardDisabled=!0x1,this[_0x2abd43(0x424)]=!0x0,disableInventoryCursor=!0x1;}['addElement'](_0x58e704){var _0x524f9f=a0_0x567640;this[_0x524f9f(0x2ed)][_0x524f9f(0x4b3)](_0x58e704);}[a0_0x567640(0x1e8)](){var _0x50a0d5=a0_0x567640;this[_0x50a0d5(0x20e)]>0x0&&this[_0x50a0d5(0x20e)]<=this['popBackTime']?(this['x1']=this[_0x50a0d5(0x400)][0x0]-this[_0x50a0d5(0x34e)]/0x2+0.01*this['animationTimer'],this['x2']=this['center'][0x0]+this[_0x50a0d5(0x34e)]/0x2-0.01*this['animationTimer'],this['y1']=this['center'][0x1]-this['height']/0x2+0.01*this[_0x50a0d5(0x20e)],this['y2']=this[_0x50a0d5(0x400)][0x1]+this[_0x50a0d5(0x217)]/0x2-0.01*this['animationTimer'],this['animationTimer']--):this[_0x50a0d5(0x20e)]>0x0&&(this['x1']=this['center'][0x0]-this[_0x50a0d5(0x34e)]/0x2-0.0005*this[_0x50a0d5(0x20e)],this['x2']=this['center'][0x0]+this['width']/0x2+0.0005*this[_0x50a0d5(0x20e)],this['y1']=this[_0x50a0d5(0x400)][0x1]-this[_0x50a0d5(0x217)]/0x2-0.0005*this[_0x50a0d5(0x20e)],this['y2']=this['center'][0x1]+this['height']/0x2+0.0005*this[_0x50a0d5(0x20e)],this[_0x50a0d5(0x20e)]--);}[a0_0x567640(0x41c)](){var _0x2fc664=a0_0x567640;this[_0x2fc664(0x1e8)](),disableInventoryCursor=!0x1,draw_filled_box(0x0,0x0,0x10,0x9,_0x2fc664(0x242),'rgba(0,0,0,0.4)'),draw_filled_box(this['x1'],this['y1'],this['x2'],this['y2'],_0x2fc664(0x446),_0x2fc664(0x41b));for(let _0x4f2584=0x0;_0x4f2584<this[_0x2fc664(0x2ed)][_0x2fc664(0x240)];_0x4f2584++)this['elements'][_0x4f2584][_0x2fc664(0x41c)]();this[_0x2fc664(0x424)]||(disableInventoryCursor=!0x0);}}var zLay=-0xc8,TAB_WIDTH=1.5,inventorySlots=[],disableInventoryCursor=!0x1;function click_in_bounds(_0x13b6cc,_0x4fbeea,_0x47d046,_0x14254f,_0x13847c,_0x58f465=function(){}){disableInventoryCursor||(cursorCoor[0x0]<=_0x13b6cc&&cursorCoor[0x0]>=_0x47d046||cursorCoor[0x0]>=_0x13b6cc&&cursorCoor[0x0]<=_0x47d046)&&(cursorCoor[0x1]<=_0x4fbeea&&cursorCoor[0x1]>=_0x14254f||cursorCoor[0x1]>=_0x4fbeea&&cursorCoor[0x1]<=_0x14254f)&&(0x1==click&&_0x13847c(),_0x58f465());}function ui_push(_0x5a3a8a,_0xbfaf6,_0x51951e,_0x24c691=vec4(0x1,0x0,0x0,0x1),_0xab8af1=_0x24c691,_0x1d4eca=_0x24c691){var _0x3d0441=a0_0x567640;vertices['push'](_0x5a3a8a),vertices[_0x3d0441(0x4b3)](_0xbfaf6),vertices['push'](_0x51951e),colours[_0x3d0441(0x4b3)](_0x24c691),colours[_0x3d0441(0x4b3)](_0xab8af1),colours[_0x3d0441(0x4b3)](_0x1d4eca);for(var _0x3716f1=0x0;_0x3716f1<0x3;_0x3716f1++)texCoords[_0x3d0441(0x4b3)](vec2(0x2,0x2)),normals[_0x3d0441(0x4b3)](vec3(0x0,0x0,0x0));return 0x3;}function draw_tab(){var _0x198cb6,_0x9e6d44,_0x3a86d5;_0x198cb6=vec3(0x0,0x0,zLay-=0.01),_0x9e6d44=vec3(0.2,TAB_WIDTH,zLay),_0x3a86d5=vec3(TAB_WIDTH-0.2,TAB_WIDTH,zLay),ui_push(_0x198cb6,vec3(TAB_WIDTH,0x0,zLay),_0x3a86d5,UI_COLOURS[DARK_GREY]),ui_push(_0x3a86d5,_0x9e6d44,_0x198cb6,UI_COLOURS[DARK_GREY]);}function draw_dark_tab(){var _0x6243f0,_0x23b80e,_0x5c0a47;_0x6243f0=vec3(0x0,0x0,zLay-=0.01),_0x23b80e=vec3(0.2,TAB_WIDTH,zLay),_0x5c0a47=vec3(TAB_WIDTH-0.2,TAB_WIDTH,zLay),ui_push(_0x6243f0,vec3(TAB_WIDTH,0x0,zLay),_0x5c0a47,UI_COLOURS[DARKER_GREY]),ui_push(_0x5c0a47,_0x23b80e,_0x6243f0,UI_COLOURS[DARKER_GREY]);}function draw_rectangle(_0x4e8507,_0x16c6b3,_0x54a85a){var _0x339232,_0x4d34ec,_0x226d33,_0x5715da;_0x339232=vec3(_0x4e8507[0x0],_0x4e8507[0x1],zLay),_0x4d34ec=vec3(_0x16c6b3[0x0],_0x4e8507[0x1],zLay),_0x226d33=vec3(_0x16c6b3[0x0],_0x16c6b3[0x1],zLay),_0x5715da=vec3(_0x4e8507[0x0],_0x16c6b3[0x1],zLay),ui_push(_0x339232,_0x4d34ec,_0x226d33,_0x54a85a),ui_push(_0x226d33,_0x5715da,_0x339232,_0x54a85a),zLay-=0.01;}function draw_rectangle_rounded(_0x5d7aae,_0x191090,_0x110330){build_rounded_rectangle(vec3(_0x5d7aae[0x0],_0x5d7aae[0x1],zLay),vec3(_0x191090[0x0],_0x5d7aae[0x1],zLay),vec3(_0x191090[0x0],_0x191090[0x1],zLay),vec3(_0x5d7aae[0x0],_0x191090[0x1],zLay),0.15);const _0x3dc43d=0.0005;build_rounded_rectangle_stroke(vec3(_0x5d7aae[0x0]-_0x3dc43d,_0x5d7aae[0x1]-_0x3dc43d,zLay),vec3(_0x191090[0x0]+_0x3dc43d,_0x5d7aae[0x1]-_0x3dc43d,zLay),vec3(_0x191090[0x0]+_0x3dc43d,_0x191090[0x1]+_0x3dc43d,zLay),vec3(_0x5d7aae[0x0]-_0x3dc43d,_0x191090[0x1]+_0x3dc43d,zLay),0.15,borderColorOuter,0.01),zLay-=0.01;}function draw_rectangle_rounded_selected(_0x3ad648,_0x3fe1f4,_0xe094b6){const _0x3eb548=0.008;build_rounded_rectangle_selected(vec3(_0x3ad648[0x0]-_0x3eb548,_0x3ad648[0x1]-_0x3eb548,zLay),vec3(_0x3fe1f4[0x0]+_0x3eb548,_0x3ad648[0x1]-_0x3eb548,zLay),vec3(_0x3fe1f4[0x0]+_0x3eb548,_0x3fe1f4[0x1]+_0x3eb548,zLay),vec3(_0x3ad648[0x0]-_0x3eb548,_0x3fe1f4[0x1]+_0x3eb548,zLay),0.15),zLay-=0.01;}function draw_triangle(_0x413b08,_0x36f16d,_0x52c688,_0x174ebd=UI_COLOURS[WHITE]){var _0x969796,_0x399adb,_0x2d997a;0x0==_0x52c688?(_0x969796=vec3(_0x413b08,_0x36f16d,zLay),_0x399adb=vec3(_0x413b08+0.1,_0x36f16d+0.1,zLay),_0x2d997a=vec3(_0x413b08+0.2,_0x36f16d,zLay)):(_0x969796=vec3(_0x413b08,_0x36f16d,zLay),_0x399adb=vec3(_0x413b08+0.1,_0x36f16d-0.1,zLay),_0x2d997a=vec3(_0x413b08+0.2,_0x36f16d,zLay)),ui_push(_0x969796,_0x399adb,_0x2d997a,_0x174ebd);}var startDraw=[],endDraw=[],scrollBarVertices=[0x0,0x0],hoverEntryVertices=[0x0,0x0];function build_inventory(){var _0x59016d=a0_0x567640;startDraw=[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],endDraw=[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],tab_lists(),build_craft_list(),zLay=-0x9,startDraw[0x0]=vertices[_0x59016d(0x240)],draw_rectangle(vec2(0x2,0x1),vec2(0xe,0x8),UI_COLOURS[BLACK]),draw_rectangle(vec2(0x2,0x2),vec2(0xe,0x7),UI_COLOURS[DARK_GREY]),draw_rectangle(vec2(0xa,2.5),vec2(13.5,6.5),UI_COLOURS[BLACK]),zLay=-9.49,draw_rectangle(vec2(9.5,0x2),vec2(0xa,0x7),UI_COLOURS[DARKEST_GREY]),draw_rectangle(vec2(13.5,0x2),vec2(0xe,0x7),UI_COLOURS[DARKEST_GREY]),draw_rectangle(vec2(0xa,0x2),vec2(13.5,2.5),UI_COLOURS[DARKEST_GREY]),draw_rectangle(vec2(0xa,0x7),vec2(13.5,6.5),UI_COLOURS[DARKEST_GREY]),zLay=-0x9,endDraw[0x0]=vertices[_0x59016d(0x240)]-startDraw[0x0],startDraw[0x1]=vertices[_0x59016d(0x240)],zLay-=0.6,build_cursor(),zLay+=0.6,endDraw[0x1]=vertices[_0x59016d(0x240)]-startDraw[0x1],startDraw[0x2]=vertices[_0x59016d(0x240)],draw_tab(),endDraw[0x2]=vertices[_0x59016d(0x240)]-startDraw[0x2],startDraw[0x7]=vertices['length'],draw_dark_tab(),endDraw[0x7]=vertices['length']-startDraw[0x7],startDraw[0x3]=vertices[_0x59016d(0x240)],zLay-=0.1,scroll_entry_idle(),endDraw[0x3]=vertices[_0x59016d(0x240)]-startDraw[0x3],startDraw[0x4]=vertices['length'],scroll_entry_active(),endDraw[0x4]=vertices[_0x59016d(0x240)]-startDraw[0x4],hoverEntryVertices[0x0]=vertices[_0x59016d(0x240)],scroll_entry_hover(),hoverEntryVertices[0x1]=vertices[_0x59016d(0x240)]-hoverEntryVertices[0x0],startDraw[0x5]=vertices[_0x59016d(0x240)],scroll_arrows(),endDraw[0x5]=vertices[_0x59016d(0x240)]-startDraw[0x5],scrollBarVertices[0x0]=vertices['length'],build_scroll_bar(),scrollBarVertices[0x1]=vertices[_0x59016d(0x240)]-scrollBarVertices[0x0],tool_bar_box(),build_map_squares();}function scroll_entry_idle(){draw_rectangle(vec2(2.1,0x0),vec2(9.15,0x1),UI_COLOURS[ACTIVE_BORDER_COLOR]),draw_rectangle(vec2(3.2,0.05),vec2(9.1,0.95),UI_COLOURS[BLACK]),draw_rectangle(vec2(2.15,0.05),vec2(3.15,0.95),UI_COLOURS[BLACK]);}function scroll_entry_active(){draw_rectangle(vec2(2.1,0x0),vec2(9.15,0x1),UI_COLOURS[BLACK]),draw_rectangle(vec2(3.2,0.05),vec2(9.1,0.95),UI_COLOURS[DARKEST_GREY]),draw_rectangle(vec2(2.15,0.05),vec2(3.15,0.95),UI_COLOURS[DARKEST_GREY]);}function scroll_entry_hover(){draw_rectangle(vec2(2.1,0x0),vec2(9.15,0x1),UI_COLOURS[DARKER_GREY]),draw_rectangle(vec2(3.2,0.05),vec2(9.1,0.95),UI_COLOURS[BLACK]),draw_rectangle(vec2(2.15,0.05),vec2(3.15,0.95),UI_COLOURS[BLACK]);}function tab_lists(){var _0x3bb500=a0_0x567640;fastMode?(blockTabList=[new Door(),new TestBlock(),new WorkBench(),new WoodBlock(),new WeirdBlock(),new GrassBlock(),new WoodBranch(),new WoodLog(),new StoneBlock()],toolTabList=[new WoodAxe(),new StonePickaxe(),new WoodenBow()]):(blockTabList=player[_0x3bb500(0x3bb)](),toolTabList=player['getItemList']()),itemTabList=player['getNonToolList'](),recipeTabList=player['getRecipeList']();}var tabListLength,active=-0x1,hoveredEntry=-0x1,start=2.45,difference=1.05,textX=3.3,scrollOffset=0x0,selectedTab=a0_0x567640(0x231),blockTabList=[],toolTabList=[],itemTabList=[],recipeTabList=[],tabList=[];function get_max_scroll_length(){var _0x3b053d=a0_0x567640;return Math[_0x3b053d(0x21a)](tabListLength-0x4,0x0);}function get_scroll_bar_length(){var _0x4d01f2=get_max_scroll_length();return 0x0==_0x4d01f2?0x1:0.9**_0x4d01f2;}function scroll_list_down(){scrollOffset<get_max_scroll_length()&&(scrollOffset++,active--);}function scroll_list_up(){scrollOffset>0x0&&(scrollOffset--,active++);}function draw_hold_condition(){return active+scrollOffset>=0x0&&null!=tabList[active+scrollOffset]&&activeTab<0x2;}function draw_drop_condition(){return active+scrollOffset>=0x0&&null!=tabList[active+scrollOffset]&&activeTab<0x1;}function on_click_hold(){var _0x17b9ba=a0_0x567640;null!=tabList[selectedItemIndex]&&player[_0x17b9ba(0x1f6)](tabList[selectedItemIndex]),add_to_toolbar(tabList[selectedItemIndex]);}function on_click_drop(){let _0x38bf9e;_0x38bf9e=inDungeon?currentDungeon:world,get_where_to_drop(_0x38bf9e);}function get_where_to_drop(_0x113419){var _0x30b27d=a0_0x567640,_0x2c001f=_0x113419[_0x30b27d(0x278)](Math[_0x30b27d(0x267)](player[_0x30b27d(0x246)]),Math['round'](player[_0x30b27d(0x433)]));if(null!=_0x2c001f){var _0x1db691=_0x2c001f[0x1][0x0],_0x774262=_0x2c001f[0x1][0x1],_0x24fd21=_0x2c001f[0x1][0x2];_0x2c001f[0x0]?(player[_0x30b27d(0x270)](tabList[selectedItemIndex]),dB=_0x2c001f[0x1],dB['addTo'](tabList[selectedItemIndex])):(player[_0x30b27d(0x270)](tabList[selectedItemIndex]),_0x113419[_0x30b27d(0x3c7)](new DropBox(_0x1db691,_0x774262,_0x24fd21,[tabList[selectedItemIndex]])));}}var selectedItemIndex=-0x1;function draw_scroll_list(){var _0x2eed57=a0_0x567640;switch(click_in_bounds(2.1,7.375,3.425,0x7,function(){var _0x409df1=a0_0x21e0;selectedTab=_0x409df1(0x231),active=-0x1,scrollOffset=0x0,activeTab=0x0;}),click_in_bounds(3.6,7.375,4.9,0x7,function(){var _0x211056=a0_0x21e0;selectedTab=_0x211056(0x3e8),active=-0x1,scrollOffset=0x0,activeTab=0x1;}),click_in_bounds(5.075,7.375,6.375,0x7,function(){var _0x26a93a=a0_0x21e0;selectedTab=_0x26a93a(0x2e6),active=-0x1,scrollOffset=0x0,activeTab=0x2;}),click_in_bounds(6.55,7.375,7.85,0x7,function(){var _0x20ae96=a0_0x21e0;selectedTab=_0x20ae96(0x268),active=-0x1,scrollOffset=0x0,activeTab=0x3;}),click_in_bounds(9.2125,6.675,9.485,6.9875,scroll_list_up),click_in_bounds(9.2125,2.25,9.485,2.01,scroll_list_down),hoveredEntry=-0x1,click_in_bounds(2.1125,6.5875,9.2,5.6,function(){null!=tabList[0x0+scrollOffset]&&(active=0x0);},function(){hoveredEntry=0x0;}),click_in_bounds(2.1125,6.5875-difference,9.2,5.6-difference,function(){null!=tabList[0x1+scrollOffset]&&(active=0x1);},function(){hoveredEntry=0x1;}),click_in_bounds(2.1125,6.5875-0x2*difference,9.2,5.6-0x2*difference,function(){null!=tabList[0x2+scrollOffset]&&(active=0x2);},function(){hoveredEntry=0x2;}),click_in_bounds(2.1125,6.5875-0x3*difference,9.2,5.6-0x3*difference,function(){null!=tabList[0x3+scrollOffset]&&(active=0x3);},function(){hoveredEntry=0x3;}),selectedTab){case _0x2eed57(0x231):tabList=blockTabList;break;case _0x2eed57(0x3e8):tabList=toolTabList;break;case _0x2eed57(0x2e6):tabList=itemTabList;break;case _0x2eed57(0x268):tabList=recipeTabList;}tabListLength=tabList['length'];for(var _0x50770c=0x0;_0x50770c<Math['min'](tabListLength-scrollOffset,0x4);_0x50770c++){var _0x5352ae=translate(0x0,start+difference*(0x3-_0x50770c),0x0);set_mv_ui(_0x5352ae),draw_c_text(textX,start+difference*(0x3-_0x50770c)+0.65,tabList[_0x50770c+scrollOffset]['name']),draw_c_text_small(textX+0.05,start+difference*(0x3-_0x50770c)+0.45,tabList[_0x50770c+scrollOffset]['desc']),draw_c_text_med(textX+4.65,start+0.12+difference*(0x3-_0x50770c),_0x2eed57(0x291)),draw_c_text_med(textX+5.56,start+0.12+difference*(0x3-_0x50770c),player[_0x2eed57(0x276)][_0x2eed57(0x3a3)](tabList[_0x50770c+scrollOffset])),active==_0x50770c?gl[_0x2eed57(0x20f)](gl[_0x2eed57(0x2ef)],startDraw[0x3],endDraw[0x3]):hoveredEntry==_0x50770c?gl[_0x2eed57(0x20f)](gl[_0x2eed57(0x2ef)],hoverEntryVertices[0x0],hoverEntryVertices[0x1]):gl[_0x2eed57(0x20f)](gl['TRIANGLES'],startDraw[0x4],endDraw[0x4]),draw_inventory_item(tabList[_0x50770c+scrollOffset],_0x5352ae);}active+scrollOffset>=0x0&&null!=tabList[active+scrollOffset]&&(draw_display_item(tabList[active+scrollOffset]),selectedItemIndex=active+scrollOffset),reset_mv();}function draw_inventory_item(_0x12f0cf,_0x58b511){var _0x29fecf=a0_0x567640;_0x29fecf(0x3e8)==selectedTab?(_0x58b511=mult(_0x58b511,translate(2.25,0.15,zLay-0.3)),_0x58b511=mult(_0x58b511,scale4(0.35,0.35,0.001)),_0x58b511=mult(_0x58b511,rotateZ(-0x23))):(_0x58b511=mult(_0x58b511,translate(2.5,0.15,zLay-0.3)),_0x58b511=mult(_0x58b511,scale4(0.5,0.45,0.001)),_0x58b511=mult(_0x58b511,rotateZ(0x2d)),_0x58b511=mult(_0x58b511,rotateX(0x2d)),_0x58b511=mult(_0x58b511,rotateY(0x37))),fixedView?_0x12f0cf['drawSmall'](mult(viewMatrixUI,_0x58b511)):_0x12f0cf[_0x29fecf(0x3da)](mult(viewMatrix,_0x58b511));}var xSpin=0x0,controlledXSpin=0x0,controlledYSpin=0x0;function draw_display_item(_0x464230){var _0x5f0df1=a0_0x567640,_0x4ff2c5=mat4();_0x4ff2c5=translate(11.8,4.25,-9.45),0x0==modelTestMode?(xSpin>=0x168&&(xSpin=0x0),'ITEM'==_0x464230['typeOfObj']?(_0x4ff2c5=mult(_0x4ff2c5,translate(1.22,-1.05,0x0)),_0x4ff2c5=mult(_0x4ff2c5,scale4(1.25,1.25,0.01)),_0x4ff2c5=mult(_0x4ff2c5,rotateZ(0x2d)),_0x4ff2c5=mult(_0x4ff2c5,rotateY(xSpin)),_0x4ff2c5=mult(_0x4ff2c5,rotateX(0xf)),xSpin+=0x2):_0x464230[_0x5f0df1(0x3e7)]?(_0x4ff2c5=mult(_0x4ff2c5,translate(0x0,-0x1,0x0)),_0x4ff2c5=mult(_0x4ff2c5,scale4(-1.5,1.5,-0.01)),_0x4ff2c5=mult(_0x4ff2c5,rotateZ(0x5a)),_0x4ff2c5=mult(_0x4ff2c5,rotateX(0x5a)),_0x4ff2c5=mult(_0x4ff2c5,rotateX(xSpin)),_0x4ff2c5=mult(_0x4ff2c5,translate(0x0,-0.25,0x0)),xSpin+=0x2):(_0x4ff2c5=mult(_0x4ff2c5,scale4(-1.5,1.5,-0.01)),_0x4ff2c5=mult(_0x4ff2c5,rotateX(xSpin)),_0x4ff2c5=mult(_0x4ff2c5,rotateZ(xSpin)),xSpin++)):(_0x4ff2c5=mult(_0x4ff2c5,translate(-0.05,-0.75,0x0)),_0x4ff2c5=mult(_0x4ff2c5,scale4(0.85,0.85,0.01)),_0x4ff2c5=mult(_0x4ff2c5,rotateY(controlledXSpin)),_0x4ff2c5=mult(_0x4ff2c5,rotateX(controlledYSpin))),fixedView?_0x464230[_0x5f0df1(0x3da)](mult(viewMatrixUI,_0x4ff2c5)):_0x464230['drawSmall'](mult(modelViewMatrix,_0x4ff2c5));}var activeTab=0x0,tabNames=[a0_0x567640(0x4d8),'Tools',a0_0x567640(0x414),a0_0x567640(0x311)];function draw_all_tabs(){var _0x4d7b58=a0_0x567640;for(var _0x142722,_0x4147e6=tabNames[_0x4d7b58(0x240)],_0x598cb3=0x2,_0x48871c=0x0;_0x48871c<_0x4147e6;_0x48871c++)_0x142722=translate(_0x598cb3,0x7,0x0),draw_c_text(_0x598cb3+0.2,7.075,tabNames[_0x48871c]),set_mv_ui(_0x142722=mult(_0x142722,scale4(0x1,0.25,0x1))),activeTab==_0x48871c?gl[_0x4d7b58(0x20f)](gl['TRIANGLES'],startDraw[0x2],endDraw[0x2]):gl[_0x4d7b58(0x20f)](gl[_0x4d7b58(0x2ef)],startDraw[0x7],endDraw[0x7]),_0x598cb3+=TAB_WIDTH;}function scroll_arrows(){draw_rectangle(vec2(9.2,2.25),vec2(9.5,0x2),UI_COLOURS[BLACK]),draw_rectangle(vec2(9.2,6.75),vec2(9.5,0x7),UI_COLOURS[BLACK]),draw_rectangle(vec2(9.2,2.25),vec2(9.5,6.75),UI_COLOURS[DARKEST_GREY]),zLay-=0.01,draw_triangle(9.25,6.825,!0x1),draw_triangle(9.25,2.175,!0x0);}function draw_c_text(_0x46e38b,_0x4633f0,_0xb4858b){var _0x2b15f6=a0_0x567640;context[_0x2b15f6(0x2f7)]=_0x2b15f6(0x1ff)+FONT;var _0x396a0f=_0x46e38b*(canvas['width']/0x10),_0x1d307c=canvas['height']-_0x4633f0*(canvas[_0x2b15f6(0x217)]/0x9);context[_0x2b15f6(0x3d7)](_0xb4858b,_0x396a0f,_0x1d307c);}function draw_c_text_small_stroke(_0xd12e68,_0x598651,_0x48f2d8){var _0x35592e=a0_0x567640;context[_0x35592e(0x2f7)]=_0x35592e(0x42b)+FONT;var _0x125d4c=_0xd12e68*(canvas['width']/0x10),_0x1170b4=canvas[_0x35592e(0x217)]-_0x598651*(canvas['height']/0x9);context['strokeStyle']=_0x35592e(0x360),context[_0x35592e(0x4a9)](_0x48f2d8,_0x125d4c,_0x1170b4),context[_0x35592e(0x3d7)](_0x48f2d8,_0x125d4c,_0x1170b4);}function draw_c_text_small(_0x7bc2a2,_0x68c345,_0x1e8477){var _0x425e95=a0_0x567640;context['font']=_0x425e95(0x42b)+FONT;var _0x565a84=_0x7bc2a2*(canvas['width']/0x10),_0x358d90=canvas[_0x425e95(0x217)]-_0x68c345*(canvas[_0x425e95(0x217)]/0x9);context[_0x425e95(0x3d7)](_0x1e8477,_0x565a84,_0x358d90);}function draw_c_text_med(_0x171027,_0x222e2c,_0x41beaf){var _0x3269bc=a0_0x567640;context[_0x3269bc(0x2f7)]=_0x3269bc(0x46f)+FONT;var _0x4c08a7=_0x171027*(canvas[_0x3269bc(0x34e)]/0x10),_0x102478=canvas[_0x3269bc(0x217)]-_0x222e2c*(canvas['height']/0x9);context[_0x3269bc(0x3d7)](_0x41beaf,_0x4c08a7,_0x102478);}function draw_c_text_med_stroke(_0x2c95b1,_0x252d68,_0x35e7b3){var _0x2a7080=a0_0x567640;context['font']='13px\x20'+FONT;var _0x35af07=_0x2c95b1*(canvas[_0x2a7080(0x34e)]/0x10),_0x74dce7=canvas[_0x2a7080(0x217)]-_0x252d68*(canvas[_0x2a7080(0x217)]/0x9);context[_0x2a7080(0x248)]=_0x2a7080(0x360),context[_0x2a7080(0x4a9)](_0x35e7b3,_0x35af07,_0x74dce7),context[_0x2a7080(0x3d7)](_0x35e7b3,_0x35af07,_0x74dce7);}function draw_c_box(_0x446c98,_0x368f30,_0x4e1e17,_0x2aec7d){var _0x2a9e15=a0_0x567640,_0x267497=_0x446c98*(canvas['width']/0x10),_0x330947=canvas['height']-_0x368f30*(canvas['height']/0x9),_0x58467d=_0x4e1e17*(canvas[_0x2a9e15(0x34e)]/0x10),_0x57b7e4=canvas['height']-_0x2aec7d*(canvas[_0x2a9e15(0x217)]/0x9);context[_0x2a9e15(0x3e2)](),context[_0x2a9e15(0x329)](_0x267497,_0x330947,_0x58467d-_0x267497,_0x57b7e4-_0x330947),context['stroke']();}function draw_c_line(_0x1c4d87,_0x42e745,_0x459903,_0x22ff90,_0x27ad13=a0_0x567640(0x2fd)){var _0x56397e=a0_0x567640,_0x42becf=_0x1c4d87*(canvas[_0x56397e(0x34e)]/0x10),_0xb8e92e=_0x42e745*(canvas[_0x56397e(0x217)]/0x9),_0x2b13c7=_0x459903*(canvas[_0x56397e(0x34e)]/0x10),_0x66dee9=_0x22ff90*(canvas[_0x56397e(0x217)]/0x9);context[_0x56397e(0x3e2)](),context['moveTo'](_0x42becf,_0xb8e92e),context[_0x56397e(0x2d8)](_0x2b13c7,_0x66dee9),context[_0x56397e(0x248)]=_0x27ad13,context['stroke']();}var rot=0x0;function draw_test(){var _0x95aa19=a0_0x567640;rot++,reset_mv(),mv=translate(0x4,0x4,zLay),mv=mult(mv,scale4(0x1,0x1,0.1)),mv=mult(mv,rotateX(rot)),mv=mult(mv,rotateY(rot)),set_mv(mv),gl[_0x95aa19(0x20f)](gl[_0x95aa19(0x2ef)],axeStart,0x18),reset_mv();}rot=0x0;var scaleAndRotate,currentMenu='INVENTORY';function draw_inventory(){var _0x2c20ce=a0_0x567640;switch(set_light_full(),fixedView?set_ui_pv():set_ui_pv(translate(-0x1,-0x1,0x0)),currentMenu){case _0x2c20ce(0x3d8):draw_scroll_list(),set_mv_ui(),tabListLength>0x4&&(gl[_0x2c20ce(0x20f)](gl[_0x2c20ce(0x2ef)],startDraw[0x5],endDraw[0x5]),draw_scroll_bar()),draw_inventory_cursor(),reset_mv(),draw_all_tabs(),draw_interface_inventory();break;case _0x2c20ce(0x204):draw_crafting_menu();}}function build_scroll_bar(){draw_rectangle(vec2(9.3,2.3),vec2(9.4,6.7),UI_COLOURS[WHITE]),zLay-=0.01;}function draw_scroll_bar(){var _0x16a6bb=a0_0x567640,_0x31f8b8=get_scroll_bar_length(),_0x415896=mult(translate(0x0,4.5,0x0),mult(scale4(0x1,_0x31f8b8,0x1),translate(0x0,-4.5,0x0)));let _0x1a9242=2.2-2.2*_0x31f8b8;var _0x4ff37e=-0x2*_0x1a9242/get_max_scroll_length();fixedView?set_mv_ui(mult(translate(0x0,_0x1a9242+_0x4ff37e*scrollOffset,0x0),_0x415896)):set_mv(mult(translate(0x0,_0x1a9242+_0x4ff37e*scrollOffset,0x0),_0x415896)),gl['drawArrays'](gl[_0x16a6bb(0x2ef)],scrollBarVertices[0x0],scrollBarVertices[0x1]);}function line_push(_0x2e33c4,_0x2cef49){var _0x5db5a2=a0_0x567640;vertices[_0x5db5a2(0x4b3)](_0x2e33c4),vertices[_0x5db5a2(0x4b3)](_0x2cef49),colours[_0x5db5a2(0x4b3)](UI_COLOURS[BLACK]),colours[_0x5db5a2(0x4b3)](UI_COLOURS[BLACK]);for(var _0x1ef1ed=0x0;_0x1ef1ed<0x2;_0x1ef1ed++)texCoords[_0x5db5a2(0x4b3)](vec2(0x2,0x2)),normals[_0x5db5a2(0x4b3)](vec3(0x0,0x0,0x0));}function ui_push_cursor(_0x473054,_0x41e475,_0x28c0c2,_0x2a2213=vec4(0x1,0x0,0x0,0x1),_0x41131e=_0x2a2213,_0x16bbbd=_0x2a2213){var _0x318d4e=a0_0x567640;vertices['push'](_0x473054),vertices[_0x318d4e(0x4b3)](_0x41e475),vertices[_0x318d4e(0x4b3)](_0x28c0c2),colours[_0x318d4e(0x4b3)](_0x2a2213),colours[_0x318d4e(0x4b3)](_0x41131e),colours['push'](_0x16bbbd);for(var _0x10d446=0x0;_0x10d446<0x3;_0x10d446++)texCoords[_0x318d4e(0x4b3)](vec2(0x2,0x2)),normals[_0x318d4e(0x4b3)](vec3(0x0,0x0,0x0));}function build_cursor(){var _0x1dab13,_0x52ff26,_0x5153b5,_0x52fc66;zLay-=0.01;var _0x2b0fa2=-9.649;_0x1dab13=vec3(0x0,0x0,_0x2b0fa2),_0x52ff26=vec3(0.75,-0.25,_0x2b0fa2),_0x5153b5=vec3(0.375,-0.375,_0x2b0fa2),_0x52fc66=vec3(0.25,-0.75,_0x2b0fa2),ui_push_cursor(_0x1dab13,_0x5153b5,_0x52ff26,vec4(0x1,0x1,0x1,0x1)),ui_push_cursor(_0x1dab13,_0x5153b5,_0x52fc66,vec4(0x1,0x1,0x1,0x1)),_0x1dab13=vec3(0x0,0x0,_0x2b0fa2-=0.001),_0x52ff26=vec3(0.75,-0.25,_0x2b0fa2),_0x5153b5=vec3(0.375,-0.375,_0x2b0fa2),_0x52fc66=vec3(0.25,-0.75,_0x2b0fa2),line_push(_0x1dab13,_0x52ff26),line_push(_0x52ff26,_0x5153b5),line_push(_0x5153b5,_0x52fc66),line_push(_0x52fc66,_0x1dab13);}function draw_inventory_cursor(){var _0x588829=a0_0x567640;set_mv_ui(mult(translate(cursorCoor[0x0],cursorCoor[0x1],-0.35),scale4(0.35,0.35,0x1))),gl[_0x588829(0x20f)](gl['TRIANGLES'],startDraw[0x1],0x6),gl[_0x588829(0x20f)](gl[_0x588829(0x1f3)],startDraw[0x1]+0x6,0x8);}function draw_inventory_cursor_overlay(){var _0x200850=a0_0x567640;let _0xb7ca70=convert_to_canvas_coords(cursorCoor[0x0],cursorCoor[0x1]),_0x10c361=convert_to_canvas_coords(cursorCoor[0x0]+0.75*0.35,cursorCoor[0x1]-0.0875),_0x2dc60d=convert_to_canvas_coords(cursorCoor[0x0]+0.375*0.35,cursorCoor[0x1]-0.375*0.35),_0x31f9a8=convert_to_canvas_coords(cursorCoor[0x0]+0.0875,cursorCoor[0x1]-0.75*0.35),_0x4bfe80=new Path2D();_0x4bfe80['moveTo'](_0xb7ca70[0x0],_0xb7ca70[0x1]),_0x4bfe80[_0x200850(0x2d8)](_0x10c361[0x0],_0x10c361[0x1]),_0x4bfe80['lineTo'](_0x2dc60d[0x0],_0x2dc60d[0x1]),_0x4bfe80[_0x200850(0x2d8)](_0x31f9a8[0x0],_0x31f9a8[0x1]),_0x4bfe80[_0x200850(0x2d8)](_0xb7ca70[0x0],_0xb7ca70[0x1]),_0x4bfe80['closePath'](),context[_0x200850(0x3b7)]=_0x200850(0x2fd),context[_0x200850(0x215)](_0x4bfe80,_0x200850(0x22d)),context[_0x200850(0x248)]=_0x200850(0x28e),context[_0x200850(0x3d2)]=0x1,context[_0x200850(0x1e6)](_0x4bfe80,_0x200850(0x22d)),context[_0x200850(0x3d2)]=0x1,context[_0x200850(0x3b7)]='white';}function add_to_toolbar(_0x2edb0d){var _0x352ff1=a0_0x567640;if(null==_0x2edb0d)return;const _0x2a0c66=_0x2edb0d[_0x352ff1(0x44a)];if(0x40!=_0x2a0c66){if(0x41!=_0x2a0c66){if(0x42!=_0x2a0c66){var _0x2e1bc2=-0x1;for(let _0x44b95b=0x3;_0x44b95b<NUM_TOOLBAR_ITEMS;_0x44b95b++)if(null!=toolBarList[_0x44b95b]&&toolBarList[_0x44b95b][_0x352ff1(0x44a)]==_0x2a0c66){_0x2e1bc2=_0x44b95b;break;}if(-0x1==_0x2e1bc2){for(let _0x18d6dd=NUM_TOOLBAR_ITEMS-0x1;_0x18d6dd>0x3;_0x18d6dd--)toolBarList[_0x18d6dd]=toolBarList[_0x18d6dd-0x1];}else{if(0x3==_0x2e1bc2)return void(activeToolBarItem=0x4);for(let _0x2fe517=_0x2e1bc2;_0x2fe517>0x3;_0x2fe517--)toolBarList[_0x2fe517]=toolBarList[_0x2fe517-0x1];}toolBarList[(activeToolBarItem=0x4)-0x1]=_0x2edb0d;}else activeToolBarItem=0x3;}else activeToolBarItem=0x2;}else activeToolBarItem=0x1;}function updateToolBar(){for(let _0x38a635=0x3;_0x38a635<NUM_TOOLBAR_ITEMS;_0x38a635++)if(null==toolBarList[_0x38a635]){for(let _0x220c22=_0x38a635+0x1;_0x220c22<NUM_TOOLBAR_ITEMS;_0x220c22++)if(null!=toolBarList[_0x220c22]){toolBarList[_0x38a635]=toolBarList[_0x220c22],toolBarList[_0x220c22]=null;break;}}}var toolBarObjs=[];function draw_toolbar_items(){var _0x32ef61=a0_0x567640,_0x2c3635;for(let _0x1cc708=0x0;_0x1cc708<0x7;_0x1cc708++)null!=(_0x2c3635=toolBarList[_0x1cc708])&&(_0x1cc708>=0x3&&draw_c_text_small_stroke(3.15+0.65*(_0x1cc708-0x3),0x8,player[_0x32ef61(0x49a)](_0x2c3635)),_0x1cc708>=0x3?_0x2c3635[_0x32ef61(0x3da)](toolBarObjs[_0x1cc708]):(gl[_0x32ef61(0x496)](modelViewMatrixLoc,!0x1,flatten(toolBarObjs[_0x1cc708])),gl[_0x32ef61(0x20f)](gl[_0x32ef61(0x2ef)],_0x2c3635['index'],_0x2c3635[_0x32ef61(0x306)])));}function set_toolbar_matrices(){var _0x15569d=a0_0x567640;scaleAndRotate=mult(scaleAndRotate=scale4(0.22,0.22,0.001),rotateZ(-0x23)),(toolBarObjs[_0x15569d(0x4b3)](mult(viewMatrix,mult(translate(-7.4,3.45,-0xa),scaleAndRotate))),toolBarObjs[_0x15569d(0x4b3)](mult(viewMatrix,mult(translate(-6.75,3.45,-0xa),scaleAndRotate))),toolBarObjs[_0x15569d(0x4b3)](mult(viewMatrix,mult(translate(1.3-7.4,3.45,-0xa),scaleAndRotate))));var _0x2b43ae=mult(mult(rotateZ(0x2d),rotateX(0x2d)),rotateY(0x37));scaleAndRotate=mult(scale4(0.22,0.22,0.001),_0x2b43ae);for(let _0x54be63=0x0;_0x54be63<0x4;_0x54be63++)toolBarObjs['push'](mult(viewMatrix,mult(translate(0.65*_0x54be63-4.97,3.49,-9.5),scaleAndRotate)));}function draw_tool_bar(){var _0x1abaa2=a0_0x567640;draw_c_text_med_stroke(1.249,8.59,_0x1abaa2(0x3a2)),draw_c_text_med_stroke(3.767,8.59,'Blocks'),draw_c_line(2.58,0.61,2.58,0x1,_0x1abaa2(0x30c));const _0x850b61=0.65;var _0x5dd58c=-7.2-_0x850b61;for(let _0x3ee103=0x0;_0x3ee103<0x3;_0x3ee103++)_0x5dd58c+=_0x850b61,gl['uniformMatrix4fv'](modelViewMatrixLoc,!0x1,flatten(mult(viewMatrix,translate(_0x5dd58c,3.7,0x0)))),activeToolBarItem==_0x3ee103+0x1&&(gl[_0x1abaa2(0x20f)](gl['TRIANGLES'],startDraw[0x9],endDraw[0x9]),gl['drawArrays'](gl[_0x1abaa2(0x2ef)],startDraw[0x8],endDraw[0x8])),gl[_0x1abaa2(0x20f)](gl[_0x1abaa2(0x2ef)],startDraw[0x8],endDraw[0x8]),draw_c_text_small_stroke(0.58+_0x850b61*_0x3ee103,8.323,_0x3ee103+0x1);_0x5dd58c+=0.3;for(let _0x5db841=0x0;_0x5db841<0x4;_0x5db841++)_0x5dd58c+=_0x850b61,gl[_0x1abaa2(0x496)](modelViewMatrixLoc,!0x1,flatten(mult(viewMatrix,translate(_0x5dd58c,3.7,0x0)))),activeToolBarItem==_0x5db841+0x4&&(gl[_0x1abaa2(0x20f)](gl[_0x1abaa2(0x2ef)],startDraw[0x9],endDraw[0x9]),gl[_0x1abaa2(0x20f)](gl[_0x1abaa2(0x2ef)],startDraw[0x8],endDraw[0x8])),gl[_0x1abaa2(0x20f)](gl[_0x1abaa2(0x2ef)],startDraw[0x8],endDraw[0x8]),draw_c_text_small_stroke(2.841+_0x850b61*_0x5db841,8.323,_0x5db841+0x4);}var clearBlack=vec4(0.1,0.2,0.15,0.7),borderColor=vec4(0.28,0.4,0.32,0.9),borderColorOuter=vec4(0.7,0.7,0.7,0.4);function tool_bar_box(){var _0x285f83=a0_0x567640;startDraw[0x8]=vertices['length'],draw_rectangle_rounded(vec2(-0.3125,-0.3125),vec2(0.3125,0.3125),clearBlack),endDraw[0x8]=vertices[_0x285f83(0x240)]-startDraw[0x8],startDraw[0x9]=vertices[_0x285f83(0x240)],draw_rectangle_rounded_selected(vec2(-0.3125,-0.3125),vec2(0.3125,0.3125),clearBlack),endDraw[0x9]=vertices['length']-startDraw[0x9];}function build_rounded_rectangle(_0x62677,_0x19fa95,_0x52ef42,_0x5f2ec9,_0x420437,_0x538d3e=clearBlack,_0x2d4b13=0x6){var _0x5de2dc=a0_0x567640;function _0x1f7048(_0x4a61bf,_0xd6f408,_0x31a77b,_0x530504,_0x24d6d1){var _0x3bf3d7=a0_0x21e0;const _0x528545=[];for(let _0x3476e9=0x0;_0x3476e9<=_0x24d6d1;++_0x3476e9){let _0x3063a5=_0xd6f408+(_0x31a77b-_0xd6f408)*_0x3476e9/_0x24d6d1;_0x528545['push']([_0x4a61bf[0x0]+_0x530504*Math[_0x3bf3d7(0x47f)](_0x3063a5),_0x4a61bf[0x1]+_0x530504*Math[_0x3bf3d7(0x211)](_0x3063a5),zLay]);}return _0x528545;}let _0x30ca96=[_0x62677[0x0]+_0x420437,_0x62677[0x1]+_0x420437,zLay],_0x30e521=[_0x19fa95[0x0]-_0x420437,_0x19fa95[0x1]+_0x420437,zLay],_0xed11d8=[_0x52ef42[0x0]-_0x420437,_0x52ef42[0x1]-_0x420437,zLay],_0x4d0aba=[_0x5f2ec9[0x0]+_0x420437,_0x5f2ec9[0x1]-_0x420437,zLay],_0x13724a=_0x1f7048(_0x30ca96,Math['PI'],1.5*Math['PI'],_0x420437,_0x2d4b13),_0x7d944=_0x1f7048(_0x30e521,1.5*Math['PI'],0x2*Math['PI'],_0x420437,_0x2d4b13),_0x2f6a10=_0x1f7048(_0xed11d8,0x0,0.5*Math['PI'],_0x420437,_0x2d4b13),_0x39f521=_0x1f7048(_0x4d0aba,0.5*Math['PI'],Math['PI'],_0x420437,_0x2d4b13);function _0x29a36d(_0x52a903,_0x1867b5){for(let _0x200150=0x0;_0x200150<_0x1867b5['length']-0x1;_0x200150++)ui_push(_0x52a903,_0x1867b5[_0x200150],_0x1867b5[_0x200150+0x1],clearBlack);}function _0x42ba94(_0x583e81,_0x243124,_0x19f980,_0x17584e){ui_push(_0x583e81,_0x243124,_0x19f980,clearBlack),ui_push(_0x583e81,_0x19f980,_0x17584e,clearBlack);}_0x29a36d(_0x30ca96,_0x13724a),_0x29a36d(_0x30e521,_0x7d944),_0x29a36d(_0xed11d8,_0x2f6a10),_0x29a36d(_0x4d0aba,_0x39f521),_0x42ba94(_0x13724a[_0x13724a['length']-0x1],_0x7d944[0x0],_0x30e521,_0x30ca96),_0x42ba94(_0x7d944[_0x7d944[_0x5de2dc(0x240)]-0x1],_0x2f6a10[0x0],_0xed11d8,_0x30e521),_0x42ba94(_0x2f6a10[_0x2f6a10[_0x5de2dc(0x240)]-0x1],_0x39f521[0x0],_0x4d0aba,_0xed11d8),_0x42ba94(_0x39f521[_0x39f521['length']-0x1],_0x13724a[0x0],_0x30ca96,_0x4d0aba),_0x42ba94(_0x30ca96,_0x30e521,_0xed11d8,_0x4d0aba);}function build_rounded_rectangle_stroke(_0x208a8d,_0x297700,_0x455c60,_0x19f481,_0x495e32,_0x14fc68,_0x29acbb=0.02,_0x515871=0x6){var _0x42d003=a0_0x567640;const _0x95f68e=-9.9;function _0x5f578a(_0x5a70fa,_0x194b9e,_0x3dbdeb,_0x3f2ec3,_0x426f1a){var _0x46cc0c=a0_0x21e0;const _0x260c3f=[];for(let _0x49820d=0x0;_0x49820d<=_0x426f1a;++_0x49820d){let _0x240530=_0x194b9e+(_0x3dbdeb-_0x194b9e)*_0x49820d/_0x426f1a;_0x260c3f[_0x46cc0c(0x4b3)]([_0x5a70fa[0x0]+_0x3f2ec3*Math['cos'](_0x240530),_0x5a70fa[0x1]+_0x3f2ec3*Math[_0x46cc0c(0x211)](_0x240530),_0x95f68e]);}return _0x260c3f;}let _0x508fb1=[_0x208a8d[0x0]+_0x495e32,_0x208a8d[0x1]+_0x495e32,_0x95f68e],_0x1ac9f2=[_0x297700[0x0]-_0x495e32,_0x297700[0x1]+_0x495e32,_0x95f68e],_0x4c78d9=[_0x455c60[0x0]-_0x495e32,_0x455c60[0x1]-_0x495e32,_0x95f68e],_0x4308c8=[_0x19f481[0x0]+_0x495e32,_0x19f481[0x1]-_0x495e32,_0x95f68e],_0x184583=_0x5f578a(_0x508fb1,Math['PI'],1.5*Math['PI'],_0x495e32,_0x515871),_0x5fed9e=_0x5f578a(_0x508fb1,Math['PI'],1.5*Math['PI'],_0x495e32-_0x29acbb,_0x515871),_0x3ef69c=_0x5f578a(_0x1ac9f2,1.5*Math['PI'],0x2*Math['PI'],_0x495e32,_0x515871),_0x19d0f2=_0x5f578a(_0x1ac9f2,1.5*Math['PI'],0x2*Math['PI'],_0x495e32-_0x29acbb,_0x515871),_0x9124d5=_0x5f578a(_0x4c78d9,0x0,0.5*Math['PI'],_0x495e32,_0x515871),_0x331d37=_0x5f578a(_0x4c78d9,0x0,0.5*Math['PI'],_0x495e32-_0x29acbb,_0x515871),_0x2aa52c=_0x5f578a(_0x4308c8,0.5*Math['PI'],Math['PI'],_0x495e32,_0x515871),_0x2252de=_0x5f578a(_0x4308c8,0.5*Math['PI'],Math['PI'],_0x495e32-_0x29acbb,_0x515871);function _0x43f970(_0x2530c5,_0x1aeccc){var _0x4cfde5=a0_0x21e0;for(let _0x59f3c2=0x0;_0x59f3c2<_0x1aeccc[_0x4cfde5(0x240)]-0x1;_0x59f3c2++)ui_push(_0x2530c5[_0x59f3c2],_0x1aeccc[_0x59f3c2],_0x1aeccc[_0x59f3c2+0x1],_0x14fc68),ui_push(_0x2530c5[_0x59f3c2],_0x2530c5[_0x59f3c2+0x1],_0x1aeccc[_0x59f3c2+0x1],_0x14fc68);}function _0x271280(_0x299e67,_0x4ec74e,_0x65151e,_0x1ed7dc){ui_push(_0x299e67,_0x4ec74e,_0x65151e,_0x14fc68),ui_push(_0x299e67,_0x65151e,_0x1ed7dc,_0x14fc68);}_0x43f970(_0x5fed9e,_0x184583),_0x43f970(_0x19d0f2,_0x3ef69c),_0x43f970(_0x331d37,_0x9124d5),_0x43f970(_0x2252de,_0x2aa52c),_0x271280(_0x184583[_0x184583[_0x42d003(0x240)]-0x1],_0x3ef69c[0x0],_0x19d0f2[0x0],_0x5fed9e[_0x5fed9e['length']-0x1]),_0x271280(_0x3ef69c[_0x3ef69c[_0x42d003(0x240)]-0x1],_0x9124d5[0x0],_0x331d37[0x0],_0x19d0f2[_0x19d0f2[_0x42d003(0x240)]-0x1]),_0x271280(_0x9124d5[_0x9124d5[_0x42d003(0x240)]-0x1],_0x2aa52c[0x0],_0x2252de[0x0],_0x331d37[_0x331d37[_0x42d003(0x240)]-0x1]),_0x271280(_0x2aa52c[_0x2aa52c[_0x42d003(0x240)]-0x1],_0x184583[0x0],_0x5fed9e[0x0],_0x2252de[_0x2252de[_0x42d003(0x240)]-0x1]);}var selectedColor=vec4(0.9,0x1,0.6,0x1);function build_rounded_rectangle_selected(_0x3f2347,_0x222f63,_0xb84bc9,_0x1ac527,_0x14a585,_0x8ca0eb=0x6){function _0x2c054b(_0x2c70c5,_0x1c118b,_0x14c0dd,_0x347754,_0x125658){var _0x175f7a=a0_0x21e0;const _0x2ad92c=[];for(let _0x1df664=0x0;_0x1df664<=_0x125658;++_0x1df664){let _0x509fd5=_0x1c118b+(_0x14c0dd-_0x1c118b)*_0x1df664/_0x125658;_0x2ad92c['push']([_0x2c70c5[0x0]+_0x347754*Math[_0x175f7a(0x47f)](_0x509fd5),_0x2c70c5[0x1]+_0x347754*Math[_0x175f7a(0x211)](_0x509fd5),-0xa]);}return _0x2ad92c;}let _0x374b26=[_0x3f2347[0x0]+_0x14a585,_0x3f2347[0x1]+_0x14a585,-0xa],_0x5e2fb1=[_0x222f63[0x0]-_0x14a585,_0x222f63[0x1]+_0x14a585,-0xa],_0x2533f4=[_0xb84bc9[0x0]-_0x14a585,_0xb84bc9[0x1]-_0x14a585,-0xa],_0x324ee7=[_0x1ac527[0x0]+_0x14a585,_0x1ac527[0x1]-_0x14a585,-0xa],_0x390215=_0x2c054b(_0x374b26,Math['PI'],1.5*Math['PI'],_0x14a585,_0x8ca0eb),_0x2bde41=_0x2c054b(_0x374b26,Math['PI'],1.5*Math['PI'],_0x14a585-0.03,_0x8ca0eb),_0xc13428=_0x2c054b(_0x5e2fb1,1.5*Math['PI'],0x2*Math['PI'],_0x14a585,_0x8ca0eb),_0x5c589d=_0x2c054b(_0x5e2fb1,1.5*Math['PI'],0x2*Math['PI'],_0x14a585-0.03,_0x8ca0eb),_0x1ec756=_0x2c054b(_0x2533f4,0x0,0.5*Math['PI'],_0x14a585,_0x8ca0eb),_0x170cac=_0x2c054b(_0x2533f4,0x0,0.5*Math['PI'],_0x14a585-0.03,_0x8ca0eb),_0x3c6ae6=_0x2c054b(_0x324ee7,0.5*Math['PI'],Math['PI'],_0x14a585,_0x8ca0eb),_0x46915c=_0x2c054b(_0x324ee7,0.5*Math['PI'],Math['PI'],_0x14a585-0.03,_0x8ca0eb);function _0x464457(_0x1fec8a,_0x5dac02){for(let _0xcedc92=0x0;_0xcedc92<_0x5dac02['length']-0x1;_0xcedc92++)ui_push(_0x1fec8a[_0xcedc92],_0x5dac02[_0xcedc92],_0x5dac02[_0xcedc92+0x1],selectedColor),ui_push(_0x1fec8a[_0xcedc92],_0x1fec8a[_0xcedc92+0x1],_0x5dac02[_0xcedc92+0x1],selectedColor);}_0x464457(_0x2bde41,_0x390215),_0x464457(_0x5c589d,_0xc13428),_0x464457(_0x170cac,_0x1ec756),_0x464457(_0x46915c,_0x3c6ae6);}var mapSquareVerts=[];function build_map_squares(){var _0x3a231e=a0_0x567640;mapSquareVerts[_0x3a231e(0x4b3)]([vertices[_0x3a231e(0x240)],0x0]),build_map_rect(vec2(-0.3125,-0.3125),vec2(0.3125,0.3125),vec4(0.9,0.9,0.9,0x1)),mapSquareVerts[0x0][0x1]=vertices['length']-mapSquareVerts[0x0][0x0],mapSquareVerts['push']([vertices[_0x3a231e(0x240)],0x0]),build_map_rect(vec2(-0.3125,-0.3125),vec2(0.3125,0.3125),vec4(0.4,0.4,0.4,0x1)),mapSquareVerts[0x1][0x1]=vertices[_0x3a231e(0x240)]-mapSquareVerts[0x1][0x0],mapSquareVerts[_0x3a231e(0x4b3)]([vertices[_0x3a231e(0x240)],0x0]),build_map_rect(vec2(-0.3125,-0.3125),vec2(0.3125,0.3125),vec4(0.1,0.1,0.1,0x1)),mapSquareVerts[0x2][0x1]=vertices['length']-mapSquareVerts[0x2][0x0];}function set_map_surrounding_viewed(_0x484979,_0x566ee1){_0x484979-0x1>=0x0&&!visitedGrid[_0x484979-0x1][_0x566ee1]&&dungeonGrid[_0x484979-0x1][_0x566ee1]&&(viewedGrid[_0x484979-0x1][_0x566ee1]=!0x0),_0x484979+0x1<gridSize&&!visitedGrid[_0x484979+0x1][_0x566ee1]&&dungeonGrid[_0x484979+0x1][_0x566ee1]&&(viewedGrid[_0x484979+0x1][_0x566ee1]=!0x0),_0x566ee1-0x1>=0x0&&!visitedGrid[_0x484979][_0x566ee1-0x1]&&dungeonGrid[_0x484979][_0x566ee1-0x1]&&(viewedGrid[_0x484979][_0x566ee1-0x1]=!0x0),_0x566ee1+0x1<gridSize&&!visitedGrid[_0x484979][_0x566ee1+0x1]&&dungeonGrid[_0x484979][_0x566ee1+0x1]&&(viewedGrid[_0x484979][_0x566ee1+0x1]=!0x0);}function draw_map(){var _0x218027=a0_0x567640;const _0x14d9c4=0.65;var _0x9f33e3=0x0;for(let _0x442813=0x0;_0x442813<dungeonGrid['length'];_0x442813++){var _0x1ee341=0x0;for(let _0x1ff645=0x0;_0x1ff645<dungeonGrid['length'];_0x1ff645++)_0x1ee341+=_0x14d9c4,gl[_0x218027(0x496)](modelViewMatrixLoc,!0x1,flatten(mult(viewMatrix,translate(_0x1ee341,_0x9f33e3,0x0)))),0x1==dungeonGrid[_0x442813][_0x1ff645]&&(_0x442813==currentRoom[0x0]&&_0x1ff645==currentRoom[0x1]?(gl[_0x218027(0x20f)](gl[_0x218027(0x2ef)],mapSquareVerts[0x0][0x0],mapSquareVerts[0x0][0x1]),set_map_surrounding_viewed(_0x442813,_0x1ff645)):visitedGrid[_0x442813][_0x1ff645]&&gl['drawArrays'](gl['TRIANGLES'],mapSquareVerts[0x1][0x0],mapSquareVerts[0x1][0x1]));_0x9f33e3-=_0x14d9c4;}_0x9f33e3=0x0;for(let _0x253d93=0x0;_0x253d93<dungeonGrid[_0x218027(0x240)];_0x253d93++){_0x1ee341=0x0;for(let _0x1dc774=0x0;_0x1dc774<dungeonGrid['length'];_0x1dc774++)_0x1ee341+=_0x14d9c4,gl['uniformMatrix4fv'](modelViewMatrixLoc,!0x1,flatten(mult(viewMatrix,translate(_0x1ee341,_0x9f33e3,0x0)))),0x1==dungeonGrid[_0x253d93][_0x1dc774]&&viewedGrid[_0x253d93][_0x1dc774]&&!visitedGrid[_0x253d93][_0x1dc774]&&gl[_0x218027(0x20f)](gl[_0x218027(0x2ef)],mapSquareVerts[0x2][0x0],mapSquareVerts[0x2][0x1]);_0x9f33e3-=_0x14d9c4;}}function build_map_rect(_0x468f13,_0x17deb7,_0x5de4fb){build_colored_quad(vec3(_0x468f13[0x0],_0x468f13[0x1],zLay),vec3(_0x17deb7[0x0],_0x468f13[0x1],zLay),vec3(_0x17deb7[0x0],_0x17deb7[0x1],zLay),vec3(_0x468f13[0x0],_0x17deb7[0x1],zLay),0.08,_0x5de4fb),zLay-=0.01;}function build_colored_quad(_0x42633b,_0x14cd9b,_0xc75a10,_0x54898c,_0x4cad05,_0x1b2b02=clearBlack,_0x1e0ca7=0x6){var _0x20c2f8=a0_0x567640;function _0x3473a3(_0x4a74fd,_0x38635b,_0x14ab4e,_0x98d90f,_0x26ee34){var _0xbcd6d9=a0_0x21e0;const _0x670d8d=[];for(let _0x3b41a4=0x0;_0x3b41a4<=_0x26ee34;++_0x3b41a4){let _0x53c057=_0x38635b+(_0x14ab4e-_0x38635b)*_0x3b41a4/_0x26ee34;_0x670d8d[_0xbcd6d9(0x4b3)]([_0x4a74fd[0x0]+_0x98d90f*Math[_0xbcd6d9(0x47f)](_0x53c057),_0x4a74fd[0x1]+_0x98d90f*Math[_0xbcd6d9(0x211)](_0x53c057),zLay]);}return _0x670d8d;}let _0x43c705=[_0x42633b[0x0]+_0x4cad05,_0x42633b[0x1]+_0x4cad05,zLay],_0x4f8d13=[_0x14cd9b[0x0]-_0x4cad05,_0x14cd9b[0x1]+_0x4cad05,zLay],_0x3d7d4e=[_0xc75a10[0x0]-_0x4cad05,_0xc75a10[0x1]-_0x4cad05,zLay],_0x29bcc5=[_0x54898c[0x0]+_0x4cad05,_0x54898c[0x1]-_0x4cad05,zLay],_0x4ee981=_0x3473a3(_0x43c705,Math['PI'],1.5*Math['PI'],_0x4cad05,_0x1e0ca7),_0x27fe91=_0x3473a3(_0x4f8d13,1.5*Math['PI'],0x2*Math['PI'],_0x4cad05,_0x1e0ca7),_0x119d4f=_0x3473a3(_0x3d7d4e,0x0,0.5*Math['PI'],_0x4cad05,_0x1e0ca7),_0x872de9=_0x3473a3(_0x29bcc5,0.5*Math['PI'],Math['PI'],_0x4cad05,_0x1e0ca7);function _0x3d6b95(_0x576bf,_0xd798f8){var _0x3b71c1=a0_0x21e0;for(let _0x399f1d=0x0;_0x399f1d<_0xd798f8[_0x3b71c1(0x240)]-0x1;_0x399f1d++)ui_push(_0x576bf,_0xd798f8[_0x399f1d],_0xd798f8[_0x399f1d+0x1],_0x1b2b02);}function _0x2c0b2d(_0x5f001d,_0x14705f,_0x560146,_0x5d7e2f){ui_push(_0x5f001d,_0x14705f,_0x560146,_0x1b2b02),ui_push(_0x5f001d,_0x560146,_0x5d7e2f,_0x1b2b02);}_0x3d6b95(_0x43c705,_0x4ee981),_0x3d6b95(_0x4f8d13,_0x27fe91),_0x3d6b95(_0x3d7d4e,_0x119d4f),_0x3d6b95(_0x29bcc5,_0x872de9),_0x2c0b2d(_0x4ee981[_0x4ee981[_0x20c2f8(0x240)]-0x1],_0x27fe91[0x0],_0x4f8d13,_0x43c705),_0x2c0b2d(_0x27fe91[_0x27fe91[_0x20c2f8(0x240)]-0x1],_0x119d4f[0x0],_0x3d7d4e,_0x4f8d13),_0x2c0b2d(_0x119d4f[_0x119d4f['length']-0x1],_0x872de9[0x0],_0x29bcc5,_0x3d7d4e),_0x2c0b2d(_0x872de9[_0x872de9[_0x20c2f8(0x240)]-0x1],_0x4ee981[0x0],_0x43c705,_0x29bcc5),_0x2c0b2d(_0x43c705,_0x4f8d13,_0x3d7d4e,_0x29bcc5);}const SMALLEST_Z_VALUE=-0.999;var interface_matrix;const CANVAS_SIZE_X=0x10,CANVAS_SIZE_Y=0x9;class InterfaceElement{constructor(_0x5e45f2,_0x3d3a5f,_0x102c67,_0x4475bd,_0x17fd65,_0x503d43,_0x172b96,_0x13eaea,_0x52564e,_0x11a424){var _0x4174d0=a0_0x567640;this['x1']=_0x5e45f2,this['x2']=_0x102c67,this['y1']=_0x3d3a5f,this['y2']=_0x4475bd,this[_0x4174d0(0x40d)]=mult(translate(_0x5e45f2,_0x3d3a5f,0x1+_0x17fd65),scale4(_0x102c67-_0x5e45f2,_0x4475bd-_0x3d3a5f,0x1)),this[_0x4174d0(0x40d)]=mult(interface_matrix,this[_0x4174d0(0x40d)]),this['colorNum']=_0x503d43,this[_0x4174d0(0x24f)]=_0x172b96,this[_0x4174d0(0x310)]=_0x13eaea,this['top']=_0x52564e,this[_0x4174d0(0x1f1)]=_0x11a424;}[a0_0x567640(0x41c)](){var _0x1fb8f1=a0_0x567640;draw_box_border(this['x1'],this['y1'],this['x2'],this['y2'],this[_0x1fb8f1(0x24f)],this[_0x1fb8f1(0x310)],this[_0x1fb8f1(0x2e0)],this[_0x1fb8f1(0x1f1)]),this['colorNum']!=CLEAR&&(gl[_0x1fb8f1(0x496)](modelViewMatrixLoc,!0x1,flatten(this[_0x1fb8f1(0x40d)])),gl[_0x1fb8f1(0x20f)](gl[_0x1fb8f1(0x2ef)],elementVertices[this['colorNum']][0x0],elementVertices[this[_0x1fb8f1(0x340)]][0x1]));}}class InterfaceVolumeSlider{constructor(_0x518f9d,_0x111b7f,_0x316557,_0x21f067,_0xb376d9,_0x425c12=a0_0x567640(0x446),_0x2c0849=a0_0x567640(0x4cd)){var _0x5d1f76=a0_0x567640;this['x1']=_0x518f9d,this['x2']=_0x316557,this['y1']=_0x111b7f,this['y2']=_0x21f067,this[_0x5d1f76(0x30b)]=[this['x1']-0x1,this['x1']+0x1],this[_0x5d1f76(0x265)]=[this['y1'],this['y1']],this['width']=Math[_0x5d1f76(0x250)](_0x316557-_0x518f9d),this[_0x5d1f76(0x217)]=Math[_0x5d1f76(0x250)](_0x21f067-_0x111b7f),this[_0x5d1f76(0x40d)]=mult(translate(_0x518f9d,_0x111b7f,0x1-0.998),scale4(_0x316557-_0x518f9d,_0x21f067-_0x111b7f,0x1)),this['instanceMat']=mult(interface_matrix,this[_0x5d1f76(0x40d)]),this[_0x5d1f76(0x2bb)]=_0x425c12,this[_0x5d1f76(0x336)]=_0x2c0849,this[_0x5d1f76(0x33d)]=!0x1,this['forMusic']=_0xb376d9;}[a0_0x567640(0x1e8)](_0x51ca75){var _0x48db5b=a0_0x567640;hold?(this[_0x48db5b(0x33d)]=!0x0,this['x1']=Math[_0x48db5b(0x21e)](this[_0x48db5b(0x30b)][0x1],Math[_0x48db5b(0x21a)](this[_0x48db5b(0x30b)][0x0],cursorCoor[0x0]-this[_0x48db5b(0x34e)]/0x2)),this['y1']=Math['min'](this[_0x48db5b(0x265)][0x1],Math[_0x48db5b(0x21a)](this['boundY'][0x0],cursorCoor[0x1]-this['height']/0x2)),this['x2']=this['x1']+this['width'],this['y2']=this['y1']+this[_0x48db5b(0x217)],this[_0x48db5b(0x372)]?backgroundMusic['volume']=0.4*this[_0x48db5b(0x252)]():masterGain[_0x48db5b(0x324)][_0x48db5b(0x4d1)]=0.25*this['getVolume']()):this[_0x48db5b(0x33d)]=!0x1;}[a0_0x567640(0x252)](){var _0x462d77=a0_0x567640;return(this['x1']-this['boundX'][0x0])/(this['boundX'][0x1]-this[_0x462d77(0x30b)][0x0]);}[a0_0x567640(0x41c)](){var _0x15da37=a0_0x567640;let _0x4bc396=!0x1,_0x1cd7db=!0x1;click_in_bounds(this['x1'],this['y1'],this['x2'],this['y2'],function(){_0x1cd7db=!0x0;},function(){_0x4bc396=!0x0;}),(_0x1cd7db||this[_0x15da37(0x33d)])&&(_0x4bc396||this[_0x15da37(0x33d)])&&this[_0x15da37(0x1e8)](),draw_box_border(this['x1'],this['y1'],this['x2'],this['y2'],this[_0x15da37(0x24f)],this[_0x15da37(0x310)],this[_0x15da37(0x2e0)],this[_0x15da37(0x1f1)]),_0x4bc396||this['inMotion']?draw_filled_box(this['x1'],this['y1'],this['x2'],this['y2'],this['colorBorder'],_0x15da37(0x3ba)):draw_filled_box(this['x1'],this['y1'],this['x2'],this['y2'],this['colorBorder'],this[_0x15da37(0x336)]);}}class InterfaceBackground extends InterfaceElement{constructor(_0x1fbde7,_0x113a62,_0x3db3b9,_0x1f6d65,_0x24b4f8,_0x4435fa=!0x0,_0x560f74=!0x0,_0x194e1c=!0x0,_0x1095d2=!0x0){super(_0x1fbde7,_0x113a62,_0x3db3b9,_0x1f6d65,-0.9,_0x24b4f8,_0x4435fa,_0x560f74,_0x194e1c,_0x1095d2);}}class InterfaceForeground extends InterfaceElement{constructor(_0x536d67,_0x8590bb,_0x5cfe07,_0x58bf24,_0x343185,_0x2b8833=!0x0,_0x315ec3=!0x0,_0x510124=!0x0,_0x19c760=!0x0){super(_0x536d67,_0x8590bb,_0x5cfe07,_0x58bf24,-0.998,_0x343185,_0x2b8833,_0x315ec3,_0x510124,_0x19c760);}}class InterfaceButton extends InterfaceElement{constructor(_0x13c99a,_0x44a08c,_0x5ddf97,_0x58b33e,_0x50e2ef,_0x909202=function(){},_0x110776=a0_0x567640(0x3f1),_0x161bfa='18',_0x25d9f1=function(){return!0x0;}){var _0x5c1731=a0_0x567640;super(_0x13c99a,_0x44a08c,_0x5ddf97,_0x58b33e,-0.9985,_0x50e2ef,!0x0,!0x0,!0x0,!0x0),this[_0x5c1731(0x479)]=_0x909202,this[_0x5c1731(0x37f)]=_0x110776,this[_0x5c1731(0x4a0)]=_0x25d9f1,this['size']=_0x161bfa,this[_0x5c1731(0x366)]=!0x1;}[a0_0x567640(0x41c)](){var _0x3d2e20=a0_0x567640;if(this['imDrawn']=!0x1,!this[_0x3d2e20(0x4a0)]())return;let _0x19f721=!0x1;click_in_bounds(this['x1'],this['y1'],this['x2'],this['y2'],this[_0x3d2e20(0x479)],function(){_0x19f721=!0x0;}),draw_box_border(this['x1'],this['y1'],this['x2'],this['y2']),draw_centered_text((this['x1']+this['x2'])/0x2,(this['y1']+this['y2'])/0x2,this[_0x3d2e20(0x37f)],this[_0x3d2e20(0x2f9)]),gl[_0x3d2e20(0x496)](modelViewMatrixLoc,!0x1,flatten(this[_0x3d2e20(0x40d)])),_0x19f721?gl[_0x3d2e20(0x20f)](gl[_0x3d2e20(0x2ef)],elementVertices[GREY][0x0],elementVertices[GREY][0x1]):gl[_0x3d2e20(0x20f)](gl[_0x3d2e20(0x2ef)],elementVertices[this[_0x3d2e20(0x340)]][0x0],elementVertices[this[_0x3d2e20(0x340)]][0x1]),this['imDrawn']=!0x0;}}class InterfaceCanvasButton{constructor(_0xb652cd,_0x3fd454,_0x494ec7,_0x454b63,_0x4bb1cd=function(){},_0x5c296d=a0_0x567640(0x3f1),_0x1c35ba='18',_0x44e006=function(){return!0x0;},_0x27b2bf=a0_0x567640(0x446),_0x2eeddf=a0_0x567640(0x4cd)){var _0x827cc8=a0_0x567640;this['clickFunction']=_0x4bb1cd,this[_0x827cc8(0x37f)]=_0x5c296d,this[_0x827cc8(0x4a0)]=_0x44e006,this['size']=_0x1c35ba,this['imDrawn']=!0x1,this['x1']=_0xb652cd,this['x2']=_0x494ec7,this['y1']=_0x3fd454,this['y2']=_0x454b63,this['colorBorder']=_0x27b2bf,this[_0x827cc8(0x336)]=_0x2eeddf;}[a0_0x567640(0x41c)](){var _0x1cc714=a0_0x567640;if(this['imDrawn']=!0x1,!this['drawConditionFunction']())return;let _0x4d772f=!0x1;click_in_bounds(this['x1'],this['y1'],this['x2'],this['y2'],this[_0x1cc714(0x479)],function(){_0x4d772f=!0x0;}),draw_filled_box(this['x1'],this['y1'],this['x2'],this['y2'],this[_0x1cc714(0x2bb)],_0x4d772f?_0x1cc714(0x3ba):this[_0x1cc714(0x336)]),draw_centered_text((this['x1']+this['x2'])/0x2,(this['y1']+this['y2'])/0x2,this[_0x1cc714(0x37f)],this['size']),this[_0x1cc714(0x366)]=!0x0;}}var heldButtonCount=0x0,heldIndex=-0x1,clickedThisButton=!0x1;class InterfaceHeldButton extends InterfaceButton{constructor(_0x2ca021,_0xda3478,_0x52df91,_0x25153d,_0x19e98c,_0x4e42e0=function(){},_0x81b6ad='null',_0x3af6de=!0x1){var _0x5840b0=a0_0x567640;super(_0x2ca021,_0xda3478,_0x52df91,_0x25153d,_0x19e98c,_0x4e42e0,_0x81b6ad),this[_0x5840b0(0x2c7)]=heldButtonCount,heldButtonCount++,_0x3af6de&&(heldIndex=this['buttonID']);}[a0_0x567640(0x41c)](){var _0x45d103=a0_0x567640;let _0x4a41a5=!0x1;clickedThisButton=!0x1,click_in_bounds(this['x1'],this['y1'],this['x2'],this['y2'],this[_0x45d103(0x479)],function(){_0x4a41a5=!0x0;}),click_in_bounds(this['x1'],this['y1'],this['x2'],this['y2'],function(){clickedThisButton=!0x0;}),clickedThisButton&&(heldIndex=this[_0x45d103(0x2c7)]),clickedThisButton=!0x1,draw_box_border(this['x1'],this['y1'],this['x2'],this['y2']),draw_centered_text((this['x1']+this['x2'])/0x2,(this['y1']+this['y2'])/0x2,this[_0x45d103(0x37f)]),gl['uniformMatrix4fv'](modelViewMatrixLoc,!0x1,flatten(this[_0x45d103(0x40d)])),this[_0x45d103(0x2c7)]!=heldIndex?_0x4a41a5?gl[_0x45d103(0x20f)](gl[_0x45d103(0x2ef)],elementVertices[GREY][0x0],elementVertices[GREY][0x1]):gl['drawArrays'](gl['TRIANGLES'],elementVertices[this[_0x45d103(0x340)]][0x0],elementVertices[this[_0x45d103(0x340)]][0x1]):gl['drawArrays'](gl[_0x45d103(0x2ef)],elementVertices[BLACK][0x0],elementVertices[BLACK][0x1]);}}class InterfaceText{constructor(_0xaab29a,_0x8bc715,_0x295b4a,_0x50e057,_0x3ec856='null',_0x2322ab='18',_0x593ac2=!0x1,_0x5b11ae=null){var _0x2bdc82=a0_0x567640;this['x1']=_0xaab29a,this['y1']=_0x8bc715,this[_0x2bdc82(0x35c)]=_0x5b11ae,_0x2bdc82(0x298)==typeof _0x295b4a?(this['x2']=_0xaab29a,this['y2']=_0x8bc715,this[_0x2bdc82(0x37f)]=_0x295b4a,this[_0x2bdc82(0x2f9)]=_0x50e057,this[_0x2bdc82(0x2da)]=_0x3ec856):(this['x2']=_0x295b4a,this['y2']=_0x50e057,this[_0x2bdc82(0x37f)]=_0x3ec856,this['size']=_0x2322ab,this[_0x2bdc82(0x2da)]=_0x593ac2);}[a0_0x567640(0x41c)](){var _0x61fee9=a0_0x567640;null==this['getTextFrom']?this[_0x61fee9(0x2da)]?draw_left_text((this['x1']+this['x2'])/0x2,(this['y1']+this['y2'])/0x2,this['text'],this[_0x61fee9(0x2f9)]):draw_centered_text((this['x1']+this['x2'])/0x2,(this['y1']+this['y2'])/0x2,this['text'],this[_0x61fee9(0x2f9)]):this[_0x61fee9(0x2da)]?draw_left_text((this['x1']+this['x2'])/0x2,(this['y1']+this['y2'])/0x2,this[_0x61fee9(0x35c)](),this['size']):draw_centered_text((this['x1']+this['x2'])/0x2,(this['y1']+this['y2'])/0x2,this[_0x61fee9(0x35c)](),this['size']);}}function interface_push(_0x5ec829,_0x25da79,_0x504acb,_0x92c2ff){var _0x113b8d=a0_0x567640;vertices[_0x113b8d(0x4b3)](_0x5ec829),vertices[_0x113b8d(0x4b3)](_0x25da79),vertices[_0x113b8d(0x4b3)](_0x504acb);for(var _0x4f55fd=0x0;_0x4f55fd<0x3;_0x4f55fd++)colours[_0x113b8d(0x4b3)](_0x92c2ff),texCoords[_0x113b8d(0x4b3)](vec2(0x2,0x2)),normals['push'](vec3(0x0,0x0,0x0));}function build_interface_element(_0x5ddf0d=0x0){var _0x3e82ae,_0x268b27,_0x1c68a2,_0x1b5fb4,_0xa5d979=-0.999;_0x3e82ae=vec3(0x0,0x0,_0xa5d979),_0x268b27=vec3(0x1,0x0,_0xa5d979),_0x1c68a2=vec3(0x0,0x1,_0xa5d979),_0x1b5fb4=vec3(0x1,0x1,_0xa5d979),interface_push(_0x3e82ae,_0x268b27,_0x1c68a2,UI_COLOURS[_0x5ddf0d]),interface_push(_0x1b5fb4,_0x1c68a2,_0x268b27,UI_COLOURS[_0x5ddf0d]);}var elementVertices=[];function build_interface(){var _0x103f65=a0_0x567640;interface_matrix=mult(interface_matrix=scale4(0x1/(CANVAS_SIZE_X/0x2),0x1/(CANVAS_SIZE_Y/0x2),0x1),translate(-CANVAS_SIZE_X/0x2,-CANVAS_SIZE_Y/0x2,0x0));for(let _0xfaeba8=0x0;_0xfaeba8<UI_COLOURS[_0x103f65(0x240)];_0xfaeba8++){let _0x3756d2=[0x0,0x0];_0x3756d2[0x0]=vertices['length'],build_interface_element(_0xfaeba8),_0x3756d2[0x1]=vertices['length']-_0x3756d2[0x0],elementVertices[_0x103f65(0x4b3)](_0x3756d2);}add_interface_elements(),add_crafting_interface_elements(),add_interface_bottom_bar();}function draw_bottom_bar(){var _0x125124=a0_0x567640;set_ui_pv(),set_light_full();for(let _0x67db65=0x0;_0x67db65<bottomBarElements[_0x125124(0x240)];_0x67db65++)bottomBarElements[_0x67db65]['draw']();reset_pv();}function draw_interface_inventory(){var _0xe0b978=a0_0x567640;set_ui_pv(),set_light_full();for(let _0x3dc931=0x0;_0x3dc931<interfaceBackgrounds[_0xe0b978(0x240)];_0x3dc931++)interfaceBackgrounds[_0x3dc931]['draw']();draw_bottom_bar(),reset_pv();}function draw_interface_crafting(){var _0x3d19f7=a0_0x567640;set_ui_pv(),set_light_full();for(let _0x43c735=0x0;_0x43c735<craftingElements[_0x3d19f7(0x240)];_0x43c735++)craftingElements[_0x43c735][_0x3d19f7(0x41c)]();draw_bottom_bar(),reset_pv();}function draw_context_line(_0x11bb19,_0x4a1720,_0x547a04,_0x2c8be6,_0x2fe874='#FFFFFF'){var _0x31259c=a0_0x567640,_0x29f757=_0x11bb19*(canvas['width']/0x10),_0xdafe43=canvas[_0x31259c(0x217)]-_0x4a1720*(canvas[_0x31259c(0x217)]/0x9),_0x55cad2=_0x547a04*(canvas['width']/0x10),_0x395645=canvas['height']-_0x2c8be6*(canvas['height']/0x9);context[_0x31259c(0x3e2)](),context[_0x31259c(0x4aa)](_0x29f757,_0xdafe43),context['lineTo'](_0x55cad2,_0x395645),context[_0x31259c(0x248)]=_0x2fe874,context['lineWidth']=0x2,context[_0x31259c(0x1e6)](),context[_0x31259c(0x3d2)]=0x1;}function convert_to_canvas_coords(_0x4819e0,_0x29ebad){var _0x133b14=a0_0x567640;return[_0x4819e0*(canvas['width']/0x10),canvas[_0x133b14(0x217)]-_0x29ebad*(canvas[_0x133b14(0x217)]/0x9)];}function draw_box_border(_0x16cb41,_0xb4e9f6,_0x2ce289,_0x3a43b0,_0x53d514=!0x0,_0x305cf2=!0x0,_0xf5a613=!0x0,_0x5e9aa0=!0x0){var _0x49c027=a0_0x567640;if(_0x53d514||_0x305cf2||_0xf5a613||_0x5e9aa0){var _0x335da5=_0x16cb41*(canvas[_0x49c027(0x34e)]/0x10),_0x570dc5=canvas['height']-_0xb4e9f6*(canvas['height']/0x9),_0x1feda4=_0x2ce289*(canvas[_0x49c027(0x34e)]/0x10),_0x209778=canvas[_0x49c027(0x217)]-_0x3a43b0*(canvas[_0x49c027(0x217)]/0x9);context[_0x49c027(0x248)]=_0x49c027(0x446),context[_0x49c027(0x3d2)]=0x2,_0x53d514&&_0x305cf2&&_0xf5a613&&_0x5e9aa0?(context[_0x49c027(0x3e2)](),context[_0x49c027(0x331)](_0x335da5,_0x570dc5,_0x1feda4-_0x335da5,_0x209778-_0x570dc5)):(_0x53d514&&(context['beginPath'](),context[_0x49c027(0x4aa)](_0x335da5,_0x570dc5),context[_0x49c027(0x2d8)](_0x335da5,_0x209778),context[_0x49c027(0x1e6)]()),_0x305cf2&&(context[_0x49c027(0x3e2)](),context['moveTo'](_0x1feda4,_0x570dc5),context[_0x49c027(0x2d8)](_0x1feda4,_0x209778),context[_0x49c027(0x1e6)]()),_0xf5a613&&(context[_0x49c027(0x3e2)](),context[_0x49c027(0x4aa)](_0x335da5,_0x209778),context[_0x49c027(0x2d8)](_0x1feda4,_0x209778),context['stroke']()),_0x5e9aa0&&(context[_0x49c027(0x3e2)](),context[_0x49c027(0x4aa)](_0x335da5,_0x570dc5),context['lineTo'](_0x1feda4,_0x570dc5),context[_0x49c027(0x1e6)]())),context['lineWidth']=0x1;}}function draw_filled_box(_0x4b6b67,_0x4cba62,_0x151a53,_0x5e8771,_0x4d6b18='#CCC',_0x26c798=a0_0x567640(0x41b)){var _0x381f2d=a0_0x567640,_0x39d7c1=_0x4b6b67*(canvas[_0x381f2d(0x34e)]/0x10),_0x5176df=canvas['height']-_0x4cba62*(canvas[_0x381f2d(0x217)]/0x9),_0x19d3b1=_0x151a53*(canvas['width']/0x10),_0x5e824f=canvas[_0x381f2d(0x217)]-_0x5e8771*(canvas['height']/0x9),_0x522275=context[_0x381f2d(0x3b7)];context['fillStyle']=_0x26c798,context[_0x381f2d(0x248)]=_0x4d6b18,context[_0x381f2d(0x3d2)]=0x2,context[_0x381f2d(0x3e2)](),context[_0x381f2d(0x331)](_0x39d7c1,_0x5176df,_0x19d3b1-_0x39d7c1,_0x5e824f-_0x5176df),context[_0x381f2d(0x4d0)](_0x39d7c1,_0x5176df,_0x19d3b1-_0x39d7c1,_0x5e824f-_0x5176df),context[_0x381f2d(0x3b7)]=_0x522275,context[_0x381f2d(0x3d2)]=0x1;}function draw_left_text(_0x1abbbb,_0x31a3a2,_0x4cee9d,_0x49ed28='18'){var _0x4bd0f9=a0_0x567640;context['font']=_0x49ed28+_0x4bd0f9(0x402)+FONT,context['textAlign']=_0x4bd0f9(0x24f);var _0x5cd747=_0x1abbbb*(canvas[_0x4bd0f9(0x34e)]/0x10),_0x3df3d8=canvas['height']-_0x31a3a2*(canvas[_0x4bd0f9(0x217)]/0x9);context[_0x4bd0f9(0x2e3)]=_0x4bd0f9(0x288),context[_0x4bd0f9(0x3d7)](_0x4cee9d,_0x5cd747,_0x3df3d8),context[_0x4bd0f9(0x27b)]='left',context[_0x4bd0f9(0x2e3)]=_0x4bd0f9(0x21b);}function draw_right_text(_0xae1973,_0x5cba0a,_0x5a8398,_0x4af9cf='18'){var _0x1b117d=a0_0x567640;context['font']=_0x4af9cf+_0x1b117d(0x402)+FONT,context[_0x1b117d(0x27b)]=_0x1b117d(0x310);var _0x3ee278=_0xae1973*(canvas[_0x1b117d(0x34e)]/0x10),_0xb16e5e=canvas[_0x1b117d(0x217)]-_0x5cba0a*(canvas[_0x1b117d(0x217)]/0x9);context[_0x1b117d(0x2e3)]=_0x1b117d(0x288),context['fillText'](_0x5a8398,_0x3ee278,_0xb16e5e),context[_0x1b117d(0x27b)]=_0x1b117d(0x24f),context[_0x1b117d(0x2e3)]=_0x1b117d(0x21b);}function draw_centered_text(_0x29c90a,_0x531bd9,_0x4dca4a,_0x3323eb='18'){var _0x211637=a0_0x567640;context[_0x211637(0x2f7)]=_0x3323eb+_0x211637(0x402)+FONT,context[_0x211637(0x27b)]=_0x211637(0x400);var _0x325621=_0x29c90a*(canvas[_0x211637(0x34e)]/0x10),_0x4461d9=canvas[_0x211637(0x217)]-_0x531bd9*(canvas[_0x211637(0x217)]/0x9);context[_0x211637(0x2e3)]='middle',context[_0x211637(0x3d7)](_0x4dca4a,_0x325621,_0x4461d9),context[_0x211637(0x27b)]='left',context[_0x211637(0x2e3)]=_0x211637(0x21b);}function measure_text(_0xb8b324,_0x241cb6='18'){var _0x275619=a0_0x567640;let _0x496acb=0x0;return context[_0x275619(0x2f7)]=_0x241cb6+'px\x20'+FONT,context[_0x275619(0x27b)]='center',context[_0x275619(0x2e3)]=_0x275619(0x288),_0x496acb=context['measureText'](_0xb8b324)[_0x275619(0x34e)]/(canvas[_0x275619(0x34e)]/0x10),context['textAlign']=_0x275619(0x24f),context[_0x275619(0x2e3)]=_0x275619(0x21b),_0x496acb;}function get_draw_center(){return[0x8,4.5];}const WHITE=0x0,BLACK=0x1,DARK_GREY=0x2,GREY=0x3,LIGHT_GREY=0x4,DARKER_GREY=0x5,DARKEST_GREY=0x6,CLEAR_BLACK=0x7,ACTIVE_BORDER_COLOR=0x8,CLEAR=0x9,TESTRED=0xa;var UI_COLOURS=[vec4(0x1,0x1,0x1,0x1),vec4(0x0,0x0,0x0,0x1),vec4(0.25,0.25,0.25,0x1),vec4(0.5,0.5,0.5,0x1),vec4(0.75,0.75,0.75,0x1),vec4(0.1,0.1,0.1,0x1),vec4(0.05,0.05,0.05,0x1),vec4(0.1,0.1,0.1,0.1),vec4(0.5,0.55,0.5,0x1),vec4(0x0,0x0,0x0,0x0),vec4(0x1,0x0,0x0,0x1)],interfaceBackgrounds=[],craftingElements=[],bottomBarElements=[];const centerCoordinates=get_draw_center();function saveWorldButton(){var _0x4970ca=a0_0x567640;let _0xe40d89=new Popup(6.5,2.25);_0xe40d89[_0x4970ca(0x4b7)](new InterfaceCanvasButton(5.76,3.6,7.76,4.1,function(){var _0x552b29=_0x4970ca;_0xe40d89[_0x552b29(0x3db)]();},'Close')),_0xe40d89[_0x4970ca(0x4b7)](new InterfaceCanvasButton(8.26,3.6,10.26,4.1,saveWorld,'Save')),_0xe40d89['addElement'](new InterfaceText(centerCoordinates[0x0],centerCoordinates[0x1]+0.5,_0x4970ca(0x482),'18',!0x1)),_0xe40d89[_0x4970ca(0x4b7)](new InterfaceText(centerCoordinates[0x0],centerCoordinates[0x1]+0.1,'Note,\x20this\x20will\x20overwrite\x20your\x20existing\x20save!','18',!0x1)),pQueue[_0x4970ca(0x392)](_0xe40d89);}function loadWorldButton(){var _0x3bcaa9=a0_0x567640;let _0x4ca203=new Popup(6.5,2.25);_0x4ca203['addElement'](new InterfaceCanvasButton(5.76,3.6,7.76,4.1,function(){var _0x2d06c8=a0_0x21e0;_0x4ca203[_0x2d06c8(0x3db)]();},_0x3bcaa9(0x244))),_0x4ca203[_0x3bcaa9(0x4b7)](new InterfaceCanvasButton(8.26,3.6,10.26,4.1,loadWorld,_0x3bcaa9(0x43b))),_0x4ca203[_0x3bcaa9(0x4b7)](new InterfaceText(centerCoordinates[0x0],centerCoordinates[0x1]+0.5,'Load\x20world\x20from\x20the\x20cloud?','18',!0x1)),_0x4ca203['addElement'](new InterfaceText(centerCoordinates[0x0],centerCoordinates[0x1]+0.1,_0x3bcaa9(0x404),'18',!0x1)),pQueue['enqueue'](_0x4ca203);}function add_interface_bottom_bar(){var _0x1b4211=a0_0x567640,_0x5782d0=new InterfaceHeldButton(2.25,1.375,4.75,1.875,DARK_GREY,function(){var _0x1cf0eb=a0_0x21e0;currentMenu=_0x1cf0eb(0x3d8);},_0x1b4211(0x3ea),!0x0);bottomBarElements[_0x1b4211(0x4b3)](_0x5782d0);var _0x5efe59=new InterfaceHeldButton(5.25,1.375,7.75,1.875,DARK_GREY,function(){var _0x4fcafa=_0x1b4211;currentMenu=_0x4fcafa(0x204);},'Crafting');bottomBarElements[_0x1b4211(0x4b3)](_0x5efe59);var _0x2ef5fb=new InterfaceButton(8.25,1.375,10.75,1.875,DARK_GREY,saveWorldButton,_0x1b4211(0x4cb));bottomBarElements[_0x1b4211(0x4b3)](_0x2ef5fb);var _0x463a74=new InterfaceButton(11.25,1.375,13.75,1.875,DARK_GREY,loadWorldButton,'Load\x20World');bottomBarElements[_0x1b4211(0x4b3)](_0x463a74);var _0x2bf9c6=new InterfaceBackground(0x3,0.5,0xd,0x1,BLACK);bottomBarElements[_0x1b4211(0x4b3)](_0x2bf9c6);var _0x538df6=new InterfaceText(3.25,0.5,3.25,0x1,currentTrackInfo,'12',!0x0,getCurrentTrackInfo);bottomBarElements['push'](_0x538df6);var _0x140a9d=new InterfaceButton(10.8,0.6,11.8,0.9,DARK_GREY,resumeMusic,_0x1b4211(0x1e3),'12',function(){return!musicPlaying;});bottomBarElements['push'](_0x140a9d);var _0x54cb21=new InterfaceButton(10.8,0.6,11.8,0.9,DARK_GREY,pauseMusic,_0x1b4211(0x4c9),'12',function(){var _0x60f2c0=_0x1b4211;return musicPlaying&&!_0x140a9d[_0x60f2c0(0x366)];});bottomBarElements[_0x1b4211(0x4b3)](_0x54cb21);var _0x251a1a=new InterfaceButton(11.9,0.6,12.9,0.9,DARK_GREY,skipMusic,_0x1b4211(0x290),'12');bottomBarElements[_0x1b4211(0x4b3)](_0x251a1a);let _0x314553=0.25,_0x5efc5d=0xb,_0x3d6289=0.115;var _0x1ea12b=new InterfaceVolumeSlider(_0x5efc5d,_0x3d6289,_0x5efc5d+_0x314553,0.365,!0x0),_0x35706b=new InterfaceBackground(_0x5efc5d-0x1,0.165,_0x5efc5d+1.25,0.315,BLACK),_0x21f681=new InterfaceText(_0x5efc5d-1.7,0.24-0.01,_0x5efc5d-1.7,0.24-0.01,_0x1b4211(0x453),'12');bottomBarElements[_0x1b4211(0x4b3)](_0x35706b),bottomBarElements[_0x1b4211(0x4b3)](_0x1ea12b),bottomBarElements[_0x1b4211(0x4b3)](_0x21f681),_0x5efc5d=0x6,_0x1ea12b=new InterfaceVolumeSlider(_0x5efc5d,_0x3d6289,_0x5efc5d+_0x314553,0.365,!0x1),_0x35706b=new InterfaceBackground(_0x5efc5d-0x1,0.165,_0x5efc5d+1.25,0.315,BLACK),_0x21f681=new InterfaceText(_0x5efc5d-1.7,0.24-0.01,_0x5efc5d-1.7,0.24-0.01,_0x1b4211(0x442),'12'),bottomBarElements[_0x1b4211(0x4b3)](_0x35706b),bottomBarElements['push'](_0x1ea12b),bottomBarElements['push'](_0x21f681);}function add_interface_elements(){var _0x263e7b=a0_0x567640,_0x4e6f10=new InterfaceButton(10.25,2.1,11.5,2.4,DARK_GREY,on_click_hold,'Hold','14',draw_hold_condition);interfaceBackgrounds[_0x263e7b(0x4b3)](_0x4e6f10);var _0xe2a280=new InterfaceButton(0xc,2.1,13.25,2.4,DARK_GREY,on_click_drop,_0x263e7b(0x403),'14',draw_drop_condition);interfaceBackgrounds[_0x263e7b(0x4b3)](_0xe2a280);var _0x526c75=new InterfaceBackground(0x2,1.25,0xe,7.75,BLACK),_0x2afb5f=new InterfaceBackground(0x2,0x2,9.5,0x7,DARK_GREY,!0x1,!0x1,!0x1,!0x0),_0x232981=new InterfaceBackground(0xa,2.5,13.5,6.5,BLACK);interfaceBackgrounds[_0x263e7b(0x4b3)](_0x526c75),interfaceBackgrounds['push'](_0x2afb5f),interfaceBackgrounds[_0x263e7b(0x4b3)](_0x232981);var _0x457cb2=new InterfaceForeground(9.5,0x2,0xa,0x7,DARKEST_GREY,!0x0,!0x1,!0x0,!0x0),_0x1f02ff=new InterfaceForeground(13.5,0x2,0xe,0x7,DARKEST_GREY,!0x1,!0x1,!0x0,!0x0),_0x42551d=new InterfaceForeground(0xa,6.5,13.5,0x7,DARKEST_GREY,!0x1,!0x1,!0x0,!0x1),_0x189ae8=new InterfaceForeground(0xa,0x2,13.5,2.5,DARKEST_GREY,!0x1,!0x1,!0x1,!0x0);interfaceBackgrounds[_0x263e7b(0x4b3)](_0x457cb2),interfaceBackgrounds[_0x263e7b(0x4b3)](_0x1f02ff),interfaceBackgrounds[_0x263e7b(0x4b3)](_0x42551d),interfaceBackgrounds['push'](_0x189ae8);}function add_crafting_interface_elements(){var _0x3cf321=a0_0x567640,_0xef22e1=new InterfaceBackground(0x2,1.25,0xe,7.75,BLACK),_0xae3187=new InterfaceBackground(0x2,0x2,9.5,0x7,DARK_GREY,!0x1,!0x1,!0x1,!0x0),_0x1e245b=new InterfaceBackground(9.5,0x2,0xe,0x7,DARK_GREY,!0x1,!0x1,!0x1,!0x0),_0x443e21=new InterfaceBackground(9.6,2.7,13.9,6.6,GREY),_0x228345=new InterfaceBackground(9.6,2.1,13.9,2.6,GREY);craftingElements[_0x3cf321(0x4b3)](_0xef22e1),craftingElements[_0x3cf321(0x4b3)](_0xae3187),craftingElements['push'](_0x1e245b),craftingElements[_0x3cf321(0x4b3)](_0x443e21),craftingElements[_0x3cf321(0x4b3)](_0x228345);}function draw_crafting_menu(){var _0xa753ab=a0_0x567640;draw_c_text(2.2,6.685,_0xa753ab(0x461)),draw_c_text(9.7,6.685,_0xa753ab(0x29d)),draw_craftable_list(),tabListLength>0x4&&(gl[_0xa753ab(0x20f)](gl[_0xa753ab(0x2ef)],startDraw[0x5],endDraw[0x5]),draw_scroll_bar()),draw_inventory_cursor(),reset_mv(),draw_interface_crafting();}var craftableList,craftListOffset=0x0,itemToCraft=-0x1;function draw_craftable_list(){var _0x286d22=a0_0x567640;click_in_bounds(9.2125,6.675,9.485,6.9875,function(){craftListOffset>0x0&&(craftListOffset--,itemToCraft++);}),click_in_bounds(9.2125,2.25,9.485,2.01,function(){craftListOffset++,itemToCraft--;}),click_in_bounds(2.1125,6.5875,9.2,5.6,function(){itemToCraft=0x0,startPos=0x0;},function(){hoveredEntry=0x0;}),click_in_bounds(2.1125,6.5875-difference,9.2,5.6-difference,function(){itemToCraft=0x1,startPos=0x0;},function(){hoveredEntry=0x1;}),click_in_bounds(2.1125,6.5875-0x2*difference,9.2,5.6-0x2*difference,function(){itemToCraft=0x2,startPos=0x0;},function(){hoveredEntry=0x2;}),click_in_bounds(2.1125,6.5875-0x3*difference,9.2,5.6-0x3*difference,function(){itemToCraft=0x3,startPos=0x0;},function(){hoveredEntry=0x3;}),craftableListLength=craftableList[_0x286d22(0x240)];for(var _0x40b32c=0x0;_0x40b32c<Math[_0x286d22(0x21e)](craftableListLength-craftListOffset,0x4);_0x40b32c++){var _0x3d0c11=translate(0x0,start+difference*(0x3-_0x40b32c),0x0);set_mv_ui(_0x3d0c11),draw_c_text(textX,start+difference*(0x3-_0x40b32c)+0.65,craftableList[_0x40b32c+craftListOffset][_0x286d22(0x472)]),draw_c_text_small(textX+0.05,start+difference*(0x3-_0x40b32c)+0.45,craftableList[_0x40b32c+craftListOffset][_0x286d22(0x23c)]),draw_c_text_med(textX+4.65,start+0.12+difference*(0x3-_0x40b32c),player[_0x286d22(0x276)][_0x286d22(0x3a3)](craftableList[_0x40b32c+craftListOffset])),itemToCraft==_0x40b32c?(gl[_0x286d22(0x20f)](gl['TRIANGLES'],startDraw[0x3],endDraw[0x3]),draw_recipe_list(craftableList[_0x40b32c+craftListOffset])):hoveredEntry==_0x40b32c?gl[_0x286d22(0x20f)](gl[_0x286d22(0x2ef)],hoverEntryVertices[0x0],hoverEntryVertices[0x1]):gl[_0x286d22(0x20f)](gl[_0x286d22(0x2ef)],startDraw[0x4],endDraw[0x4]),draw_craftable_item(craftableList[_0x40b32c+craftListOffset],_0x3d0c11);}reset_mv();}var squareSrt=[],squareEnd=[];function build_2D_square(_0x441a40,_0x51edb1){var _0x5a2922=a0_0x567640,_0x2db9e9,_0x56d6ff,_0x465e23,_0x26282f;squareSrt[_0x51edb1]=vertices['length'],vec3(0.5,0.5,0x0),vec3(-0.5,0.5,0x0),vec3(-0.5,-0.5,0x0),vec3(0.5,-0.5,0x0),_0x2db9e9=vec3(0x1,0x1,0x0),_0x56d6ff=vec3(0x0,0x1,0x0),_0x465e23=vec3(0x0,0x0,0x0),_0x26282f=vec3(0x1,0x0,0x0),ui_push(_0x2db9e9,_0x56d6ff,_0x465e23,_0x441a40),ui_push(_0x465e23,_0x26282f,_0x2db9e9,_0x441a40),squareEnd[_0x51edb1]=vertices[_0x5a2922(0x240)]-squareSrt[_0x51edb1];}function draw_2D_square(_0x3bf8df,_0x5a3f77){var _0x11cf57=a0_0x567640;set_mv_ui(_0x3bf8df),gl[_0x11cf57(0x20f)](gl[_0x11cf57(0x2ef)],squareSrt[_0x5a3f77],squareEnd[_0x5a3f77]),reset_mv();}function draw_craftable_item(_0x221bec,_0x51f694){var _0x4e586a=a0_0x567640;'ITEM'==_0x221bec[_0x4e586a(0x2c9)]?(_0x51f694=mult(_0x51f694,translate(2.25,0.15,zLay-0.3)),_0x51f694=mult(_0x51f694,scale4(0.35,0.35,0.001)),_0x51f694=mult(_0x51f694,rotateZ(-0x23))):(_0x51f694=mult(_0x51f694,translate(2.5,0.15,zLay-0.3)),_0x51f694=mult(_0x51f694,scale4(0.5,0.45,0.001)),_0x51f694=mult(_0x51f694,rotateZ(0x2d)),_0x51f694=mult(_0x51f694,rotateX(0x2d)),_0x51f694=mult(_0x51f694,rotateY(0x37))),set_mv_ui(_0x51f694),gl[_0x4e586a(0x20f)](gl['TRIANGLES'],_0x221bec['index'],_0x221bec[_0x4e586a(0x306)]);}function build_craft_list(){var _0x361abc=a0_0x567640,_0x279780=[vec4(0x1,0x1,0x1,0x1),vec4(0x0,0x0,0x0,0x1),vec4(0.25,0.25,0.25,0x1),vec4(0.5,0.5,0.5,0x1),vec4(0.75,0.75,0.75,0x1),vec4(0.1,0.1,0.1,0x1),vec4(0.05,0.05,0.05,0x1)];craftableList=[new WoodBlock(),new StoneBlock()];for(var _0x427dd1=0x0;_0x427dd1<_0x279780[_0x361abc(0x240)];_0x427dd1++)build_2D_square(_0x279780[_0x427dd1],_0x427dd1);}var startPos=0x0;function draw_recipe_list(_0xbf6d5b){var _0x5c9295=a0_0x567640,_0x845f6=!0x1;_0xbf6d5b[_0x5c9295(0x3c0)]()?(draw_c_text_med(9.75,2.3,_0x5c9295(0x2d3)),draw_2D_square(mult(translate(9.65,2.15,-9.1),scale4(0.75,0.4,0x1)),DARKEST_GREY),click_in_bounds(9.65,2.15,10.4,2.55,function(){var _0x3e065a=_0x5c9295;_0xbf6d5b[_0x3e065a(0x2ab)]();})):draw_c_text_med(9.75,2.3,'CANNOT\x20CRAFT'),draw_c_text_small(12.75,2.3,'QUANTITY:'),draw_c_text_small(13.5,2.3,player[_0x5c9295(0x49a)](_0xbf6d5b));var _0x50cc9e=_0xbf6d5b[_0x5c9295(0x408)]();if(null!=_0x50cc9e){_0x50cc9e['length']>0x4&&(_0x845f6=!0x0),_0x845f6&&(draw_2D_square(mult(translate(13.75,2.7,-9.1),scale4(0.15,3.9,0x1)),DARKER_GREY),draw_2D_square(mult(translate(13.75,2.7,-9.1),scale4(0.15,0.15,0x1)),BLACK),draw_2D_square(mult(translate(13.75,6.45,-9.1),scale4(0.15,0.15,0x1)),BLACK),click_in_bounds(13.75,6.45,13.9,6.6,function(){startPos>0x0&&startPos--;}),click_in_bounds(13.75,2.7,13.9,2.85,function(){var _0x170d75=_0x5c9295;startPos+0x5<=_0x50cc9e[_0x170d75(0x240)]&&startPos++;}));for(var _0x250007=startPos;_0x250007<Math[_0x5c9295(0x21e)](_0x50cc9e[_0x5c9295(0x240)]+startPos,Math[_0x5c9295(0x21e)](_0x50cc9e[_0x5c9295(0x240)],0x4+startPos));_0x250007++)draw_2D_square(mult(translate(9.6,5.69-(_0x250007-startPos),-0x9),scale4(_0x845f6?4.15:4.3,0.91,0x1)),DARKEST_GREY),draw_2D_square(mult(translate(9.74,5.725-(_0x250007-startPos),-0x9),scale4(0.84,0.82,0x1)),BLACK),draw_craftable_item(_0x50cc9e[_0x250007][0x0],translate(7.57,5.625-(_0x250007-startPos),0x0)),draw_c_text(10.65,6.1-(_0x250007-startPos),_0x50cc9e[_0x250007][0x0][_0x5c9295(0x472)]),draw_c_text_small(10.65,5.9-(_0x250007-startPos),_0x5c9295(0x4c0)),draw_c_text_small(11.4,5.9-(_0x250007-startPos),_0x50cc9e[_0x250007][0x1]),draw_c_text_small(12.65,5.9-(_0x250007-startPos),_0x5c9295(0x226)),draw_c_text_small(13.4,5.9-(_0x250007-startPos),player['getObjectQuantity'](_0x50cc9e[_0x250007][0x0]));}}xSpin=0x0,controlledXSpin=0x0,controlledYSpin=0x0;function draw_recipe_list2(_0x460fbd){var _0x1e845c=a0_0x567640,_0x433b40=mat4();_0x433b40=translate(11.8,4.25,-9.45),0x0==modelTestMode?(xSpin>=0x168&&(xSpin=0x0),_0x1e845c(0x2e6)==_0x460fbd[_0x1e845c(0x2c9)]?(_0x433b40=mult(_0x433b40,translate(1.22,-1.05,0x0)),_0x433b40=mult(_0x433b40,scale4(1.25,1.25,0.01)),_0x433b40=mult(_0x433b40,rotateZ(0x2d)),_0x433b40=mult(_0x433b40,rotateY(xSpin)),_0x433b40=mult(_0x433b40,rotateX(0xf)),xSpin+=0x2):(_0x433b40=mult(_0x433b40,scale4(1.5,1.5,0.01)),_0x433b40=mult(_0x433b40,rotateX(xSpin)),_0x433b40=mult(_0x433b40,rotateZ(xSpin)),xSpin++)):(_0x433b40=mult(_0x433b40,translate(-0.05,-0.75,0x0)),_0x433b40=mult(_0x433b40,scale4(0.85,0.85,0.01)),_0x433b40=mult(_0x433b40,rotateY(controlledXSpin)),_0x433b40=mult(_0x433b40,rotateX(controlledYSpin))),set_mv_ui(_0x433b40),gl[_0x1e845c(0x20f)](gl['TRIANGLES'],_0x460fbd[_0x1e845c(0x303)],_0x460fbd[_0x1e845c(0x306)]);}class Item extends zObject{constructor(_0x5da22d,_0x2c54ed,_0x2d4ee3,_0x1efae3){var _0x1a5a4a=a0_0x567640;super(),this[_0x1a5a4a(0x246)]=_0x5da22d,this[_0x1a5a4a(0x433)]=_0x2c54ed,this[_0x1a5a4a(0x328)]=_0x2d4ee3,this[_0x1a5a4a(0x40d)]=translate(this[_0x1a5a4a(0x246)],this['posY'],this['posZ']),this[_0x1a5a4a(0x3a8)]=_0x1efae3,this[_0x1a5a4a(0x303)],this['numberOfVerts'],this['name']='NULL',this['objectNumber']=null,this['desc']=_0x1a5a4a(0x376),this[_0x1a5a4a(0x395)]=_0x1a5a4a(0x45c),this[_0x1a5a4a(0x2c9)]=_0x1a5a4a(0x2e6);}['sendData'](){this['renderFunction']();}[a0_0x567640(0x3da)](_0x1e5d08){var _0x181299=a0_0x567640;gl[_0x181299(0x496)](modelViewMatrixLoc,!0x1,flatten(_0x1e5d08)),gl['drawArrays'](gl['TRIANGLES'],this[_0x181299(0x303)],this[_0x181299(0x306)]);}['draw'](){var _0x3757f0=a0_0x567640;set_mv(this[_0x3757f0(0x40d)]),gl[_0x3757f0(0x20f)](gl[_0x3757f0(0x2ef)],this[_0x3757f0(0x303)],this[_0x3757f0(0x266)]());}}class Tool extends Item{constructor(_0x104f7c,_0x4406ac,_0x8db642,_0x3a42f1,_0x2accb9){var _0x3ca706=a0_0x567640;super(_0x104f7c,_0x4406ac,_0x8db642,_0x3a42f1),this[_0x3ca706(0x385)]=_0x2accb9,this[_0x3ca706(0x395)]=_0x3ca706(0x3e8),this[_0x3ca706(0x2ae)]=_0x3ca706(0x4c3);}}class WoodAxe extends Tool{constructor(_0x6c930b=null,_0x5ab56a=null,_0x293a85=null){var _0x4a95a2=a0_0x567640;super(_0x6c930b,_0x5ab56a,_0x293a85,build_axe,0x1),this[_0x4a95a2(0x303)]=axeStart,this[_0x4a95a2(0x306)]=axeVerts,this[_0x4a95a2(0x2ae)]=_0x4a95a2(0x3ef),this[_0x4a95a2(0x472)]=_0x4a95a2(0x32c),this[_0x4a95a2(0x23c)]=_0x4a95a2(0x4c5),this[_0x4a95a2(0x44a)]=0x40;}}class StonePickaxe extends Tool{constructor(_0x28850d=null,_0x5c8688=null,_0x485df7=null){var _0x41d8dd=a0_0x567640;super(_0x28850d,_0x5c8688,_0x485df7,build_pickaxe,0x1),this['index']=pickaxeStart,this[_0x41d8dd(0x306)]=pickaxeVerts,this[_0x41d8dd(0x2ae)]='PICK_AXE',this[_0x41d8dd(0x472)]=_0x41d8dd(0x23b),this[_0x41d8dd(0x23c)]=_0x41d8dd(0x1fb),this[_0x41d8dd(0x44a)]=0x41;}}class Weapon extends Item{constructor(_0x67e794,_0x3e3fe5,_0x272cd2,_0xcdd653,_0x4b6f17){var _0x4ea5fb=a0_0x567640;super(_0x67e794,_0x3e3fe5,_0x272cd2,_0xcdd653),this[_0x4ea5fb(0x385)]=_0x4b6f17,this[_0x4ea5fb(0x395)]='WEAPON';}}class WoodenBow extends Weapon{constructor(_0x2b562f=null,_0x530322=null,_0x38820f=null){var _0x35ef03=a0_0x567640;super(_0x2b562f,_0x530322,_0x38820f,build_bow,0x1),this[_0x35ef03(0x303)]=bowStart,this[_0x35ef03(0x306)]=bowVerts,this[_0x35ef03(0x229)]=_0x35ef03(0x28d),this[_0x35ef03(0x472)]=_0x35ef03(0x27c),this[_0x35ef03(0x23c)]='A\x20wooden\x20bow.',this[_0x35ef03(0x4a3)]=_0x35ef03(0x1d9),this[_0x35ef03(0x44a)]=0x42,this[_0x35ef03(0x32d)]=0xa;}[a0_0x567640(0x410)](){var _0x57d16e=a0_0x567640;return projectileCooldown<=0x0&&(projectileArray['push'](new Arrow(cursorDirection,cursorPower,player[_0x57d16e(0x246)],player['posY'],-0x3)),sound_ArrowShoot(),projectileCooldown=this[_0x57d16e(0x32d)],!0x0);}['onHold'](){blockCursor=!0x1;}[a0_0x567640(0x357)](){blockCursor=!0x0;}}var cursorDirection,cursorPower,bowVectorVertices=0x0;function make_bow_vector(){var _0x4a5c45,_0x478824,_0x47d4d2,_0x5bc588,_0x5e2f81,_0x5414b4=vec4(0.75,0.85,0.8,0x1),_0x126556=0.2;return _0x4a5c45=vec3(-0.2,-0.2,-0.2),_0x478824=vec3(0x0,0x1,0x0),_0x47d4d2=vec3(0.2,-0.2,-0.2),_0x5bc588=vec3(-0.2,-0.2,_0x126556),_0x5e2f81=vec3(0.2,-0.2,_0x126556),bowVectorVertices+=bow_vector_push(_0x4a5c45,_0x47d4d2,_0x478824,_0x5414b4),bowVectorVertices+=bow_vector_push(_0x5bc588,_0x478824,_0x5e2f81,_0x5414b4),bowVectorVertices+=bow_vector_push(_0x4a5c45,_0x47d4d2,_0x5bc588,_0x5414b4),bowVectorVertices+=bow_vector_push(_0x5bc588,_0x47d4d2,_0x5e2f81,_0x5414b4),bowVectorVertices+=bow_vector_push(_0x4a5c45,_0x478824,_0x5bc588,_0x5414b4),bowVectorVertices+=bow_vector_push(_0x478824,_0x47d4d2,_0x5e2f81,_0x5414b4),0x3;}function bow_vector_push(_0x549590,_0x2b497f,_0x3da4da,_0xfabbfe=vec4(0x1,0x1,0x1,0x1)){var _0x2cd611=a0_0x567640;vertices[_0x2cd611(0x4b3)](_0x549590),vertices[_0x2cd611(0x4b3)](_0x2b497f),vertices[_0x2cd611(0x4b3)](_0x3da4da),colours[_0x2cd611(0x4b3)](_0xfabbfe),colours[_0x2cd611(0x4b3)](_0xfabbfe),colours[_0x2cd611(0x4b3)](_0xfabbfe);var _0x15d210=normalize(cross(subtract(_0x2b497f,_0x549590),subtract(_0x3da4da,_0x549590)));_0x15d210=vec3(_0x15d210);for(var _0x59d4dd=0x0;_0x59d4dd<0x3;_0x59d4dd++)normals[_0x2cd611(0x4b3)](_0x15d210),texCoords[_0x2cd611(0x4b3)](vec2(0x2,0x2));return 0x3;}function ui_push_example(_0x38a2db,_0x444ab8,_0x3efdd1,_0x5eb281=vec4(0x1,0x0,0x0,0x1),_0x3d44b6=_0x5eb281,_0x9bc0db=_0x5eb281){var _0x3aa833=a0_0x567640;vertices[_0x3aa833(0x4b3)](_0x38a2db),vertices[_0x3aa833(0x4b3)](_0x444ab8),vertices[_0x3aa833(0x4b3)](_0x3efdd1),colours[_0x3aa833(0x4b3)](_0x5eb281),colours[_0x3aa833(0x4b3)](_0x3d44b6),colours[_0x3aa833(0x4b3)](_0x9bc0db);for(var _0x353e70=0x0;_0x353e70<0x3;_0x353e70++)texCoords[_0x3aa833(0x4b3)](vec2(0x2,0x2)),normals[_0x3aa833(0x4b3)](vec3(0x0,0x0,0x0));return 0x3;}function polarToCartesian(_0x2c66ae,_0x74238b){var _0x51aee0=a0_0x567640;return[-_0x2c66ae*Math[_0x51aee0(0x211)](_0x74238b),_0x2c66ae*Math['cos'](_0x74238b)];}function toRad(_0x19fe0f){return _0x19fe0f*(Math['PI']/0xb4);}var bowVectorRotate=0x0;function draw_bow_vector(_0x5dd241=0x0,_0x571eef=0x0,_0x346a2a=0x0){var _0x370784=a0_0x567640,_0x45a8eb,_0x138788,_0x22bbaf=cursorCoordinates[0x1]-(player['posY']-0.5),_0x27a6c3=cursorCoordinates[0x0]-(player[_0x370784(0x246)]-0.5),_0x4581dc=Math[_0x370784(0x4db)](_0x22bbaf/_0x27a6c3);_0x45a8eb=rotateZ(cursorDirection=_0x27a6c3<0x0?0x5a+0xb4*_0x4581dc/Math['PI']:0x10e+0xb4*_0x4581dc/Math['PI']),_0x138788=1.3*Math[_0x370784(0x45a)](_0x22bbaf*_0x22bbaf+_0x27a6c3*_0x27a6c3),_0x138788=Math[_0x370784(0x21e)](_0x138788,2.5),cursorPower=_0x138788/2.83,cursorPower=Math[_0x370784(0x21a)](0.4,cursorPower);var _0x32a26f=polarToCartesian(_0x138788,toRad(cursorDirection)),_0x2e579f=mult(scale4(0.125+cursorPower/1.25,cursorPower,0x1),rotateY(bowVectorRotate)),_0x49bf6d=mult(translate(_0x32a26f[0x0]+player[_0x370784(0x246)],_0x32a26f[0x1]+player[_0x370784(0x433)],_0x346a2a),_0x45a8eb);set_mv(mult(_0x49bf6d,_0x2e579f)),set_light(),set_light_arrow_vector(mult(mult(modelViewMatrix,_0x49bf6d),vec4(0x0,0x0,-0x2,0x1))),gl[_0x370784(0x20f)](gl[_0x370784(0x2ef)],bowVectorStart,bowVectorVertices),bowVectorRotate=(bowVectorRotate+0.5)%0x168;}function item_push_verts(_0x1b411c,_0x24b158,_0x3e4ad4,_0x1ba866){var _0x3d7958=a0_0x567640;vertices[_0x3d7958(0x4b3)](_0x1b411c),vertices[_0x3d7958(0x4b3)](_0x24b158),vertices['push'](_0x3e4ad4);for(var _0x25d8b5=0x0;_0x25d8b5<0x3;_0x25d8b5++)colours['push'](_0x1ba866),normals[_0x3d7958(0x4b3)](vec3(0x0,0x0,0x0)),texCoords['push'](vec2(0x2,0x2));}var axeVerts=0x0;function build_axe(){var _0x4210da=vec4(0.9,0.6,0.15,0x1),_0x4f8a4b=vec4(0.5,0.5,0.5,0x1);vec4(0x1,0x0,0x0,0x1),(axeVerts=buildRectangularPrism(0x0,0x2,-0.025,0.25,0.05,0.025,_0x4210da),axeVerts+=buildRectangularPrism(0.25,2.5,-0.025,0x0,2.4,0.025,_0x4210da));var _0x2027f1=vec3(0.35,0x2,0.05),_0x453b69=vec3(0.6,1.8,0x0),_0xf4bfab=vec3(0.6,2.6,0x0),_0x7a82c4=vec3(0.35,2.4,0.05);axeVerts+=buildArbQuadrilateral(_0x2027f1,_0x453b69,_0xf4bfab,_0x7a82c4,_0x4f8a4b),_0x2027f1=vec3(0.35,0x2,-0.05),_0x7a82c4=vec3(0.35,2.4,-0.05),axeVerts+=buildArbQuadrilateral(_0x2027f1,_0x453b69,_0xf4bfab,_0x7a82c4,_0x4f8a4b),pushvs(_0x2027f1=vec3(0.6,2.6,0x0),_0x453b69=vec3(0.35,2.4,-0.05),_0xf4bfab=vec3(0.35,2.4,0.05),_0x4f8a4b),pushvs(_0x2027f1=vec3(0.6,1.8,0x0),_0x453b69=vec3(0.35,0x2,-0.05),_0xf4bfab=vec3(0.35,0x2,0.05),_0x4f8a4b),axeVerts+=0x6,axeVerts+=buildRectangularPrism(0.35,2.4,-0.05,-0.1,0x2,0.05,_0x4f8a4b),_0x2027f1=vec3(-0.1,0x2,0.05),_0x453b69=vec3(-0.1,2.4,0.05),_0xf4bfab=vec3(-0.25,2.45,0x0),_0x7a82c4=vec3(-0.25,1.95,0x0),axeVerts+=buildArbQuadrilateral(_0x2027f1,_0x453b69,_0xf4bfab,_0x7a82c4,_0x4f8a4b),_0x2027f1=vec3(-0.1,0x2,-0.05),_0x453b69=vec3(-0.1,2.4,-0.05),axeVerts+=buildArbQuadrilateral(_0x2027f1,_0x453b69,_0xf4bfab,_0x7a82c4,_0x4f8a4b),pushvs(_0x2027f1=vec3(-0.1,2.4,0.05),_0x453b69=vec3(-0.1,2.4,-0.05),_0xf4bfab=vec3(-0.25,2.45,0x0),_0x4f8a4b),pushvs(_0x2027f1=vec3(-0.1,0x2,0.05),_0x453b69=vec3(-0.1,0x2,-0.05),_0xf4bfab=vec3(-0.25,1.95,0x0),_0x4f8a4b),axeVerts+=0x6;}var pickaxeVerts=0x0;function build_pickaxe(){var _0x5c3829=vec4(0.9,0.6,0.15,0x1),_0x3f231e=vec4(0.5,0.5,0.5,0x1);vec4(0x1,0x0,0x0,0x1),(pickaxeVerts=buildRectangularPrism(0x0,0x2,-0.025,0.25,0.05,0.025,_0x5c3829),pickaxeVerts+=buildRectangularPrism(0.25,2.5,-0.025,0x0,2.4,0.025,_0x5c3829));var _0x5d34af=vec3(0.35,0x2,0.05),_0x3977a4=vec3(0.7,1.8,0x0),_0x577b46=vec3(0.7,1.8,0x0),_0x4a55ef=vec3(0.35,2.4,0.05);pickaxeVerts+=buildArbQuadrilateral(_0x5d34af,_0x3977a4,_0x577b46,_0x4a55ef,_0x3f231e),_0x5d34af=vec3(0.35,0x2,-0.05),_0x4a55ef=vec3(0.35,2.4,-0.05),pickaxeVerts+=buildArbQuadrilateral(_0x5d34af,_0x3977a4,_0x577b46,_0x4a55ef,_0x3f231e),pushvs(_0x5d34af=vec3(0.7,1.8,0x0),_0x3977a4=vec3(0.35,2.4,-0.05),_0x577b46=vec3(0.35,2.4,0.05),_0x3f231e),pushvs(_0x5d34af=vec3(0.7,1.8,0x0),_0x3977a4=vec3(0.35,0x2,-0.05),_0x577b46=vec3(0.35,0x2,0.05),_0x3f231e),pickaxeVerts+=0x6,pickaxeVerts+=buildRectangularPrism(0.35,2.4,-0.05,-0.1,0x2,0.05,_0x3f231e),(_0x5d34af=vec3(-0.1,0x2,0.05),_0x3977a4=vec3(-0.45,1.8,0x0),_0x577b46=vec3(-0.45,1.8,0x0),_0x4a55ef=vec3(-0.1,2.4,0.05)),(pickaxeVerts+=buildArbQuadrilateral(_0x3977a4,_0x5d34af,_0x4a55ef,_0x577b46,_0x3f231e),_0x5d34af=vec3(-0.1,0x2,-0.05),_0x4a55ef=vec3(-0.1,2.4,-0.05),pickaxeVerts+=buildArbQuadrilateral(_0x3977a4,_0x5d34af,_0x4a55ef,_0x577b46,_0x3f231e),_0x5d34af=vec3(-0.45,1.8,0x0),_0x3977a4=vec3(-0.1,2.4,-0.05),pushvs(_0x5d34af,_0x577b46=vec3(-0.1,2.4,0.05),_0x3977a4,_0x3f231e),_0x5d34af=vec3(-0.45,1.8,0x0),_0x3977a4=vec3(-0.1,0x2,-0.05),pushvs(_0x5d34af,_0x577b46=vec3(-0.1,0x2,0.05),_0x3977a4,_0x3f231e),pickaxeVerts+=0x6);}var bowVerts=0x0;function build_bow(){vec4(0.9,0.6,0.15,0x1);var _0x30f9f9=vec4(0.9,0.6,0.15,0x1);vec4(0x1,0x0,0x0,0x1);const _0x5a9a9b=vec4(0.3,0.3,0.3,0x1);bowVerts=buildRectangularPrism(-0.018,2.5,-0.018,0.018,0x0,0.018,_0x5a9a9b);var _0x1c421e=vec3(0.15,2.45,0.05),_0xeb3feb=vec3(0.15,2.35,0.05),_0x3542e9=vec3(0.7,1.25,0x0),_0x5e04b7=vec3(0.7,1.25,0x0);bowVerts+=buildArbQuadrilateral(_0x1c421e,_0x3542e9,_0x5e04b7,_0xeb3feb,_0x30f9f9),_0x1c421e=vec3(0.15,2.35,-0.05),_0xeb3feb=vec3(0.15,2.45,-0.05),bowVerts+=buildArbQuadrilateral(_0x1c421e,_0x3542e9,_0x5e04b7,_0xeb3feb,_0x30f9f9),pushvs(_0x1c421e=vec3(0.7,1.25,0x0),_0x3542e9=vec3(0.15,2.45,-0.05),_0x5e04b7=vec3(0.15,2.45,0.05),_0x30f9f9),pushvs(_0x1c421e=vec3(0.7,1.25,0x0),_0x3542e9=vec3(0.15,2.35,-0.05),_0x5e04b7=vec3(0.15,2.35,0.05),_0x30f9f9),bowVerts+=0x6,bowVerts+=buildRectangularPrism(0.15,2.45,-0.05,-0.1,2.35,0.05,_0x30f9f9),(_0x1c421e=vec3(0.15,2.5-2.45,0.05),_0xeb3feb=vec3(0.15,2.5-2.35,0.05),_0x3542e9=vec3(0.7,1.25,0x0),_0x5e04b7=vec3(0.7,1.25,0x0)),(bowVerts+=buildArbQuadrilateral(_0x1c421e,_0x3542e9,_0x5e04b7,_0xeb3feb,_0x30f9f9),_0x1c421e=vec3(0.15,2.5-2.35,-0.05),_0xeb3feb=vec3(0.15,2.5-2.45,-0.05),bowVerts+=buildArbQuadrilateral(_0x1c421e,_0x3542e9,_0x5e04b7,_0xeb3feb,_0x30f9f9),pushvs(_0x1c421e=vec3(0.7,1.25,0x0),_0x3542e9=vec3(0.15,2.5-2.45,-0.05),_0x5e04b7=vec3(0.15,2.5-2.45,0.05),_0x30f9f9),pushvs(_0x1c421e=vec3(0.7,1.25,0x0),_0x3542e9=vec3(0.15,2.5-2.35,-0.05),_0x5e04b7=vec3(0.15,2.5-2.35,0.05),_0x30f9f9),bowVerts+=0x6,bowVerts+=buildRectangularPrism(0.15,2.5-2.45,-0.05,-0.1,2.5-2.35,0.05,_0x30f9f9),bowVerts+=buildRectangularPrism(0.7-0.02-0.03,1.12,-0.025,0.69,1.38,0.025,vec4(0.1,0.1,0.1,0x1)));}class Recipe{constructor(_0xe68d60=null){var _0x1b3fc7=a0_0x567640;this[_0x1b3fc7(0x2c9)]='REC',this[_0x1b3fc7(0x472)]=_0xe68d60['name']+_0x1b3fc7(0x3e4),this[_0x1b3fc7(0x22f)]=_0xe68d60,this['id'],this[_0x1b3fc7(0x497)]=null,this[_0x1b3fc7(0x339)]=_0x1b3fc7(0x4c3),this[_0x1b3fc7(0x44a)]=-0x1;}[a0_0x567640(0x3da)](){}}class WorkBenchRecipe extends Recipe{constructor(){var _0x3221ae=a0_0x567640;super(WorkBench),this[_0x3221ae(0x44a)]=0x80;}}class Projectile{constructor(_0x1f3c97,_0x4baa4c,_0x1d9488,_0x4e2a38=null,_0x27a5c1=null,_0x2cdba2=null){var _0x143d15=a0_0x567640;this[_0x143d15(0x3a8)]=_0x1f3c97,this[_0x143d15(0x470)]=_0x4baa4c,this['power']=_0x1d9488,this[_0x143d15(0x303)]=0x0,this[_0x143d15(0x2aa)]=0x0,this[_0x143d15(0x401)]=0x0,this[_0x143d15(0x39b)]=0x18,this[_0x143d15(0x201)]=[vec4(-0x1,-0x1,-0x1,0x1),vec4(0x1,0x1,0x1,0x1)],this['markedToDestroy']=!0x1,this['acceleration']=0.0125,this[_0x143d15(0x394)]=0.012*(0x2-this['power']/0.6)+0.006,this[_0x143d15(0x2cf)]=Math[_0x143d15(0x211)](Math['PI']*this[_0x143d15(0x470)]/0xb4)/0x5,this[_0x143d15(0x2eb)]=Math[_0x143d15(0x47f)](Math['PI']*this[_0x143d15(0x470)]/0xb4)/0x5,this['downwardVelocity']=0.00125,this['horizontalAcceleration']=Math['abs'](this['acceleration']*this['horizontalVelocity']),this['verticalAcceleration']=Math[_0x143d15(0x250)](this[_0x143d15(0x394)]*this['verticalVelocity']),this[_0x143d15(0x365)]=0.00098,this['pX']=_0x4e2a38,this['pY']=_0x27a5c1,this['pZ']=_0x2cdba2,this[_0x143d15(0x2c8)]=vec3(0.5,0.5,0.5);}[a0_0x567640(0x24c)](){var _0x3ce819=a0_0x567640,_0x22c63a=Math[_0x3ce819(0x267)](0x6*Math[_0x3ce819(0x47c)]())+0x6,_0x52ae79=rotateX(0xb4*Math[_0x3ce819(0x4db)](this[_0x3ce819(0x33a)])/Math['PI']);_0x52ae79=mult(_0x52ae79,rotateZ(this['direction']));var _0xbf9515=mult(translate(this['pX'],this['pY'],this['pZ']),_0x52ae79),_0x564a90=mult(_0xbf9515,this['bounds'][0x0]),_0x4dea55=mult(_0xbf9515,this[_0x3ce819(0x201)][0x1]),_0x468daf=vec4(Math[_0x3ce819(0x21e)](_0x564a90[0x0],_0x4dea55[0x0])+Math[_0x3ce819(0x250)](_0x4dea55[0x0]-_0x564a90[0x0])/0x2-0.5,Math[_0x3ce819(0x21e)](_0x564a90[0x1],_0x4dea55[0x1])+Math[_0x3ce819(0x250)](_0x4dea55[0x1]-_0x564a90[0x1])/0x2-0.5,Math['min'](_0x564a90[0x2],_0x4dea55[0x2])+Math[_0x3ce819(0x250)](_0x4dea55[0x2]-_0x564a90[0x2])/0x2,0x1);for(let _0x468d61=0x0;_0x468d61<_0x22c63a;_0x468d61++){var _0x3fc14b=Math[_0x3ce819(0x47c)](),_0x42a9e4=Math['random']()-0.5,_0x7aa0cd=Math['random']()-0.5;new Particle(_0x468daf[0x0]+_0x42a9e4,_0x468daf[0x1]+_0x7aa0cd,_0x468daf[0x2]+_0x3fc14b,this['particleColor']);}}[a0_0x567640(0x420)](_0x2c72a2,_0x5b8697,_0x4c32ad){var _0x460b3c=a0_0x567640,_0x262265=Math['round'](0x6*Math['random']())+0x6;for(let _0x422e65=0x0;_0x422e65<_0x262265;_0x422e65++){var _0x364f26=Math[_0x460b3c(0x47c)](),_0x3612fc=Math[_0x460b3c(0x47c)]()-0.5,_0x15a914=Math[_0x460b3c(0x47c)]()-0.5;new Particle(_0x2c72a2+_0x3612fc,_0x5b8697+_0x15a914,_0x4c32ad+_0x364f26,this[_0x460b3c(0x2c8)]);}}[a0_0x567640(0x441)](){var _0x1af301=a0_0x567640;this[_0x1af301(0x24c)](),this['markedToDestroy']=!0x0;}[a0_0x567640(0x2b2)](){var _0x331e33=a0_0x567640;this[_0x331e33(0x394)]=this[_0x331e33(0x4ca)];}[a0_0x567640(0x499)](){}[a0_0x567640(0x3c3)](){var _0x429adb=a0_0x567640;this['pX']-=this['horizontalVelocity'],this['pY']+=this[_0x429adb(0x2eb)],this['pZ']+=this[_0x429adb(0x33a)],this['horizontalVelocity']>UACT?this[_0x429adb(0x2cf)]-=this['horizontalAcceleration']:this['horizontalVelocity']<-UACT?this[_0x429adb(0x2cf)]+=this[_0x429adb(0x352)]:this[_0x429adb(0x2cf)]=0x0,this[_0x429adb(0x2eb)]>UACT?this[_0x429adb(0x2eb)]-=this[_0x429adb(0x224)]:this['verticalVelocity']<-UACT?this[_0x429adb(0x2eb)]+=this['verticalAcceleration']:this[_0x429adb(0x2eb)]=0x0,this['pZ']<-2.1?this['downwardVelocity']+=this['downwardAcceleration']:this[_0x429adb(0x33a)]=0x0;}[a0_0x567640(0x27a)](){this['renderFunction']();}[a0_0x567640(0x487)](){var _0x534f97=a0_0x567640;if(!enemyArray[_0x534f97(0x361)]()){for(var _0x5871f9=0x0;_0x5871f9<enemyArray[_0x534f97(0x450)]();_0x5871f9++)isColliding(this,enemyArray[_0x534f97(0x448)](_0x5871f9))&&console[_0x534f97(0x3d0)]('IM\x20HIT');}}[a0_0x567640(0x41c)](){var _0x4e755a=a0_0x567640;this[_0x4e755a(0x3c3)]();var _0x4c1ef6=rotateX(0xb4*Math[_0x4e755a(0x4db)](this[_0x4e755a(0x33a)])/Math['PI']);_0x4c1ef6=mult(_0x4c1ef6,rotateZ(this[_0x4e755a(0x470)])),set_mv(mult(translate(this['pX'],this['pY'],this['pZ']),_0x4c1ef6)),gl[_0x4e755a(0x20f)](gl[_0x4e755a(0x2ef)],this[_0x4e755a(0x303)],this['numberOfVertices']),hitBox&&gl['drawArrays'](gl[_0x4e755a(0x1f3)],this[_0x4e755a(0x401)],this[_0x4e755a(0x39b)]);}[a0_0x567640(0x3ae)](){var _0x1d95a2=a0_0x567640,_0x2aeb10=rotateX(0xb4*Math[_0x1d95a2(0x4db)](this[_0x1d95a2(0x33a)])/Math['PI']);_0x2aeb10=mult(_0x2aeb10,rotateZ(this[_0x1d95a2(0x470)]));var _0x18e059=mult(translate(this['pX'],this['pY'],this['pZ']),_0x2aeb10);return[mult(_0x18e059,this[_0x1d95a2(0x201)][0x0]),mult(_0x18e059,this[_0x1d95a2(0x201)][0x1])];}['sendHitBoxData'](){var _0x24e844=a0_0x567640;push_wireframe_indices(this[_0x24e844(0x201)][0x0],this[_0x24e844(0x201)][0x1]);}}class Arrow extends Projectile{constructor(_0x45450d,_0x4ebc3d,_0x36a746=null,_0x3ae7df=null,_0x44561f=null){var _0x3f97dc=a0_0x567640;super(build_arrow,_0x45450d,_0x4ebc3d,_0x36a746,_0x3ae7df,_0x44561f),this[_0x3f97dc(0x303)]=arrowStart,this['numberOfVertices']=arrowVerts,this[_0x3f97dc(0x401)]=arrowHB,this[_0x3f97dc(0x201)]=[vec4(-0.12,0.1,-0.12,0x1),vec4(0.12,0x1,0.12,0x1)];}[a0_0x567640(0x487)](){var _0x55a1ca=a0_0x567640;if(!(isNaN(this['pX'])||isNaN(this['pY'])||isNaN(this['pZ']))){var _0x292e71,_0x14ffee=[Math[_0x55a1ca(0x47a)](this['pX'])-0x1,Math[_0x55a1ca(0x47a)](this['pX']),Math[_0x55a1ca(0x47a)](this['pX'])+0x1],_0x3150ed=[Math[_0x55a1ca(0x47a)](this['pY'])-0x1,Math[_0x55a1ca(0x47a)](this['pY']),Math['floor'](this['pY'])+0x1],_0x370ecf=[Math[_0x55a1ca(0x47a)](this['pZ'])-0x1,Math[_0x55a1ca(0x47a)](this['pZ']),Math[_0x55a1ca(0x47a)](this['pZ'])+0x1];_0x292e71=inDungeon?currentDungeon:world;for(let _0x43afc8=0x0;_0x43afc8<0x3;_0x43afc8++)for(let _0x55283c=0x0;_0x55283c<0x3;_0x55283c++)for(let _0x46ac16=0x0;_0x46ac16<0x3;_0x46ac16++)if(_0x292e71[_0x55a1ca(0x44e)](_0x14ffee[_0x43afc8],_0x3150ed[_0x55283c],_0x370ecf[_0x46ac16])&&isColliding_Original(this,new BoundObject(_0x14ffee[_0x43afc8],_0x3150ed[_0x55283c],_0x370ecf[_0x46ac16]))){var _0x1fb8af=_0x292e71[_0x55a1ca(0x39c)](_0x14ffee[_0x43afc8],_0x3150ed[_0x55283c],_0x370ecf[_0x46ac16]);if(_0x1fb8af[_0x55a1ca(0x3e7)]){if(isColliding_Original(this,_0x1fb8af))return void this[_0x55a1ca(0x441)]();}else{if(!_0x1fb8af[_0x55a1ca(0x33f)])return void this[_0x55a1ca(0x441)]();if(isColliding_Original(this,_0x1fb8af[_0x55a1ca(0x1f1)]))return void this[_0x55a1ca(0x441)]();}}if(!enemyArray[_0x55a1ca(0x361)]()){for(var _0x2aff7a=0x0;_0x2aff7a<enemyArray[_0x55a1ca(0x450)]();_0x2aff7a++)isColliding_Original(this,enemyArray[_0x55a1ca(0x448)](_0x2aff7a))&&(this[_0x55a1ca(0x441)](),enemyArray['accessElement'](_0x2aff7a)['hit'](this[_0x55a1ca(0x470)]),enemyArray['accessElement'](_0x2aff7a)['healthDown'](2.5));}}}}var arrowVerts=0x0;function build_arrow(){var _0x237998=0.065,_0x5cb3b2=0x0;_0x5cb3b2+=ui_push(vec3(-_0x237998,0.75,_0x237998),vec3(0x0,0x1,0x0),vec3(_0x237998,0.75,_0x237998),vec4(0x1,0x1,0x1,0x1)),_0x5cb3b2+=ui_push(vec3(-_0x237998,0.75,-_0x237998),vec3(0x0,0x1,0x0),vec3(_0x237998,0.75,-_0x237998),vec4(0x1,0x1,0x1,0x1)),_0x5cb3b2+=ui_push(vec3(_0x237998,0.75,-_0x237998),vec3(0x0,0x1,0x0),vec3(_0x237998,0.75,_0x237998),vec4(0x1,0x1,0x1,0x1)),_0x5cb3b2+=ui_push(vec3(-_0x237998,0.75,-_0x237998),vec3(0x0,0x1,0x0),vec3(-_0x237998,0.75,_0x237998),vec4(0x1,0x1,0x1,0x1)),_0x5cb3b2+=buildRectangleXZ(-_0x237998,-_0x237998,_0x237998,_0x237998,0.75,vec4(0x1,0x1,0x1,0x1)),_0x5cb3b2+=buildRectangularPrism(0.0125,0.75,0.0125,-0.0125,-0.35,-0.0125,vec4(0.7,0.5,0.2,0x1)),_0x5cb3b2+=ui_push(vec3(-0.05,-0.25,0.05),vec3(0x0,0x0,0x0),vec3(0.05,-0.25,0.05),vec4(0x1,0x1,0x1,0x1)),_0x5cb3b2+=ui_push(vec3(-0.05,-0.25,-0.05),vec3(0x0,0x0,0x0),vec3(0.05,-0.25,-0.05),vec4(0x1,0x1,0x1,0x1)),_0x5cb3b2+=ui_push(vec3(0.05,-0.25,-0.05),vec3(0x0,0x0,0x0),vec3(0.05,-0.25,0.05),vec4(0x1,0x1,0x1,0x1)),arrowVerts=_0x5cb3b2;}class Structure{constructor(){var _0x5bfc9a=a0_0x567640;this[_0x5bfc9a(0x210)]=[];}[a0_0x567640(0x4a5)];}function gen_tree(_0xdbfa18,_0x43b82e){var _0x41569f=a0_0x567640,_0x34a5c6=[];return _0x34a5c6['push'](new WoodLog(_0xdbfa18,_0x43b82e,-0x3)),_0x34a5c6['push'](new WoodLog(_0xdbfa18,_0x43b82e,-0x4)),_0x34a5c6['push'](new WoodLog(_0xdbfa18,_0x43b82e,-0x5)),generate_by_probability(0.5)&&_0x34a5c6[_0x41569f(0x4b3)](new WoodBranch(_0xdbfa18+0x1,_0x43b82e,-0x5)),generate_by_probability(0.5)&&_0x34a5c6[_0x41569f(0x4b3)](new WoodBranch(_0xdbfa18-0x1,_0x43b82e,-0x5)),generate_by_probability(0.4)&&(_0x34a5c6[_0x41569f(0x4b3)](new WoodLog(_0xdbfa18,_0x43b82e,-0x6)),generate_by_probability(0.5)&&_0x34a5c6['push'](new WoodBranch(_0xdbfa18+0x1,_0x43b82e,-0x6)),generate_by_probability(0.5)&&_0x34a5c6[_0x41569f(0x4b3)](new WoodBranch(_0xdbfa18-0x1,_0x43b82e,-0x6))),_0x34a5c6;}function gen_dungeon_BL(_0x5d435e,_0xd4cf28){var _0x37e024=a0_0x567640,_0x4b93cd=[];_0x4b93cd[_0x37e024(0x4b3)](new WeirdBlock(_0x5d435e+0x4,_0xd4cf28,-0x6)),_0x4b93cd['push'](new WeirdBlock(_0x5d435e+0x5,_0xd4cf28,-0x6)),_0x4b93cd[_0x37e024(0x4b3)](new WeirdBlock(_0x5d435e+0x3,_0xd4cf28,-0x6));for(var _0x8c4de7=-0x3;_0x8c4de7>-0x6;_0x8c4de7--){_0x4b93cd[_0x37e024(0x4b3)](new WeirdBlock(_0x5d435e,_0xd4cf28+0x1,_0x8c4de7)),_0x4b93cd[_0x37e024(0x4b3)](new WeirdBlock(_0x5d435e+0x1,_0xd4cf28,_0x8c4de7)),_0x4b93cd[_0x37e024(0x4b3)](new WeirdBlock(_0x5d435e+0x2,_0xd4cf28,_0x8c4de7)),_0x4b93cd['push'](new WeirdBlock(_0x5d435e+0x3,_0xd4cf28,_0x8c4de7)),_0x4b93cd['push'](new WeirdBlock(_0x5d435e+0x5,_0xd4cf28,_0x8c4de7)),_0x4b93cd[_0x37e024(0x4b3)](new WeirdBlock(_0x5d435e+0x6,_0xd4cf28,_0x8c4de7)),_0x4b93cd[_0x37e024(0x4b3)](new WeirdBlock(_0x5d435e+0x7,_0xd4cf28,_0x8c4de7));for(var _0x4729d6=0x1;_0x4729d6<PORTION_SIZE-0x5;_0x4729d6++)_0x4b93cd[_0x37e024(0x4b3)](new WeirdBlock(_0x5d435e+0x8,_0xd4cf28+_0x4729d6,_0x8c4de7)),_0x4b93cd['push'](new WeirdBlock(_0x5d435e,_0xd4cf28+_0x4729d6,_0x8c4de7));for(_0x4729d6=0x1;_0x4729d6<PORTION_SIZE-0x2;_0x4729d6++)_0x4b93cd[_0x37e024(0x4b3)](new WeirdBlock(_0x5d435e+_0x4729d6,_0xd4cf28+PORTION_SIZE-0x5,_0x8c4de7));_0x4b93cd['push'](new TeleBlock(_0x5d435e+0x4,_0xd4cf28+0x1,_0x8c4de7,0x4));}for(_0x4729d6=0x1;_0x4729d6<PORTION_SIZE-0x2;_0x4729d6++)for(_0x8c4de7=0x1;_0x8c4de7<=PORTION_SIZE-0x6;_0x8c4de7++)_0x4b93cd[_0x37e024(0x4b3)](new WeirdBlock(_0x5d435e+_0x4729d6,_0xd4cf28+_0x8c4de7,-0x6));return _0x4b93cd;}function gen_stone_cluster_big(_0x45d837,_0x53860d){}function gen_stone_cluster(_0x5f03aa,_0xb41ec){var _0x2ae338=a0_0x567640,_0x4c3ae4=[];switch(Math[_0x2ae338(0x267)](0xa*Math[_0x2ae338(0x47c)]())){case 0x0:_0x4c3ae4[_0x2ae338(0x4b3)](new StoneBlock(_0x5f03aa,_0xb41ec,-0x3)),_0x4c3ae4[_0x2ae338(0x4b3)](new StoneBlock(_0x5f03aa,_0xb41ec-0x1,-0x3)),_0x4c3ae4[_0x2ae338(0x4b3)](new StoneBlock(_0x5f03aa,_0xb41ec+0x1,-0x3)),_0x4c3ae4[_0x2ae338(0x4b3)](new StoneBlock(_0x5f03aa-0x1,_0xb41ec,-0x3)),_0x4c3ae4[_0x2ae338(0x4b3)](new StoneBlock(_0x5f03aa+0x1,_0xb41ec,-0x3));break;case 0x1:_0x4c3ae4['push'](new StoneBlock(_0x5f03aa,_0xb41ec,-0x3)),_0x4c3ae4['push'](new StoneBlock(_0x5f03aa+0x1,_0xb41ec,-0x3)),_0x4c3ae4[_0x2ae338(0x4b3)](new StoneBlock(_0x5f03aa,_0xb41ec+0x1,-0x3)),_0x4c3ae4['push'](new StoneBlock(_0x5f03aa+0x1,_0xb41ec+0x1,-0x3));break;case 0x2:_0x4c3ae4[_0x2ae338(0x4b3)](new StoneBlock(_0x5f03aa,_0xb41ec,-0x3)),_0x4c3ae4[_0x2ae338(0x4b3)](new StoneBlock(_0x5f03aa,_0xb41ec+0x1,-0x3)),_0x4c3ae4[_0x2ae338(0x4b3)](new StoneBlock(_0x5f03aa,_0xb41ec+0x2,-0x3)),_0x4c3ae4[_0x2ae338(0x4b3)](new StoneBlock(_0x5f03aa+0x1,_0xb41ec+0x2,-0x3)),_0x4c3ae4[_0x2ae338(0x4b3)](new StoneBlock(_0x5f03aa+0x1,_0xb41ec+0x1,-0x3));case 0x3:case 0x4:case 0x5:case 0x6:case 0x7:case 0x8:case 0x9:_0x4c3ae4[_0x2ae338(0x4b3)](new StoneBlock(_0x5f03aa,_0xb41ec,-0x3)),_0x4c3ae4[_0x2ae338(0x4b3)](new StoneBlock(_0x5f03aa+0x1,_0xb41ec,-0x3)),_0x4c3ae4[_0x2ae338(0x4b3)](new StoneBlock(_0x5f03aa+0x2,_0xb41ec,-0x3)),_0x4c3ae4[_0x2ae338(0x4b3)](new StoneBlock(_0x5f03aa+0x1,_0xb41ec+0x1,-0x3)),_0x4c3ae4[_0x2ae338(0x4b3)](new StoneBlock(_0x5f03aa+0x2,_0xb41ec+0x1,-0x3)),Math[_0x2ae338(0x47c)]()>0.5?_0x4c3ae4[_0x2ae338(0x4b3)](new StoneBlock(_0x5f03aa+0x3,_0xb41ec+0x1,-0x3)):_0x4c3ae4[_0x2ae338(0x4b3)](new StoneBlock(_0x5f03aa,_0xb41ec+0x1,-0x3));}return _0x4c3ae4;}function build_thick_wireframe(_0x3e4f46=0x1,_0x334a51=vec4(0x1,0x0,0x0,0x1),_0x2bc1bb=vec4(0x1,0x0,0.3)){const _0x28581e=0.025,_0x1e53fd=_0x3e4f46/0x2;var _0xd47319;build_line(_0x28581e,_0xd47319=translate(_0x1e53fd,0x0,0x0),_0x3e4f46,_0x334a51),_0xd47319=rotateZ(0x5a),build_line(_0x28581e,_0xd47319=mult(translate(_0x3e4f46,_0x1e53fd,0x0),_0xd47319),_0x3e4f46,_0x334a51),build_line(_0x28581e,_0xd47319=translate(_0x1e53fd,_0x3e4f46,0x0),_0x3e4f46,_0x334a51),_0xd47319=rotateZ(0x5a),build_line(_0x28581e,_0xd47319=mult(translate(0x0,_0x1e53fd,0x0),_0xd47319),_0x3e4f46,_0x334a51),_0xd47319=rotateY(0x5a),build_line(_0x28581e,_0xd47319=mult(translate(0x0,0x0,_0x1e53fd),_0xd47319),_0x3e4f46,_0x334a51),_0xd47319=rotateY(0x5a),build_line(_0x28581e,_0xd47319=mult(translate(_0x3e4f46,0x0,_0x1e53fd),_0xd47319),_0x3e4f46,_0x334a51),_0xd47319=rotateY(0x5a),build_line(_0x28581e,_0xd47319=mult(translate(0x0,_0x3e4f46,_0x1e53fd),_0xd47319),_0x3e4f46,_0x334a51),_0xd47319=rotateY(0x5a),build_line(_0x28581e,_0xd47319=mult(translate(_0x3e4f46,_0x3e4f46,_0x1e53fd),_0xd47319),_0x3e4f46,_0x334a51),build_line(_0x28581e,_0xd47319=translate(_0x1e53fd,0x0,_0x3e4f46),_0x3e4f46,_0x334a51),_0xd47319=rotateZ(0x5a),build_line(_0x28581e,_0xd47319=mult(translate(_0x3e4f46,_0x1e53fd,_0x3e4f46),_0xd47319),_0x3e4f46,_0x334a51),build_line(_0x28581e,_0xd47319=translate(_0x1e53fd,_0x3e4f46,_0x3e4f46),_0x3e4f46,_0x334a51),_0xd47319=rotateZ(0x5a),build_line(_0x28581e,_0xd47319=mult(translate(0x0,_0x1e53fd,_0x3e4f46),_0xd47319),_0x3e4f46,_0x334a51),build_transparent_cursor(_0x2bc1bb,0.02);}function build_transparent_cursor(_0x24c9fa,_0x43dbdb=0x0){var _0x448719=vec3(0x1+_0x43dbdb,0x1+_0x43dbdb,0x1+_0x43dbdb),_0x43765b=vec3(0x0-_0x43dbdb,0x1+_0x43dbdb,0x1+_0x43dbdb),_0x5860b4=vec3(0x1+_0x43dbdb,0x0-_0x43dbdb,0x1+_0x43dbdb),_0x3777a1=vec3(0x0-_0x43dbdb,0x0-_0x43dbdb,0x1+_0x43dbdb),_0x5aa0cf=vec3(0x1+_0x43dbdb,0x1+_0x43dbdb,0x0-_0x43dbdb),_0x5e8d6c=vec3(0x0-_0x43dbdb,0x1+_0x43dbdb,0x0-_0x43dbdb),_0x3d03cf=vec3(0x1+_0x43dbdb,0x0-_0x43dbdb,0x0-_0x43dbdb),_0x28ab6=vec3(0x0-_0x43dbdb,0x0-_0x43dbdb,0x0-_0x43dbdb);cursor_push(_0x28ab6,_0x3d03cf,_0x5aa0cf,_0x24c9fa),cursor_push(_0x5aa0cf,_0x5e8d6c,_0x28ab6,_0x24c9fa),cursor_push(_0x5e8d6c,_0x28ab6,_0x43765b,_0x24c9fa),cursor_push(_0x43765b,_0x3777a1,_0x28ab6,_0x24c9fa),cursor_push(_0x5aa0cf,_0x3d03cf,_0x448719,_0x24c9fa),cursor_push(_0x448719,_0x5860b4,_0x3d03cf,_0x24c9fa),cursor_push(_0x28ab6,_0x3d03cf,_0x3777a1,_0x24c9fa),cursor_push(_0x3777a1,_0x5860b4,_0x3d03cf,_0x24c9fa);}function build_line(_0x471f65,_0x186a8a=mat4(),_0x5ef748=0x1,_0x812295=vec4(0x1,0x1,0x1,0x1)){var _0x29be84=a0_0x567640,_0x2757a7=[];const _0x52692c=_0x471f65/0x2;var _0x212c4c,_0x146499,_0x4c3d3c,_0x4d48cf,_0x4b35c8,_0x2feba2,_0x21f781,_0x3ed437;_0x212c4c=vec4(-_0x5ef748/0x2,_0x52692c,_0x52692c,0x1),_0x146499=vec4(-_0x5ef748/0x2,-_0x52692c,_0x52692c,0x1),_0x4c3d3c=vec4(-_0x5ef748/0x2,_0x52692c,-_0x52692c,0x1),_0x4d48cf=vec4(-_0x5ef748/0x2,-_0x52692c,-_0x52692c,0x1),_0x2757a7[_0x29be84(0x4b3)](_0x212c4c,_0x146499,_0x4c3d3c,_0x4d48cf,_0x4c3d3c,_0x146499),_0x4b35c8=vec4(_0x5ef748/0x2,_0x52692c,_0x52692c,0x1),_0x2feba2=vec4(_0x5ef748/0x2,-_0x52692c,_0x52692c,0x1),_0x21f781=vec4(_0x5ef748/0x2,_0x52692c,-_0x52692c,0x1),_0x3ed437=vec4(_0x5ef748/0x2,-_0x52692c,-_0x52692c,0x1),_0x2757a7[_0x29be84(0x4b3)](_0x4b35c8,_0x2feba2,_0x21f781,_0x3ed437,_0x21f781,_0x2feba2),_0x2757a7[_0x29be84(0x4b3)](_0x4c3d3c,_0x212c4c,_0x21f781,_0x4b35c8,_0x212c4c,_0x21f781),_0x2757a7[_0x29be84(0x4b3)](_0x4c3d3c,_0x21f781,_0x4d48cf,_0x3ed437,_0x21f781,_0x4d48cf),_0x2757a7[_0x29be84(0x4b3)](_0x4d48cf,_0x146499,_0x3ed437,_0x2feba2,_0x3ed437,_0x146499),_0x2757a7[_0x29be84(0x4b3)](_0x212c4c,_0x146499,_0x4b35c8,_0x2feba2,_0x146499,_0x4b35c8);for(let _0x20fddc=0x0;_0x20fddc<_0x2757a7[_0x29be84(0x240)];_0x20fddc+=0x3)cursor_push(mult(_0x186a8a,_0x2757a7[_0x20fddc]),mult(_0x186a8a,_0x2757a7[_0x20fddc+0x1]),mult(_0x186a8a,_0x2757a7[_0x20fddc+0x2]),_0x812295);}function cursor_push(_0x1fa9b9,_0x4ed67b,_0xb37fbd,_0x22fa17=vec4(0x1,0x0,0x0,0x1)){var _0xf53096=a0_0x567640;vertices[_0xf53096(0x4b3)](vec3(_0x1fa9b9[0x0],_0x1fa9b9[0x1],_0x1fa9b9[0x2])),vertices[_0xf53096(0x4b3)](vec3(_0x4ed67b[0x0],_0x4ed67b[0x1],_0x4ed67b[0x2])),vertices[_0xf53096(0x4b3)](vec3(_0xb37fbd[0x0],_0xb37fbd[0x1],_0xb37fbd[0x2])),colours['push'](_0x22fa17),colours['push'](_0x22fa17),colours['push'](_0x22fa17);for(var _0x58adaf=0x0;_0x58adaf<0x3;_0x58adaf++)texCoords[_0xf53096(0x4b3)](vec2(0x2,0x2)),normals[_0xf53096(0x4b3)](vec3(0x0,0x0,0x0));}function default_push2(_0x2593a8,_0x51e8cb,_0x4c2023,_0x54d195=vec4(0x1,0x1,0x1,0x1),_0x1fae7c=vec4(0x1,0x1,0x1,0x1),_0x478b98=vec4(0x1,0x1,0x1,0x1)){var _0x5569f2=a0_0x567640;vertices[_0x5569f2(0x4b3)](_0x2593a8),vertices[_0x5569f2(0x4b3)](_0x51e8cb),vertices[_0x5569f2(0x4b3)](_0x4c2023),colours[_0x5569f2(0x4b3)](_0x54d195),colours['push'](_0x1fae7c),colours['push'](_0x478b98);var _0x5d58bf=subtract(_0x51e8cb,_0x2593a8),_0x22fd0e=cross(subtract(_0x2593a8,_0x4c2023),_0x5d58bf);_0x22fd0e=vec3(_0x22fd0e);for(var _0x1b8409=0x0;_0x1b8409<0x3;_0x1b8409++)normals[_0x5569f2(0x4b3)](_0x22fd0e);}function set_texture2(_0x900422=0x0){var _0x36eab9=a0_0x567640;if(0x10!=_0x900422){var _0x5a82e6=0x20+0x60*Math[_0x36eab9(0x47a)](_0x900422%0x8),_0x34420b=_0x5a82e6+0x20,_0x27d2b5=0x20+0x60*Math[_0x36eab9(0x47a)](_0x900422/0x8),_0x395121=_0x27d2b5+0x20,_0x289a66=0x400;texCoords[_0x36eab9(0x4b3)](vec2(_0x5a82e6/_0x289a66,_0x395121/_0x289a66)),texCoords[_0x36eab9(0x4b3)](vec2(_0x5a82e6/_0x289a66,_0x27d2b5/_0x289a66)),texCoords[_0x36eab9(0x4b3)](vec2(_0x34420b/_0x289a66,_0x27d2b5/_0x289a66)),texCoords[_0x36eab9(0x4b3)](vec2(_0x5a82e6/_0x289a66,_0x395121/_0x289a66)),texCoords[_0x36eab9(0x4b3)](vec2(_0x34420b/_0x289a66,_0x395121/_0x289a66)),texCoords[_0x36eab9(0x4b3)](vec2(_0x34420b/_0x289a66,_0x27d2b5/_0x289a66));}else{for(var _0x6fbb57=0x0;_0x6fbb57<0x6;_0x6fbb57++)texCoords[_0x36eab9(0x4b3)](vec2(0x2,0x2));}}class WoodTrunk extends BlockWall{constructor(_0x19cca5=null,_0x43263e=null,_0x4d0c82=null,_0x46c37d=!0x1){var _0x17f02a=a0_0x567640;super(_0x19cca5,_0x43263e,_0x4d0c82,0x5,_0x46c37d),this[_0x17f02a(0x472)]='Wood\x20Trunk',this[_0x17f02a(0x2bf)]=_0x17f02a(0x44b),this[_0x17f02a(0x3d1)]=_0x17f02a(0x44b),this['particleColor']=vec3(0.337,0.208,0.094);}}class WoodLog extends BlockWall{constructor(_0x5067b6=null,_0x55aabd=null,_0x557638=null){var _0x477eb3=a0_0x567640;super(_0x5067b6,_0x55aabd,_0x557638,0x5,!0x1),this[_0x477eb3(0x303)]=woodLogStart,this[_0x477eb3(0x306)]=0xb4,this[_0x477eb3(0x472)]=_0x477eb3(0x1ed),this['orient']=_0x477eb3(0x2c6),this[_0x477eb3(0x44a)]=0x3,this[_0x477eb3(0x2bf)]=_0x477eb3(0x44b),this[_0x477eb3(0x3d1)]=_0x477eb3(0x44b),this[_0x477eb3(0x23c)]='A\x20wood\x20log.',this[_0x477eb3(0x2c8)]=vec3(0.337,0.208,0.094);}[a0_0x567640(0x27a)](){draw_wood_log();}[a0_0x567640(0x441)](){var _0x87a10b=a0_0x567640;super[_0x87a10b(0x441)](),null!=world[_0x87a10b(0x39c)](this[_0x87a10b(0x246)]+0x1,this[_0x87a10b(0x433)],this[_0x87a10b(0x328)])&&_0x87a10b(0x40a)==world[_0x87a10b(0x39c)](this[_0x87a10b(0x246)]+0x1,this[_0x87a10b(0x433)],this[_0x87a10b(0x328)])['name']&&world[_0x87a10b(0x3ec)](this[_0x87a10b(0x246)]+0x1,this[_0x87a10b(0x433)],this[_0x87a10b(0x328)]),null!=world[_0x87a10b(0x39c)](this[_0x87a10b(0x246)]-0x1,this['posY'],this[_0x87a10b(0x328)])&&_0x87a10b(0x40a)==world[_0x87a10b(0x39c)](this[_0x87a10b(0x246)]-0x1,this['posY'],this['posZ'])[_0x87a10b(0x472)]&&world[_0x87a10b(0x3ec)](this[_0x87a10b(0x246)]-0x1,this['posY'],this[_0x87a10b(0x328)]),null!=world['getBlockAt'](this[_0x87a10b(0x246)],this[_0x87a10b(0x433)]+0x1,this['posZ'])&&_0x87a10b(0x40a)==world['getBlockAt'](this['posX'],this['posY']+0x1,this[_0x87a10b(0x328)])[_0x87a10b(0x472)]&&world[_0x87a10b(0x3ec)](this[_0x87a10b(0x246)],this[_0x87a10b(0x433)]+0x1,this[_0x87a10b(0x328)]),null!=world[_0x87a10b(0x39c)](this[_0x87a10b(0x246)],this[_0x87a10b(0x433)]-0x1,this[_0x87a10b(0x328)])&&_0x87a10b(0x40a)==world[_0x87a10b(0x39c)](this[_0x87a10b(0x246)],this['posY']-0x1,this['posZ'])[_0x87a10b(0x472)]&&world[_0x87a10b(0x3ec)](this['posX'],this[_0x87a10b(0x433)]-0x1,this[_0x87a10b(0x328)]),null!=world[_0x87a10b(0x39c)](this[_0x87a10b(0x246)],this['posY'],this[_0x87a10b(0x328)]-0x1)&&'Wood\x20Log'==world[_0x87a10b(0x39c)](this[_0x87a10b(0x246)],this['posY'],this['posZ']-0x1)[_0x87a10b(0x472)]&&world[_0x87a10b(0x3ec)](this[_0x87a10b(0x246)],this[_0x87a10b(0x433)],this[_0x87a10b(0x328)]-0x1);}[a0_0x567640(0x41c)](){var _0x2d3dc4=a0_0x567640;set_mv(this[_0x2d3dc4(0x40d)]),hitBox&&gl['drawArrays'](gl['LINES'],numberOfByte[0x0],numberOfByte[0x1]),gl[_0x2d3dc4(0x20f)](gl[_0x2d3dc4(0x2ef)],this[_0x2d3dc4(0x303)],this[_0x2d3dc4(0x306)]);}}var woodBranchNum=0x0;class WoodBranch extends BlockWall{constructor(_0x5bb58c=null,_0x3e9ed3=null,_0x3f660d=null){var _0xf32b60=a0_0x567640;super(_0x5bb58c,_0x3e9ed3,_0x3f660d,0x5,!0x1),this[_0xf32b60(0x303)]=woodBranchStart,this[_0xf32b60(0x306)]=woodBranchNum,this[_0xf32b60(0x472)]=_0xf32b60(0x40a),this[_0xf32b60(0x44a)]=0x4,this[_0xf32b60(0x2bf)]='WOOD';}[a0_0x567640(0x24c)](){}[a0_0x567640(0x27a)](){draw_wood_branch();}[a0_0x567640(0x493)](){return new WoodLog();}[a0_0x567640(0x353)](){var _0x56a02a=a0_0x567640;this['instanceMat']=translate(this[_0x56a02a(0x246)],this[_0x56a02a(0x433)],this[_0x56a02a(0x328)]);var _0x7e6cfd=!0x1,_0x1b2a6e=!0x1,_0x182f2b=!0x1,_0xd4a026=!0x1;null!=world['getBlockAt'](this[_0x56a02a(0x246)]-0x1,this[_0x56a02a(0x433)],this[_0x56a02a(0x328)])&&_0x56a02a(0x1ed)==world[_0x56a02a(0x39c)](this[_0x56a02a(0x246)]-0x1,this['posY'],this['posZ'])[_0x56a02a(0x472)]&&(_0x7e6cfd=!0x0),null!=world[_0x56a02a(0x39c)](this[_0x56a02a(0x246)]+0x1,this[_0x56a02a(0x433)],this['posZ'])&&_0x56a02a(0x1ed)==world['getBlockAt'](this[_0x56a02a(0x246)]+0x1,this[_0x56a02a(0x433)],this['posZ'])['name']&&(_0x1b2a6e=!0x0),null!=world['getBlockAt'](this['posX'],this['posY']-0x1,this[_0x56a02a(0x328)])&&'Wood\x20Log'==world[_0x56a02a(0x39c)](this[_0x56a02a(0x246)],this['posY']-0x1,this[_0x56a02a(0x328)])[_0x56a02a(0x472)]&&(_0xd4a026=!0x0),null!=world[_0x56a02a(0x39c)](this[_0x56a02a(0x246)],this['posY']+0x1,this['posZ'])&&_0x56a02a(0x1ed)==world[_0x56a02a(0x39c)](this[_0x56a02a(0x246)],this[_0x56a02a(0x433)]+0x1,this['posZ'])['name']&&(_0x182f2b=!0x0),this[_0x56a02a(0x3d5)]=0x0,_0x7e6cfd&&(this[_0x56a02a(0x3d5)]=0x0),_0x1b2a6e&&(this[_0x56a02a(0x3d5)]=0xb4),_0xd4a026&&(this[_0x56a02a(0x3d5)]=0x5a),_0x182f2b&&(this[_0x56a02a(0x3d5)]=-0x5a),this['instanceMat']=mult(this[_0x56a02a(0x40d)],translate(0.5,0.5,0x0)),this['instanceMat']=mult(this[_0x56a02a(0x40d)],rotateZ(this[_0x56a02a(0x3d5)])),this[_0x56a02a(0x40d)]=mult(this['instanceMat'],translate(-0.5,-0.5,0x0)),this['instanceMat']=mult(this['instanceMat'],translate(0x0,0.25,0x0)),this[_0x56a02a(0x40d)]=mult(this[_0x56a02a(0x40d)],scale4(0.5,0.5,0x1));}[a0_0x567640(0x1e8)](){var _0x12a226=a0_0x567640;this[_0x12a226(0x353)]();}[a0_0x567640(0x41c)](){var _0x363d8d=a0_0x567640;set_mv(this[_0x363d8d(0x40d)]),hitBox&&gl['drawArrays'](gl['LINES'],numberOfByte[0x0],numberOfByte[0x1]),gl[_0x363d8d(0x20f)](gl[_0x363d8d(0x2ef)],this[_0x363d8d(0x303)],this[_0x363d8d(0x306)]);}}class StoneBlock extends BlockWall{constructor(_0x38df32=null,_0x43043f=null,_0x283f51=null){var _0xa6464e=a0_0x567640;super(_0x38df32,_0x43043f,_0x283f51,0x19,!0x1),this['index']=stoneBlockStart,this[_0xa6464e(0x306)]=0x24,this[_0xa6464e(0x472)]=_0xa6464e(0x421),this[_0xa6464e(0x44f)],this['orient']=_0xa6464e(0x4c3),this[_0xa6464e(0x44a)]=0x5,this[_0xa6464e(0x2bf)]='STONE',this[_0xa6464e(0x23c)]=_0xa6464e(0x4ba);}[a0_0x567640(0x27a)](){draw_stone_single(),draw_stone_middle(),draw_stone_single_edge(),draw_stone_corner_edge(),draw_stone_triple_edge();}[a0_0x567640(0x353)](){var _0xf3fe28=a0_0x567640;this[_0xf3fe28(0x40d)]=translate(this[_0xf3fe28(0x246)],this[_0xf3fe28(0x433)],this[_0xf3fe28(0x328)]),this['instanceMat']=mult(this[_0xf3fe28(0x40d)],translate(0x0,0x0,0.25)),this[_0xf3fe28(0x40d)]=mult(this['instanceMat'],scale4(0x1,0x1,0.75)),this[_0xf3fe28(0x3d5)]=0x0;var _0x579cb0=!0x1,_0x29a83a=!0x1,_0x4804e0=!0x1,_0x3c2470=!0x1;if(null!=this[_0xf3fe28(0x246)]){switch(inDungeon?null!=currentDungeon&&(null!=currentDungeon[_0xf3fe28(0x39c)](this[_0xf3fe28(0x246)]-0x1,this[_0xf3fe28(0x433)],this['posZ'])&&(_0x579cb0=!0x0),null!=currentDungeon[_0xf3fe28(0x39c)](this[_0xf3fe28(0x246)]+0x1,this[_0xf3fe28(0x433)],this['posZ'])&&(_0x29a83a=!0x0),null!=currentDungeon['getBlockAt'](this['posX'],this['posY']-0x1,this[_0xf3fe28(0x328)])&&(_0x3c2470=!0x0),null!=currentDungeon[_0xf3fe28(0x39c)](this[_0xf3fe28(0x246)],this['posY']+0x1,this[_0xf3fe28(0x328)])&&(_0x4804e0=!0x0)):(null!=world[_0xf3fe28(0x39c)](this[_0xf3fe28(0x246)]-0x1,this[_0xf3fe28(0x433)],this[_0xf3fe28(0x328)])&&(_0x579cb0=!0x0),null!=world[_0xf3fe28(0x39c)](this[_0xf3fe28(0x246)]+0x1,this[_0xf3fe28(0x433)],this[_0xf3fe28(0x328)])&&(_0x29a83a=!0x0),null!=world['getBlockAt'](this[_0xf3fe28(0x246)],this['posY']-0x1,this[_0xf3fe28(0x328)])&&(_0x3c2470=!0x0),null!=world[_0xf3fe28(0x39c)](this['posX'],this['posY']+0x1,this[_0xf3fe28(0x328)])&&(_0x4804e0=!0x0)),[_0x579cb0,_0x29a83a,_0x4804e0,_0x3c2470][_0xf3fe28(0x22a)]()){case _0xf3fe28(0x42d):this['index']=stoneBlockStart;break;case'true,true,true,true':case _0xf3fe28(0x475):case _0xf3fe28(0x3a9):this['index']=stoneBlockStart+0x24;break;case _0xf3fe28(0x1ea):this[_0xf3fe28(0x3d5)]=0x5a,this[_0xf3fe28(0x303)]=stoneBlockStart+0x90;break;case _0xf3fe28(0x28f):this['rot']=-0x5a,this['index']=stoneBlockStart+0x90;break;case _0xf3fe28(0x2e5):this[_0xf3fe28(0x303)]=stoneBlockStart+0x90;break;case _0xf3fe28(0x4c4):this[_0xf3fe28(0x3d5)]=0xb4,this[_0xf3fe28(0x303)]=stoneBlockStart+0x90;break;case'true,false,true,false':this[_0xf3fe28(0x3d5)]=0x0,this[_0xf3fe28(0x303)]=stoneBlockStart+0x6c;break;case _0xf3fe28(0x364):this[_0xf3fe28(0x3d5)]=0x5a,this['index']=stoneBlockStart+0x6c;break;case _0xf3fe28(0x300):this[_0xf3fe28(0x3d5)]=-0x5a,this['index']=stoneBlockStart+0x6c;break;case _0xf3fe28(0x3c8):this[_0xf3fe28(0x3d5)]=0xb4,this[_0xf3fe28(0x303)]=stoneBlockStart+0x6c;break;case _0xf3fe28(0x2e9):this['index']=stoneBlockStart+0x48;break;case'true,true,false,true':this[_0xf3fe28(0x3d5)]=0xb4,this[_0xf3fe28(0x303)]=stoneBlockStart+0x48;break;case'true,false,true,true':this[_0xf3fe28(0x3d5)]=0x5a,this[_0xf3fe28(0x303)]=stoneBlockStart+0x48;break;case _0xf3fe28(0x31e):this['rot']=-0x5a,this[_0xf3fe28(0x303)]=stoneBlockStart+0x48;}this[_0xf3fe28(0x40d)]=mult(this[_0xf3fe28(0x40d)],translate(0.5,0.5,0x0)),this[_0xf3fe28(0x40d)]=mult(this[_0xf3fe28(0x40d)],rotateZ(this[_0xf3fe28(0x3d5)])),this[_0xf3fe28(0x40d)]=mult(this[_0xf3fe28(0x40d)],translate(-0.5,-0.5,0x0));}}[a0_0x567640(0x1e8)](){var _0x480b4c=a0_0x567640;this[_0x480b4c(0x353)]();}['draw'](){var _0xc23d90=a0_0x567640;set_mv(this[_0xc23d90(0x40d)]),hitBox&&gl[_0xc23d90(0x20f)](gl[_0xc23d90(0x1f3)],numberOfByte[0x0],numberOfByte[0x1]),gl[_0xc23d90(0x20f)](gl[_0xc23d90(0x2ef)],this[_0xc23d90(0x303)],this[_0xc23d90(0x306)]);}}function draw_wood_branch(){var _0x2b8110,_0x702d40,_0x460ed4,_0x1a8a6f,_0x3223ce,_0x538227,_0x2d3a43,_0x335a74;woodBranchNum=0x24,_0x2b8110=vec3(0x0,0x0,0x0),_0x702d40=vec3(0x1,0x0,0x0),_0x460ed4=vec3(0x1,0x1,0x0),_0x1a8a6f=vec3(0x0,0x1,0x0),(_0x3223ce=vec3(0x0,0x0,0x1),_0x538227=vec3(0.25,0x0,0x1),_0x2d3a43=vec3(0.25,0x1,0x1),_0x335a74=vec3(0x0,0x1,0x1)),(default_push2(_0x2b8110,_0x702d40,_0x460ed4),default_push2(_0x460ed4,_0x1a8a6f,_0x2b8110),set_texture2(0x13),default_push2(_0x3223ce,_0x538227,_0x2d3a43),default_push2(_0x2d3a43,_0x335a74,_0x3223ce),set_texture2(0x13),default_push2(_0x3223ce,_0x538227,_0x702d40),default_push2(_0x702d40,_0x2b8110,_0x3223ce),set_texture2(0x13),default_push2(_0x2b8110,_0x1a8a6f,_0x335a74),default_push2(_0x335a74,_0x3223ce,_0x2b8110),set_texture2(0x13),default_push2(_0x1a8a6f,_0x460ed4,_0x2d3a43),default_push2(_0x2d3a43,_0x335a74,_0x1a8a6f),set_texture2(0x13),default_push2(_0x702d40,_0x538227,_0x2d3a43),default_push2(_0x2d3a43,_0x460ed4,_0x702d40),set_texture2(0x13));}var dS=0.15,texStone=0x11;function draw_stone_single(){var _0x1fa3b1,_0x46ac25,_0x5e9469,_0x2f9f0b,_0x2f92f6,_0xb732be,_0x4c3475,_0x485141;_0x1fa3b1=vec3(dS,dS,0x0),_0x46ac25=vec3(0x1-dS,dS,0x0),_0x5e9469=vec3(0x1-dS,0x1-dS,0x0),_0x2f9f0b=vec3(dS,0x1-dS,0x0),_0x2f92f6=vec3(0x0,0x0,0x1),_0xb732be=vec3(0x1,0x0,0x1),_0x4c3475=vec3(0x1,0x1,0x1),_0x485141=vec3(0x0,0x1,0x1),default_push2(_0x1fa3b1,_0x46ac25,_0x5e9469),default_push2(_0x5e9469,_0x2f9f0b,_0x1fa3b1),set_texture2(texStone),default_push2(_0x2f92f6,_0xb732be,_0x4c3475),default_push2(_0x4c3475,_0x485141,_0x2f92f6),set_texture2(texStone),default_push2(_0xb732be,_0x46ac25,_0x1fa3b1),default_push2(_0x1fa3b1,_0x2f92f6,_0xb732be),set_texture2(texStone),default_push2(_0xb732be,_0x4c3475,_0x5e9469),default_push2(_0x5e9469,_0x46ac25,_0xb732be),set_texture2(texStone),default_push2(_0x5e9469,_0x4c3475,_0x485141),default_push2(_0x485141,_0x2f9f0b,_0x5e9469),set_texture2(texStone),default_push2(_0x2f9f0b,_0x485141,_0x2f92f6),default_push2(_0x2f92f6,_0x1fa3b1,_0x2f9f0b),set_texture2(texStone);}function draw_stone_middle(){var _0x3067d7,_0x553cf2,_0x4580ae,_0x40ab34,_0x16fd7e,_0x5a381c,_0x50f7b8,_0x1e3312;_0x3067d7=vec3(0x0,0x0,0x0),_0x553cf2=vec3(0x1,0x0,0x0),_0x4580ae=vec3(0x1,0x1,0x0),_0x40ab34=vec3(0x0,0x1,0x0),_0x16fd7e=vec3(0x0,0x0,0x1),_0x5a381c=vec3(0x1,0x0,0x1),_0x50f7b8=vec3(0x1,0x1,0x1),_0x1e3312=vec3(0x0,0x1,0x1),default_push2(_0x3067d7,_0x553cf2,_0x4580ae),default_push2(_0x4580ae,_0x40ab34,_0x3067d7),set_texture2(texStone),default_push2(_0x16fd7e,_0x5a381c,_0x50f7b8),default_push2(_0x50f7b8,_0x1e3312,_0x16fd7e),set_texture2(texStone),default_push2(_0x5a381c,_0x553cf2,_0x3067d7),default_push2(_0x3067d7,_0x16fd7e,_0x5a381c),set_texture2(texStone),default_push2(_0x5a381c,_0x50f7b8,_0x4580ae),default_push2(_0x4580ae,_0x553cf2,_0x5a381c),set_texture2(texStone),default_push2(_0x4580ae,_0x50f7b8,_0x1e3312),default_push2(_0x1e3312,_0x40ab34,_0x4580ae),set_texture2(texStone),default_push2(_0x40ab34,_0x1e3312,_0x16fd7e),default_push2(_0x16fd7e,_0x3067d7,_0x40ab34),set_texture2(texStone);}function draw_stone_single_edge(){var _0xe0f6bd,_0x12c84c,_0xc560e2,_0x28b803,_0x109205,_0x5ceccd,_0x57408d,_0xec381e;_0xe0f6bd=vec3(0x0,dS,0x0),_0x12c84c=vec3(0x1,dS,0x0),_0xc560e2=vec3(0x1,0x1,0x0),_0x28b803=vec3(0x0,0x1,0x0),_0x109205=vec3(0x0,0x0,0x1),_0x5ceccd=vec3(0x1,0x0,0x1),_0x57408d=vec3(0x1,0x1,0x1),_0xec381e=vec3(0x0,0x1,0x1),default_push2(_0xe0f6bd,_0x12c84c,_0xc560e2),default_push2(_0xc560e2,_0x28b803,_0xe0f6bd),set_texture2(texStone),default_push2(_0x109205,_0x5ceccd,_0x57408d),default_push2(_0x57408d,_0xec381e,_0x109205),set_texture2(texStone),default_push2(_0x5ceccd,_0x12c84c,_0xe0f6bd),default_push2(_0xe0f6bd,_0x109205,_0x5ceccd),set_texture2(texStone),default_push2(_0x5ceccd,_0x57408d,_0xc560e2),default_push2(_0xc560e2,_0x12c84c,_0x5ceccd),set_texture2(texStone),default_push2(_0xc560e2,_0x57408d,_0xec381e),default_push2(_0xec381e,_0x28b803,_0xc560e2),set_texture2(texStone),default_push2(_0x28b803,_0xec381e,_0x109205),default_push2(_0x109205,_0xe0f6bd,_0x28b803),set_texture2(texStone);}function draw_stone_corner_edge(){var _0x14a292,_0x6d6050,_0x37f542,_0x135af9,_0x808f40,_0x30a82a,_0x371882,_0x5c76c9;_0x14a292=vec3(0x0,dS,0x0),_0x6d6050=vec3(0x1-dS,dS,0x0),_0x37f542=vec3(0x1-dS,0x1,0x0),_0x135af9=vec3(0x0,0x1,0x0),_0x808f40=vec3(0x0,0x0,0x1),_0x30a82a=vec3(0x1,0x0,0x1),_0x371882=vec3(0x1,0x1,0x1),_0x5c76c9=vec3(0x0,0x1,0x1),default_push2(_0x14a292,_0x6d6050,_0x37f542),default_push2(_0x37f542,_0x135af9,_0x14a292),set_texture2(texStone),default_push2(_0x808f40,_0x30a82a,_0x371882),default_push2(_0x371882,_0x5c76c9,_0x808f40),set_texture2(texStone),default_push2(_0x30a82a,_0x6d6050,_0x14a292),default_push2(_0x14a292,_0x808f40,_0x30a82a),set_texture2(texStone),default_push2(_0x30a82a,_0x371882,_0x37f542),default_push2(_0x37f542,_0x6d6050,_0x30a82a),set_texture2(texStone),default_push2(_0x37f542,_0x371882,_0x5c76c9),default_push2(_0x5c76c9,_0x135af9,_0x37f542),set_texture2(texStone),default_push2(_0x135af9,_0x5c76c9,_0x808f40),default_push2(_0x808f40,_0x14a292,_0x135af9),set_texture2(texStone);}function draw_stone_triple_edge(){var _0xe3a20d,_0x5f464f,_0x30a0d1,_0x3bdfa1,_0x13657c,_0x5c6b9a,_0x2eced7,_0x5c3f0d;_0xe3a20d=vec3(dS,dS,0x0),_0x5f464f=vec3(0x1-dS,dS,0x0),_0x30a0d1=vec3(0x1-dS,0x1,0x0),_0x3bdfa1=vec3(dS,0x1,0x0),_0x13657c=vec3(0x0,0x0,0x1),_0x5c6b9a=vec3(0x1,0x0,0x1),_0x2eced7=vec3(0x1,0x1,0x1),_0x5c3f0d=vec3(0x0,0x1,0x1),default_push2(_0xe3a20d,_0x5f464f,_0x30a0d1),default_push2(_0x30a0d1,_0x3bdfa1,_0xe3a20d),set_texture2(texStone),default_push2(_0x13657c,_0x5c6b9a,_0x2eced7),default_push2(_0x2eced7,_0x5c3f0d,_0x13657c),set_texture2(texStone),default_push2(_0x5c6b9a,_0x5f464f,_0xe3a20d),default_push2(_0xe3a20d,_0x13657c,_0x5c6b9a),set_texture2(texStone),default_push2(_0x5c6b9a,_0x2eced7,_0x30a0d1),default_push2(_0x30a0d1,_0x5f464f,_0x5c6b9a),set_texture2(texStone),default_push2(_0x30a0d1,_0x2eced7,_0x5c3f0d),default_push2(_0x5c3f0d,_0x3bdfa1,_0x30a0d1),set_texture2(texStone),default_push2(_0x3bdfa1,_0x5c3f0d,_0x13657c),default_push2(_0x13657c,_0xe3a20d,_0x3bdfa1),set_texture2(texStone);}function draw_wood_log(){var _0x448ead=[],_0x2a063f=[],_0x52d925=[],_0x1d37a7=[],_0x47021c=[],_0x54f34e=[],_0x288289=[],_0x35a253=[],_0x313cbf=[],_0x439a49=[],_0x4f32d9=[],_0x540b7d=[],_0xf2a472=[],_0x6f5dc0=[],_0x80ff98=[],_0x5e252c=[],_0x5796d2=[],_0x17fe0f=[],_0x367547=[],_0x30f162=[];const _0x2637e9=0x13;for(var _0x82244d=0x0;_0x82244d<0x2;_0x82244d++)_0x448ead[_0x82244d]=vec3(0.1,0.1,_0x82244d),_0x2a063f[_0x82244d]=vec3(0x0,0.2,_0x82244d),_0x52d925[_0x82244d]=vec3(0.2,0x0,_0x82244d),_0xf2a472[_0x82244d]=vec3(0.1,0.2,_0x82244d),_0x6f5dc0[_0x82244d]=vec3(0.2,0.1,_0x82244d),_0x1d37a7[_0x82244d]=vec3(0.1,0.9,_0x82244d),_0x47021c[_0x82244d]=vec3(0x0,0.8,_0x82244d),_0x54f34e[_0x82244d]=vec3(0.2,0x1,_0x82244d),_0x80ff98[_0x82244d]=vec3(0.1,0.8,_0x82244d),_0x5e252c[_0x82244d]=vec3(0.2,0.9,_0x82244d),_0x288289[_0x82244d]=vec3(0.9,0.1,_0x82244d),_0x35a253[_0x82244d]=vec3(0x1,0.2,_0x82244d),_0x313cbf[_0x82244d]=vec3(0.8,0x0,_0x82244d),_0x5796d2[_0x82244d]=vec3(0.8,0.1,_0x82244d),_0x17fe0f[_0x82244d]=vec3(0.9,0.2,_0x82244d),_0x439a49[_0x82244d]=vec3(0.9,0.9,_0x82244d),_0x4f32d9[_0x82244d]=vec3(0x1,0.8,_0x82244d),_0x540b7d[_0x82244d]=vec3(0.8,0x1,_0x82244d),_0x367547[_0x82244d]=vec3(0.9,0.8,_0x82244d),_0x30f162[_0x82244d]=vec3(0.8,0.9,_0x82244d),default_push2(_0x448ead[_0x82244d],_0x288289[_0x82244d],_0x439a49[_0x82244d]),default_push2(_0x439a49[_0x82244d],_0x1d37a7[_0x82244d],_0x448ead[_0x82244d]),set_texture2(0x3),default_push2(_0xf2a472[_0x82244d],_0x80ff98[_0x82244d],_0x47021c[_0x82244d]),default_push2(_0x47021c[_0x82244d],_0x2a063f[_0x82244d],_0xf2a472[_0x82244d]),set_texture(_0x2637e9),default_push2(_0x52d925[_0x82244d],_0x313cbf[_0x82244d],_0x5796d2[_0x82244d]),default_push2(_0x5796d2[_0x82244d],_0x6f5dc0[_0x82244d],_0x52d925[_0x82244d]),set_texture(_0x2637e9),default_push2(_0x35a253[_0x82244d],_0x4f32d9[_0x82244d],_0x367547[_0x82244d]),default_push2(_0x367547[_0x82244d],_0x17fe0f[_0x82244d],_0x35a253[_0x82244d]),set_texture(_0x2637e9),default_push2(_0x30f162[_0x82244d],_0x540b7d[_0x82244d],_0x54f34e[_0x82244d]),default_push2(_0x54f34e[_0x82244d],_0x5e252c[_0x82244d],_0x30f162[_0x82244d]),set_texture(_0x2637e9);default_push2(_0x52d925[0x0],_0x52d925[0x1],_0x313cbf[0x0]),default_push2(_0x52d925[0x1],_0x313cbf[0x1],_0x313cbf[0x0]),set_texture(_0x2637e9),default_push2(_0x35a253[0x0],_0x35a253[0x1],_0x4f32d9[0x1]),default_push2(_0x35a253[0x0],_0x4f32d9[0x1],_0x4f32d9[0x0]),set_texture(_0x2637e9),default_push2(_0x54f34e[0x1],_0x54f34e[0x0],_0x540b7d[0x0]),default_push2(_0x54f34e[0x1],_0x540b7d[0x0],_0x540b7d[0x1]),set_texture(_0x2637e9),default_push2(_0x47021c[0x0],_0x47021c[0x1],_0x2a063f[0x0]),default_push2(_0x47021c[0x1],_0x2a063f[0x1],_0x2a063f[0x0]),set_texture(_0x2637e9),default_push2(_0x52d925[0x0],_0x6f5dc0[0x0],_0x6f5dc0[0x1]),default_push2(_0x6f5dc0[0x1],_0x52d925[0x1],_0x52d925[0x0]),set_texture(_0x2637e9),default_push2(_0x6f5dc0[0x0],_0x448ead[0x0],_0x448ead[0x1]),default_push2(_0x448ead[0x1],_0x6f5dc0[0x1],_0x6f5dc0[0x0]),set_texture(_0x2637e9),default_push2(_0x448ead[0x0],_0xf2a472[0x0],_0xf2a472[0x1]),default_push2(_0xf2a472[0x1],_0x448ead[0x1],_0x448ead[0x0]),set_texture(_0x2637e9),default_push2(_0xf2a472[0x0],_0x2a063f[0x0],_0xf2a472[0x1]),default_push2(_0x2a063f[0x1],_0xf2a472[0x1],_0x2a063f[0x0]),set_texture(_0x2637e9),default_push2(_0x5796d2[0x0],_0x313cbf[0x0],_0x313cbf[0x1]),default_push2(_0x313cbf[0x1],_0x5796d2[0x1],_0x5796d2[0x0]),set_texture(_0x2637e9),default_push2(_0x288289[0x0],_0x5796d2[0x0],_0x5796d2[0x1]),default_push2(_0x5796d2[0x1],_0x288289[0x1],_0x288289[0x0]),set_texture(_0x2637e9),default_push2(_0x17fe0f[0x0],_0x288289[0x0],_0x288289[0x1]),default_push2(_0x288289[0x1],_0x17fe0f[0x1],_0x17fe0f[0x0]),set_texture(_0x2637e9),default_push2(_0x35a253[0x0],_0x17fe0f[0x0],_0x17fe0f[0x1]),default_push2(_0x17fe0f[0x1],_0x35a253[0x1],_0x35a253[0x0]),set_texture(_0x2637e9),default_push2(_0x367547[0x0],_0x4f32d9[0x0],_0x4f32d9[0x1]),default_push2(_0x4f32d9[0x1],_0x367547[0x1],_0x367547[0x0]),set_texture(_0x2637e9),default_push2(_0x439a49[0x0],_0x367547[0x0],_0x367547[0x1]),default_push2(_0x367547[0x1],_0x439a49[0x1],_0x439a49[0x0]),set_texture(_0x2637e9),default_push2(_0x30f162[0x0],_0x439a49[0x0],_0x439a49[0x1]),default_push2(_0x439a49[0x1],_0x30f162[0x1],_0x30f162[0x0]),set_texture(_0x2637e9),default_push2(_0x540b7d[0x0],_0x30f162[0x0],_0x30f162[0x1]),default_push2(_0x30f162[0x1],_0x540b7d[0x1],_0x540b7d[0x0]),set_texture(_0x2637e9),default_push2(_0x5e252c[0x0],_0x54f34e[0x0],_0x54f34e[0x1]),default_push2(_0x54f34e[0x1],_0x5e252c[0x1],_0x5e252c[0x0]),set_texture(_0x2637e9),default_push2(_0x1d37a7[0x0],_0x5e252c[0x0],_0x5e252c[0x1]),default_push2(_0x5e252c[0x1],_0x1d37a7[0x1],_0x1d37a7[0x0]),set_texture(_0x2637e9),default_push2(_0x80ff98[0x0],_0x1d37a7[0x0],_0x1d37a7[0x1]),default_push2(_0x1d37a7[0x1],_0x80ff98[0x1],_0x80ff98[0x0]),set_texture(_0x2637e9),default_push2(_0x47021c[0x0],_0x80ff98[0x0],_0x80ff98[0x1]),default_push2(_0x80ff98[0x1],_0x47021c[0x1],_0x47021c[0x0]),set_texture(_0x2637e9);}class InteractiveBlock extends BlockWall{constructor(_0x3a1f8d=null,_0x1b51f3=null,_0x53d563=null,_0x96c574,_0x193d07){var _0x21cac8=a0_0x567640;super(_0x3a1f8d,_0x1b51f3,_0x53d563,_0x96c574,!0x1,_0x21cac8(0x221)),this[_0x21cac8(0x488)]=_0x193d07,this[_0x21cac8(0x232)]=!0x0;}[a0_0x567640(0x383)](){cursorCoor=vec2(xCoor=0x8,yCoor=4.5),inFunction=!0x0,fQueue['enqueue'](new QueuedFunction(this['menuFunction']));}}function set_door_texture(_0x2331ba=0x0,_0x19563e=0.0065,_0x3b6b29=0.0065,_0x4016bf=!0x0){var _0x2fd56b=a0_0x567640,_0x4a9ad6=0x20+0x60*Math[_0x2fd56b(0x47a)](_0x2331ba%0x8)+0x0,_0x3d6c0f=_0x4a9ad6+0x20-0x0,_0x55cd85=0x20+0x60*Math[_0x2fd56b(0x47a)](_0x2331ba/0x8)+0x0,_0x448222=_0x55cd85+0x20-0x0,_0x112f77=0x400;let _0x282995;_0x4016bf?(_0x282995=[vec2(_0x4a9ad6/_0x112f77,_0x55cd85/_0x112f77),vec2(_0x3d6c0f/_0x112f77,_0x448222/_0x112f77),vec2(_0x4a9ad6/_0x112f77,_0x448222/_0x112f77)],texCoords['push'](_0x282995[0x1]),texCoords[_0x2fd56b(0x4b3)](_0x282995[0x2]),texCoords[_0x2fd56b(0x4b3)](_0x282995[0x0]),_0x282995=[vec2(_0x3d6c0f/_0x112f77,_0x55cd85/_0x112f77),vec2(_0x3d6c0f/_0x112f77,_0x448222/_0x112f77),vec2(_0x4a9ad6/_0x112f77,_0x55cd85/_0x112f77)],texCoords[_0x2fd56b(0x4b3)](_0x282995[0x1]),texCoords['push'](_0x282995[0x2]),texCoords[_0x2fd56b(0x4b3)](_0x282995[0x0])):(_0x282995=[vec2(_0x4a9ad6/_0x112f77,_0x55cd85/_0x112f77),vec2(_0x4a9ad6/_0x112f77,_0x448222/_0x112f77),vec2(_0x3d6c0f/_0x112f77,_0x55cd85/_0x112f77)],texCoords[_0x2fd56b(0x4b3)](_0x282995[0x2]),texCoords[_0x2fd56b(0x4b3)](_0x282995[0x0]),texCoords[_0x2fd56b(0x4b3)](_0x282995[0x1]),_0x282995=[vec2(_0x3d6c0f/_0x112f77,_0x55cd85/_0x112f77),vec2(_0x4a9ad6/_0x112f77,_0x448222/_0x112f77),vec2(_0x3d6c0f/_0x112f77,_0x448222/_0x112f77)],texCoords['push'](_0x282995[0x0]),texCoords[_0x2fd56b(0x4b3)](_0x282995[0x1]),texCoords[_0x2fd56b(0x4b3)](_0x282995[0x2]));}function build_door(_0x115a72,_0x544af1,_0x5ef2ab=0.0065,_0x3179bb=0.0065){block_face(0x1,0x0,0x3,0x2),set_texture(_0x544af1,_0x5ef2ab,_0x3179bb),block_face(0x2,0x3,0x7,0x6,!0x0),set_texture(_0x544af1,_0x5ef2ab,_0x3179bb),block_face(0x3,0x0,0x4,0x7,!0x0),set_door_texture(_0x115a72,_0x5ef2ab,_0x3179bb),block_face(0x6,0x5,0x1,0x2,!0x0),set_door_texture(_0x115a72,_0x5ef2ab,_0x3179bb,!0x1),block_face(0x5,0x4,0x0,0x1,!0x0),set_texture(_0x544af1,_0x5ef2ab,_0x3179bb),block_face(0x4,0x5,0x6,0x7,!0x0),set_texture(_0x544af1,_0x5ef2ab,_0x3179bb);}class DoorTop{constructor(_0x33d8b6,_0x1bd17a,_0x1bdf2b,_0x1b4963){var _0x3cf50e=a0_0x567640;this[_0x3cf50e(0x40d)]=translate(_0x33d8b6,_0x1bd17a,_0x1bdf2b),this[_0x3cf50e(0x246)]=_0x33d8b6,this['posY']=_0x1bd17a,this[_0x3cf50e(0x328)]=_0x1bdf2b,this[_0x3cf50e(0x303)]=0x0,this[_0x3cf50e(0x306)]=0x0,this[_0x3cf50e(0x44a)]=-0x1,this[_0x3cf50e(0x2bf)]='WOOD',this[_0x3cf50e(0x395)]='SPECIAL_BLOCK',this['bottom']=_0x1b4963,this['isTall']=!0x1,this[_0x3cf50e(0x33f)]=!0x0;}['destroy'](){var _0x382d90=a0_0x567640;world[_0x382d90(0x42c)](this[_0x382d90(0x1f1)]);}['update'](){}[a0_0x567640(0x36a)](){var _0x1fb5f9=a0_0x567640;return[this[_0x1fb5f9(0x246)],this[_0x1fb5f9(0x433)],this['posZ']];}[a0_0x567640(0x383)](){}[a0_0x567640(0x279)](){}[a0_0x567640(0x3ae)](){var _0x392227=a0_0x567640;return[vec3(mult(translate(-0x2710,-0x2710,-0x2710),vec4(this[_0x392227(0x246)],this[_0x392227(0x433)],this['posZ'],0x1))),vec3(mult(translate(-0x2710,-0x2710,-0x2710),vec4(this['posX'],this['posY'],this[_0x392227(0x328)],0x1)))];}[a0_0x567640(0x27a)](){}['draw'](){}[a0_0x567640(0x4a1)](){}[a0_0x567640(0x264)](){}}class Door extends BlockWall{constructor(_0x168f78=null,_0x1834b8=null,_0x1a4acc=null,_0x120321=!0x0){var _0xc2cdb6=a0_0x567640;if(super(_0x168f78,_0x1834b8,_0x1a4acc,0x1,!0x1),this['originalInstanceMat']=this[_0xc2cdb6(0x40d)],null!=_0x168f78&&(this[_0xc2cdb6(0x2e0)]=new DoorTop(_0x168f78,_0x1834b8,_0x1a4acc-0x1,this),world[_0xc2cdb6(0x3c7)](this['top'])),this['isOpen']=!0x1,this['texture']=0x0,this[_0xc2cdb6(0x303)]=doorStart,this[_0xc2cdb6(0x472)]='Wood\x20Door',this[_0xc2cdb6(0x44a)]=0xe,this['numReturned']=0x1,this[_0xc2cdb6(0x23c)]=_0xc2cdb6(0x355),this[_0xc2cdb6(0x2bf)]=_0xc2cdb6(0x44b),this[_0xc2cdb6(0x335)]=0x0,this['isInteractable']=!0x0,this[_0xc2cdb6(0x3bd)]=0x0,this[_0xc2cdb6(0x467)](coorSys[0x0]+player['posX']-0x9,coorSys[0x1]+player['posY']-4.5),this['orientationAngle']=0x0,this[_0xc2cdb6(0x3e7)]=!0x0,this['isLeft']=_0x120321,this['doorScale']=0.15,null!=_0x168f78){var _0x28a51d=world[_0xc2cdb6(0x39c)](_0x168f78-0x1,_0x1834b8,_0x1a4acc),_0x11ba77=world[_0xc2cdb6(0x39c)](_0x168f78+0x1,_0x1834b8,_0x1a4acc),_0x1eb180=world[_0xc2cdb6(0x39c)](_0x168f78,_0x1834b8+0x1,_0x1a4acc),_0x424608=world[_0xc2cdb6(0x39c)](_0x168f78,_0x1834b8-0x1,_0x1a4acc),_0x13b115=[_0x28a51d,_0x11ba77,_0x1eb180,_0x424608],_0x33342e=[!0x1,!0x1,!0x1,!0x1];for(let _0x14cfff=0x0;_0x14cfff<0x4;_0x14cfff++){var _0x34b984=_0x13b115[_0x14cfff];null!=_0x34b984&&0xe==_0x34b984[_0xc2cdb6(0x44a)]&&(_0x33342e[_0x14cfff]=!0x0);}this[_0xc2cdb6(0x3bd)]>0x2d&&this[_0xc2cdb6(0x3bd)]<=0x91?(this[_0xc2cdb6(0x254)](),_0x33342e[0x0]&&(this[_0xc2cdb6(0x342)](),_0x28a51d[_0xc2cdb6(0x254)]()),_0x33342e[0x1]&&(_0x11ba77[_0xc2cdb6(0x254)](),_0x11ba77[_0xc2cdb6(0x342)]())):this[_0xc2cdb6(0x3bd)]>0x91&&this[_0xc2cdb6(0x3bd)]<=0xe1?(this[_0xc2cdb6(0x49d)](),_0x33342e[0x2]&&(_0x1eb180[_0xc2cdb6(0x49d)](),_0x1eb180[_0xc2cdb6(0x342)]()),_0x33342e[0x3]&&(_0x424608['rightOfB'](),this[_0xc2cdb6(0x342)]())):this['relativeAngle']>0xe1&&this[_0xc2cdb6(0x3bd)]<=0x131?(this['topOfB'](),_0x33342e[0x1]&&(this[_0xc2cdb6(0x342)](),_0x11ba77[_0xc2cdb6(0x4b1)]()),_0x33342e[0x0]&&(_0x28a51d['topOfB'](),_0x28a51d['swapAngle']())):(this[_0xc2cdb6(0x218)](),_0x33342e[0x2]&&(_0x1eb180['leftOfB'](),this[_0xc2cdb6(0x342)]()),_0x33342e[0x3]&&(_0x424608[_0xc2cdb6(0x218)](),_0x424608[_0xc2cdb6(0x342)]())),this[_0xc2cdb6(0x38a)]=1.1,this[_0xc2cdb6(0x1e4)]=this[_0xc2cdb6(0x38a)];}}[a0_0x567640(0x254)](){var _0x13f576=a0_0x567640;this[_0x13f576(0x40d)]=this['originalInstanceMat'];}[a0_0x567640(0x49d)](){this['instanceMat']=mult(this['originalInstanceMat'],mult(translate(0x1,0x0,0x0),rotateZ(0x5a)));}[a0_0x567640(0x4b1)](){var _0x5e3c1b=a0_0x567640;this[_0x5e3c1b(0x40d)]=mult(this[_0x5e3c1b(0x3c5)],mult(translate(0x1,0x1,0x0),rotateZ(0xb4)));}['leftOfB'](){var _0x5ba2f8=a0_0x567640;this[_0x5ba2f8(0x40d)]=mult(this['originalInstanceMat'],mult(translate(0x0,0x1,0x0),rotateZ(0x10e)));}[a0_0x567640(0x342)](){var _0x1128a5=a0_0x567640;this['isLeft']=!0x1,this[_0x1128a5(0x2da)]||(this['instanceMat']=mult(this[_0x1128a5(0x40d)],mult(translate(0x1,0x0,0x0),scale4(-0x1,0x1,0x1))));}[a0_0x567640(0x441)](){var _0x4ba927=a0_0x567640;this[_0x4ba927(0x24c)](),world[_0x4ba927(0x42c)](this[_0x4ba927(0x2e0)]),player[_0x4ba927(0x2b9)](this[_0x4ba927(0x493)]());}[a0_0x567640(0x467)](_0x23a713,_0x3a43d4){var _0x1eb9ef=a0_0x567640,_0x41a75b=_0x23a713-player[_0x1eb9ef(0x246)],_0x5c00b4=_0x3a43d4-player[_0x1eb9ef(0x433)];if(0x0==_0x41a75b&&_0x5c00b4>=0x0)this[_0x1eb9ef(0x3bd)]=0x5a;else{if(0x0==_0x41a75b&&_0x5c00b4<0x0)this[_0x1eb9ef(0x3bd)]=0x10e;else{var _0x3453e0=0xb4*Math['atan'](Math[_0x1eb9ef(0x250)](_0x5c00b4/_0x41a75b))/Math['PI'],_0x50e306=Math['sign'](_0x41a75b),_0x166b7c=Math['sign'](_0x5c00b4);0x1==_0x50e306&&0x1==_0x166b7c&&(this[_0x1eb9ef(0x3bd)]=_0x3453e0),-0x1==_0x50e306&&0x1==_0x166b7c&&(this[_0x1eb9ef(0x3bd)]=0x5a-_0x3453e0+0x5a),-0x1==_0x50e306&&-0x1==_0x166b7c&&(this[_0x1eb9ef(0x3bd)]=_0x3453e0+0xb4),0x1==_0x50e306&&-0x1==_0x166b7c&&(this[_0x1eb9ef(0x3bd)]=0x5a-_0x3453e0+0x10e);}}}[a0_0x567640(0x383)](){var _0x10902a=a0_0x567640;this['isOpen']=!this[_0x10902a(0x386)],this[_0x10902a(0x335)]=0x5a*this['isOpen'];}[a0_0x567640(0x27a)](){build_door(0x15,0x6),build_door(0xd,0x6);}[a0_0x567640(0x3ae)](){var _0x585dcb=a0_0x567640;if(!this['isOpen']){var _0x420bfb=mult(this[_0x585dcb(0x40d)],vec4(0x0,0x0,-0x1,0x1)),_0x5ba286=mult(this[_0x585dcb(0x40d)],vec4(0x1,this['doorScale'],0x1,0x1));return[vec4(Math[_0x585dcb(0x21e)](_0x420bfb[0x0],_0x5ba286[0x0]),Math['min'](_0x420bfb[0x1],_0x5ba286[0x1]),Math[_0x585dcb(0x21e)](_0x420bfb[0x2],_0x5ba286[0x2]),0x1),vec4(Math[_0x585dcb(0x21a)](_0x420bfb[0x0],_0x5ba286[0x0]),Math[_0x585dcb(0x21a)](_0x420bfb[0x1],_0x5ba286[0x1]),Math[_0x585dcb(0x21a)](_0x420bfb[0x2],_0x5ba286[0x2]),0x1)];}return _0x420bfb=mult(this[_0x585dcb(0x40d)],vec4(0x0,0x0,-0x1,0x1)),_0x5ba286=mult(this['instanceMat'],vec4(this['doorScale'],0x1,0x1,0x1)),[vec4(Math[_0x585dcb(0x21e)](_0x420bfb[0x0],_0x5ba286[0x0]),Math[_0x585dcb(0x21e)](_0x420bfb[0x1],_0x5ba286[0x1]),Math[_0x585dcb(0x21e)](_0x420bfb[0x2],_0x5ba286[0x2]),0x1),vec4(Math[_0x585dcb(0x21a)](_0x420bfb[0x0],_0x5ba286[0x0]),Math['max'](_0x420bfb[0x1],_0x5ba286[0x1]),Math[_0x585dcb(0x21a)](_0x420bfb[0x2],_0x5ba286[0x2]),0x1)];}[a0_0x567640(0x41c)](){var _0x5580d8=a0_0x567640,_0x28cd94;_0x28cd94=this[_0x5580d8(0x386)]?mult(translate(this['doorScale'],0x0,0x0),mult(rotateZ(this[_0x5580d8(0x335)]),scale4(0x1,this['doorScale'],0x1))):mult(rotateZ(this['rotateOpen']),scale4(0x1,this[_0x5580d8(0x220)],0x1)),set_mv(mult(this[_0x5580d8(0x40d)],_0x28cd94)),hitBox&&gl[_0x5580d8(0x20f)](gl['LINES'],numberOfByte[0x0],numberOfByte[0x1]),gl[_0x5580d8(0x20f)](gl['TRIANGLES'],this[_0x5580d8(0x303)],0x24),set_mv(mult(this['instanceMat'],mult(translate(0x0,0x0,-0x1),_0x28cd94))),gl[_0x5580d8(0x20f)](gl['TRIANGLES'],this[_0x5580d8(0x303)]+0x24,0x24),hitBox&&gl[_0x5580d8(0x20f)](gl[_0x5580d8(0x1f3)],numberOfByte[0x0],numberOfByte[0x1]);}['drawShadows'](){var _0x2402ae=a0_0x567640;if(!(this[_0x2402ae(0x328)]>=-0x2)){var _0x3c4d8a;_0x3c4d8a=this[_0x2402ae(0x386)]?mult(translate(this[_0x2402ae(0x220)],0x0,0x0),mult(rotateZ(this[_0x2402ae(0x335)]),scale4(0x1,this[_0x2402ae(0x220)],0x1))):mult(rotateZ(this['rotateOpen']),scale4(0x1,this[_0x2402ae(0x220)],0x1));var _0x4f58ba=mult(modelViewMatrix,mult(this[_0x2402ae(0x40d)],_0x3c4d8a)),_0x303817=mult(sMatrix,_0x4f58ba);gl[_0x2402ae(0x496)](modelViewMatrixLoc,!0x1,flatten(_0x303817)),gl[_0x2402ae(0x20f)](gl[_0x2402ae(0x2ef)],this[_0x2402ae(0x303)],this['numberOfVerts']),_0x4f58ba=mult(modelViewMatrix,mult(this[_0x2402ae(0x40d)],mult(translate(0x0,0x0,-0x1),_0x3c4d8a))),_0x303817=mult(sMatrix,_0x4f58ba),gl[_0x2402ae(0x496)](modelViewMatrixLoc,!0x1,flatten(_0x303817)),gl['drawArrays'](gl[_0x2402ae(0x2ef)],this['index'],this[_0x2402ae(0x306)]);}}['drawSmall'](_0x272cfc){var _0x78eb7e=a0_0x567640,_0x15e802;_0x15e802=mult(rotateY(-0x5a),mult(scale4(0x1,this[_0x78eb7e(0x220)],0x1),mult(scale4(0.85,0.85,0.85),translate(-this[_0x78eb7e(0x220)],0x0,-0x1)))),_0x272cfc=mult(_0x272cfc,_0x15e802),gl[_0x78eb7e(0x496)](modelViewMatrixLoc,!0x1,flatten(_0x272cfc)),gl[_0x78eb7e(0x20f)](gl[_0x78eb7e(0x2ef)],this[_0x78eb7e(0x303)],this[_0x78eb7e(0x306)]),gl[_0x78eb7e(0x496)](modelViewMatrixLoc,!0x1,flatten(mult(_0x272cfc,translate(0x0,0x0,-0x1)))),gl[_0x78eb7e(0x20f)](gl[_0x78eb7e(0x2ef)],this['index']+0x24,0x24);}[a0_0x567640(0x3ad)](_0x4cb46b){var _0x475566=a0_0x567640,_0x2d03ee;_0x2d03ee=this[_0x475566(0x386)]?mult(translate(this['doorScale'],0x0,0x0),mult(rotateY(0x0),scale4(0x1,this[_0x475566(0x220)],0x1))):mult(rotateZ(0x0),scale4(0x1,this[_0x475566(0x220)],0x1)),_0x4cb46b=mult(_0x4cb46b,_0x2d03ee),gl[_0x475566(0x496)](modelViewMatrixLoc,!0x1,flatten(_0x4cb46b)),gl[_0x475566(0x20f)](gl[_0x475566(0x2ef)],this[_0x475566(0x303)],this[_0x475566(0x306)]),gl[_0x475566(0x496)](modelViewMatrixLoc,!0x1,flatten(mult(_0x4cb46b,translate(0x0,0x0,-0x1)))),gl[_0x475566(0x20f)](gl[_0x475566(0x2ef)],this[_0x475566(0x303)]+0x24,0x24);}[a0_0x567640(0x4c6)](_0x3958d6){var _0x53a06a=a0_0x567640,_0x5def7c,_0x5483ca=coorSys[0x0]+player[_0x53a06a(0x246)]-8.5,_0x12083e=coorSys[0x1]+player[_0x53a06a(0x433)]-0x4;this[_0x53a06a(0x467)](_0x5483ca,_0x12083e),_0x5def7c=this[_0x53a06a(0x386)]?mult(translate(this[_0x53a06a(0x220)],0x0,0x0),mult(rotateZ(this['rotateOpen']),scale4(0x1,this[_0x53a06a(0x220)],0x1))):mult(rotateZ(this[_0x53a06a(0x335)]),scale4(0x1,this['doorScale'],0x1)),this['relativeAngle']>0x2d&&this[_0x53a06a(0x3bd)]<=0x91?this[_0x53a06a(0x396)]=0x0:_0x5def7c=this[_0x53a06a(0x3bd)]>0x91&&this[_0x53a06a(0x3bd)]<=0xe1?mult(mult(translate(0x1,0x0,0x0),rotateZ(0x5a)),_0x5def7c):this['relativeAngle']>0xe1&&this[_0x53a06a(0x3bd)]<=0x131?mult(mult(translate(0x1,0x1,0x0),rotateZ(0xb4)),_0x5def7c):mult(mult(translate(0x0,0x1,0x0),rotateZ(0x10e)),_0x5def7c),_0x3958d6=mult(_0x3958d6,_0x5def7c),gl[_0x53a06a(0x496)](modelViewMatrixLoc,!0x1,flatten(_0x3958d6)),gl[_0x53a06a(0x20f)](gl[_0x53a06a(0x2ef)],this[_0x53a06a(0x303)],this[_0x53a06a(0x306)]-0x6),gl[_0x53a06a(0x496)](modelViewMatrixLoc,!0x1,flatten(mult(_0x3958d6,translate(0x0,0x0,-0x1)))),gl['drawArrays'](gl[_0x53a06a(0x2ef)],this[_0x53a06a(0x303)]+0x2a,0x1e);}['drawContents'](){var _0x5d3ecc=a0_0x567640;if(inventory||inFunction)return;let _0x103b2e=vec4(0.5,0x1,0x0,0x1);_0x103b2e=mult(translate(coorSys[0x0]+player[_0x5d3ecc(0x246)]-0x9,coorSys[0x1]+player[_0x5d3ecc(0x433)]-4.5,-0x3),_0x103b2e),_0x103b2e=mult(modelViewMatrix,_0x103b2e),_0x103b2e=mult(projectionMatrix,_0x103b2e),_0x103b2e=[0x8*(_0x103b2e[0x0]/_0x103b2e[0x3]+0x1),4.5*(_0x103b2e[0x1]/_0x103b2e[0x3]+0x1)],draw_filled_box(_0x103b2e[0x0]-this[_0x5d3ecc(0x1e4)]/0x2,_0x103b2e[0x1],_0x103b2e[0x0]+this[_0x5d3ecc(0x1e4)]/0x2,_0x103b2e[0x1]+1.35*0.17),this[_0x5d3ecc(0x386)]?draw_centered_text(_0x103b2e[0x0]+0.03,_0x103b2e[0x1]+0.1,'Close\x20door.','12'):draw_centered_text(_0x103b2e[0x0],_0x103b2e[0x1]+0.1,_0x5d3ecc(0x406),'12');}['onHover'](){var _0x185d6b=a0_0x567640;this[_0x185d6b(0x32b)]();}}function testFunction(){set_light_full(),fixedView?set_ui_pv():set_ui_pv(translate(-0x1,-0x1,0x0)),draw_crafting_menu(),set_light(),reset_mv(),reset_pv();}class WorkBench extends InteractiveBlock{constructor(_0x3c1b5f=null,_0x2be4ee=null,_0x8c1799=null){var _0x52cae9=a0_0x567640;super(_0x3c1b5f,_0x2be4ee,_0x8c1799,0x5,testFunction),this['index']=stoneBlockStart+0x24,this[_0x52cae9(0x306)]=0x24,this[_0x52cae9(0x472)]=_0x52cae9(0x39d),this[_0x52cae9(0x44a)]=0x6,this[_0x52cae9(0x2bf)]='STONE',this[_0x52cae9(0x23c)]='A\x20workbench\x20for\x20crafting\x20items.',this[_0x52cae9(0x38a)]=1.4,this[_0x52cae9(0x1e4)]=this['minDisplayWidth'];}[a0_0x567640(0x41c)](){var _0x9cb0b5=a0_0x567640;set_mv(this['instanceMat']),hitBox&&gl['drawArrays'](gl[_0x9cb0b5(0x1f3)],numberOfByte[0x0],numberOfByte[0x1]),set_mv(mult(this[_0x9cb0b5(0x40d)],scale4(0x1,0x1,0.5))),gl[_0x9cb0b5(0x20f)](gl[_0x9cb0b5(0x2ef)],this[_0x9cb0b5(0x303)],this[_0x9cb0b5(0x306)]),set_mv(this['instanceMat']);var _0x5cc769=mult(this[_0x9cb0b5(0x40d)],translate(0x0,0x0,0.45));_0x5cc769=mult(_0x5cc769,translate(0.05,0.05,0x0)),set_mv(_0x5cc769=mult(_0x5cc769,scale4(0.2,0.2,0.75))),gl[_0x9cb0b5(0x20f)](gl[_0x9cb0b5(0x2ef)],woodLogStart,0xb4),set_mv(_0x5cc769=mult(_0x5cc769,translate(3.5,0x0,0x0))),gl['drawArrays'](gl[_0x9cb0b5(0x2ef)],woodLogStart,0xb4),set_mv(_0x5cc769=mult(_0x5cc769,translate(0x0,3.5,0x0))),gl['drawArrays'](gl['TRIANGLES'],woodLogStart,0xb4),set_mv(_0x5cc769=mult(_0x5cc769,translate(-3.5,0x0,0x0))),gl[_0x9cb0b5(0x20f)](gl[_0x9cb0b5(0x2ef)],woodLogStart,0xb4);}[a0_0x567640(0x3da)](_0x285791){var _0x235865=a0_0x567640;_0x285791=mult(_0x285791,translate(0x1,0x0,0x0)),gl[_0x235865(0x496)](modelViewMatrixLoc,!0x1,flatten(mult(_0x285791,mult(rotateY(-0x5a),scale4(0x1,0x1,0.5))))),gl[_0x235865(0x20f)](gl[_0x235865(0x2ef)],this[_0x235865(0x303)],this[_0x235865(0x306)]);var _0x38750b=translate(0x0,0x0,0.45);_0x38750b=mult(_0x38750b,translate(0.05,0.05,0x0)),_0x38750b=mult(_0x38750b,scale4(0.2,0.2,0.75)),gl[_0x235865(0x496)](modelViewMatrixLoc,!0x1,flatten(mult(_0x285791,mult(rotateY(-0x5a),_0x38750b)))),gl[_0x235865(0x20f)](gl['TRIANGLES'],woodLogStart,0xb4),_0x38750b=mult(_0x38750b,translate(3.5,0x0,0x0)),gl['uniformMatrix4fv'](modelViewMatrixLoc,!0x1,flatten(mult(_0x285791,mult(rotateY(-0x5a),_0x38750b)))),gl[_0x235865(0x20f)](gl[_0x235865(0x2ef)],woodLogStart,0xb4),_0x38750b=mult(_0x38750b,translate(0x0,3.5,0x0)),gl[_0x235865(0x496)](modelViewMatrixLoc,!0x1,flatten(mult(_0x285791,mult(rotateY(-0x5a),_0x38750b)))),gl['drawArrays'](gl[_0x235865(0x2ef)],woodLogStart,0xb4),_0x38750b=mult(_0x38750b,translate(-3.5,0x0,0x0)),gl[_0x235865(0x496)](modelViewMatrixLoc,!0x1,flatten(mult(_0x285791,mult(rotateY(-0x5a),_0x38750b)))),gl[_0x235865(0x20f)](gl[_0x235865(0x2ef)],woodLogStart,0xb4);}[a0_0x567640(0x3ad)](_0x3764ae){var _0x47c9e3=a0_0x567640;_0x3764ae=mult(_0x3764ae,mult(rotateY(0x5a),translate(0x0,0x0,0x0))),gl['uniformMatrix4fv'](modelViewMatrixLoc,!0x1,flatten(mult(_0x3764ae,mult(rotateY(-0x5a),scale4(0x1,0x1,0.5))))),gl[_0x47c9e3(0x20f)](gl[_0x47c9e3(0x2ef)],this[_0x47c9e3(0x303)],this[_0x47c9e3(0x306)]);var _0x5a792a=translate(0x0,0x0,0.45);_0x5a792a=mult(_0x5a792a,translate(0.05,0.05,0x0)),_0x5a792a=mult(_0x5a792a,scale4(0.2,0.2,0.75)),gl['uniformMatrix4fv'](modelViewMatrixLoc,!0x1,flatten(mult(_0x3764ae,mult(rotateY(-0x5a),_0x5a792a)))),gl['drawArrays'](gl[_0x47c9e3(0x2ef)],woodLogStart,0xb4),_0x5a792a=mult(_0x5a792a,translate(3.5,0x0,0x0)),gl[_0x47c9e3(0x496)](modelViewMatrixLoc,!0x1,flatten(mult(_0x3764ae,mult(rotateY(-0x5a),_0x5a792a)))),gl[_0x47c9e3(0x20f)](gl[_0x47c9e3(0x2ef)],woodLogStart,0xb4),_0x5a792a=mult(_0x5a792a,translate(0x0,3.5,0x0)),gl['uniformMatrix4fv'](modelViewMatrixLoc,!0x1,flatten(mult(_0x3764ae,mult(rotateY(-0x5a),_0x5a792a)))),gl['drawArrays'](gl[_0x47c9e3(0x2ef)],woodLogStart,0xb4),_0x5a792a=mult(_0x5a792a,translate(-3.5,0x0,0x0)),gl['uniformMatrix4fv'](modelViewMatrixLoc,!0x1,flatten(mult(_0x3764ae,mult(rotateY(-0x5a),_0x5a792a)))),gl[_0x47c9e3(0x20f)](gl[_0x47c9e3(0x2ef)],woodLogStart,0xb4);}[a0_0x567640(0x4c6)](_0x534d31){var _0x4ec26d=a0_0x567640;this[_0x4ec26d(0x3ad)](_0x534d31);}[a0_0x567640(0x32b)](){var _0x23a0ec=a0_0x567640;if(inventory||inFunction)return;let _0x2210be=vec4(0.5,0x1,0x0,0x1);_0x2210be=mult(this[_0x23a0ec(0x40d)],_0x2210be),_0x2210be=mult(modelViewMatrix,_0x2210be),_0x2210be=mult(projectionMatrix,_0x2210be),_0x2210be=[0x8*(_0x2210be[0x0]/_0x2210be[0x3]+0x1),4.5*(_0x2210be[0x1]/_0x2210be[0x3]+0x1)],draw_filled_box(_0x2210be[0x0]-this[_0x23a0ec(0x1e4)]/0x2,_0x2210be[0x1],_0x2210be[0x0]+this['displayWidth']/0x2,_0x2210be[0x1]+1.3*0.17),draw_centered_text(_0x2210be[0x0],_0x2210be[0x1]+0.1,_0x23a0ec(0x2a6),'12');}[a0_0x567640(0x279)](){var _0x6ce8c7=a0_0x567640;this[_0x6ce8c7(0x32b)]();}}function build_cursor_lines_green(){build_line(0.025,mat4(),0.5,vec4(0x0,0x1,0x0,0.4));}function build_cursor_lines_red(){build_line(0.025,mat4(),0.5,vec4(0x1,0x0,0x0,0.4));}var zPosMove=0x0;function draw_cursor_lines(_0x59d56c=0x0,_0x3a4b3e=0x0,_0x26ae8e=0x0){var _0x45144c=a0_0x567640,_0x18f529=0x2;cursorGreen&&(_0x18f529=0x1),rotateY(0x5a);var _0x18134d=0x0,_0x4d5ea5=0.05;(zPosMove+=0.02)>0x1&&(zPosMove=0x0);for(let _0x25b02c=-0x1;_0x25b02c<0x5;_0x25b02c++)set_mv(mult(translate(_0x59d56c+_0x4d5ea5,_0x3a4b3e+_0x4d5ea5,(_0x18134d=_0x26ae8e+1.25+_0x25b02c)+zPosMove),rotateY(0x5a))),gl[_0x45144c(0x20f)](gl[_0x45144c(0x2ef)],cursorBytes[_0x18f529][0x0],cursorBytes[_0x18f529][0x1]),set_mv(mult(translate(_0x59d56c+0x1-_0x4d5ea5,_0x3a4b3e+_0x4d5ea5,_0x18134d+zPosMove),rotateY(0x5a))),gl[_0x45144c(0x20f)](gl[_0x45144c(0x2ef)],cursorBytes[_0x18f529][0x0],cursorBytes[_0x18f529][0x1]),set_mv(mult(translate(_0x59d56c+_0x4d5ea5,_0x3a4b3e+0x1-_0x4d5ea5,_0x18134d+zPosMove),rotateY(0x5a))),gl['drawArrays'](gl[_0x45144c(0x2ef)],cursorBytes[_0x18f529][0x0],cursorBytes[_0x18f529][0x1]),set_mv(mult(translate(_0x59d56c+0x1-_0x4d5ea5,_0x3a4b3e+0x1-_0x4d5ea5,_0x18134d+zPosMove),rotateY(0x5a))),gl['drawArrays'](gl[_0x45144c(0x2ef)],cursorBytes[_0x18f529][0x0],cursorBytes[_0x18f529][0x1]);}function draw_cursor_block(_0x224e9b=0x0,_0x56244f=0x0,_0xe066f0=0x0,_0x488a48=null){var _0x356a69=a0_0x567640;if(null!=_0x488a48){var _0x9c5dec=-0x1;_0x9c5dec=cursorGreen?0x3:0x4;var _0x8e0421=mult(translate(_0x224e9b,_0x56244f,_0xe066f0),mult(translate(0.5,0.5,0.5),mult(scale4(1.005,1.005,1.005),translate(-0.5,-0.5,-0.5))));gl[_0x356a69(0x203)](cursorBlockLoc,!0x0),_0x488a48[_0x356a69(0x4c6)](mult(modelViewMatrix,_0x8e0421)),gl[_0x356a69(0x203)](cursorBlockLoc,!0x1),_0x488a48[_0x356a69(0x3e7)]?(set_mv(mult(translate(_0x224e9b,_0x56244f,_0xe066f0-0x1),scale4(0x1,0x1,0x2))),gl[_0x356a69(0x20f)](gl[_0x356a69(0x2ef)],cursorBytes[_0x9c5dec][0x0],cursorBytes[_0x9c5dec][0x1])):(set_mv(translate(_0x224e9b,_0x56244f,_0xe066f0)),gl[_0x356a69(0x20f)](gl['TRIANGLES'],cursorBytes[_0x9c5dec][0x0],cursorBytes[_0x9c5dec][0x1])),draw_cursor_lines(_0x224e9b,_0x56244f,_0xe066f0);}else set_mv(translate(_0x224e9b,_0x56244f,_0xe066f0)),gl[_0x356a69(0x20f)](gl['TRIANGLES'],cursorBytes[_0x9c5dec][0x0],cursorBytes[_0x9c5dec][0x1]),set_mv(translate(-_0x224e9b,-_0x56244f,-_0xe066f0));}function draw_cursor_point(_0x1b2611=0x0,_0x44ab27=0x0,_0x1bce6d=0x0){var _0x11ba3d=a0_0x567640;cursorDisplayTimer<0x78&&(gl[_0x11ba3d(0x1ef)](gl[_0x11ba3d(0x1e0)]),set_mv(translate(_0x1b2611,_0x44ab27,_0x1bce6d)),gl['drawArrays'](gl[_0x11ba3d(0x3d9)],cursorBytes[0x0][0x0],cursorBytes[0x0][0x1]),set_mv(translate(-_0x1b2611,-_0x44ab27,-_0x1bce6d)),gl['enable'](gl['DEPTH_TEST']));}function a0_0x3aea(){var _0x1efa9e=['right','Recipes','voxelvale/code/sounds/effects/stonesteps/stepstone_4.wav','8\x20Bit\x20Prairie','Town\x20Theme','stepdirt3','removeBlock3D','lightPosition','traverse','texImage2D','msRequestAnimationFrame','moveLeft','swish4','tan','false,true,true,true','objectNumbers','markedToDestroy','NEAREST_MIPMAP_LINEAR','SRC_ALPHA','lookAt():\x20first\x20parameter\x20[up]\x20must\x20be\x20an\x20a\x20vec3','gain','LEQUAL','colour','isSwinging','posZ','rect','add():\x20trying\x20to\x20add\x20matrix\x20and\x20non-matrix\x20variables','drawContents','Standard\x20Axe','cooldown','heapifyDown','blockNums','mozRequestAnimationFrame','strokeRect','pause','voxelvale/code/sounds/music/towntheme.mp3','Test','rotateOpen','colorBackground','opacityStep','voxelvale/code/sounds/effects/swishes/swish-6.wav','craftingStation','downwardVelocity','speed','Fragment\x20shader\x20failed\x20to\x20compile.\x20\x20The\x20error\x20log\x20is:<pre>','inMotion','upperBound','isTop','colorNum','vNormal','swapAngle','mapPosY','child','peek5','sign','LINK_STATUS','webkitRequestAnimationFrame','convertToDungeonCoords','stringify','pop','items','21cRRAvK','width','\x20|\x20','WebGLRenderingContext','maxSpeed','horizontalAcceleration','switchOrientation','add','A\x20wood\x20door.','ceilingBlocks','onRelease','Chill\x20lofi','addTo','copy','getObjectQuantityPair','getTextFrom','grid','UNSIGNED_BYTE','keyCode','#333','isEmpty','stepdirt6','isMovingDown','true,false,false,true','downwardAcceleration','imDrawn','mouseup','VERTEX_SHADER','stencilMask','returnPos','DIRT','objectQuantityPair','dirt','blocks3D','buildIsOccupied','src','apply','forMusic','attachShader','directionMoving','TEXTURE_2D','NO\x20DESCRIPTION','placed1','makeEmptyPortion','ONE_MINUS_SRC_ALPHA','mult():\x20vectors\x20are\x20not\x20the\x20same\x20dimension','not\x20a\x20matrix','drawDistanceX','hasParent','Grass','text','movementY','vColor','returnName','onClick','Left\x20click\x20to\x20use\x20items\x20and\x20place\x20blocks.','strength','isOpen','rollX','querySelector','TEXTURE0','minDisplayWidth','legAngle','moveTowardPlayer','wood','No\x20description.','buffer','ortho():\x20bottom\x20and\x20top\x20are\x20equal','stepdirt2','enqueue','decodeAudioData','acceleration','type','orientationAngle','voxelvale/code/sounds/effects/woodsteps/stepwood_1.wav','stepdirt1','mozPointerLockElement','transform','hbEnd','getBlockAt','Workbench','ground','Unable\x20to\x20load\x20vertex\x20shader\x20','voxelvale/code/sounds/effects/placed/placed1.wav','Press\x20~\x20to\x20open\x20inventory.','Tools','getQuantity','stepstone4','Scroll\x20or\x20use\x20\x27Q\x27\x20and\x20\x27E\x27\x20to\x20adjust\x20cursor.','quant','createBufferSource','renderFunction','true,true,false,false','focus','gl-canvas','voxelvale/code/sounds/effects/swishes/swish-8.wav','drawTransparent','returnBounds','setCeilOpac','getParentIndex','healthDown','parse','ended','lookAt():\x20first\x20parameter\x20[eye]\x20must\x20be\x20an\x20a\x20vec3','#fps','addItem','fillStyle','itemNums','button','#777','getBlockList','shaderSource','relativeAngle','completedAction','drawTop','isCraftable','stopMoving','pathUpdateTimeMax','updateLocation','drawImage','originalInstanceMat','portions','addBlock','false,true,false,true','stepstone7','used','requestAnimationFrame','movementX','getRecipeList','mousedown','createShader','log','sound','lineWidth','setInventoryContents','onHold','rot','mult():\x20trying\x20to\x20add\x20matrices\x20of\x20different\x20dimensions','fillText','INVENTORY','POINT','drawSmall','kill','\x20has\x20zero\x20length','mousemove','render','notificationQueue','getCeilingBlocks','FLOAT','beginPath','drawFront','\x20Recipe','drawTopBlock','heap','isTall','TOOL','transpose():\x20trying\x20to\x20transpose\x20a\x20non-matrix','Inventory','xPos','removeBlockByPos','includes','68208dvYGjU','AXE','increase','null','Stone\x20Floor','decrease','roomSizeX','blocks','onload','INCR','moveDown','swish5','verticesStart','A\x20stone\x20floor.','stepdirt5','setTimeout','moveRight','increaseSpeed','center','hbIndex','px\x20','Drop','Note,\x20this\x20will\x20overwrite\x20the\x20current\x20world!','yPos','Open\x20door.','isEqual','getRecipe','setupWebGL','Wood\x20Branch','blur','cheekyPeek','instanceMat','moveVertically','shoot','onLClick','FUNC_ADD','experimental-webgl','Press\x20on\x20the\x20window\x20to\x20begin\x20playing!','Items','diffuseProduct','yBlocksSpanned','voxelvale/code/sounds/effects/swishes/swish-1.wav','unrotatedInstanceMat','It\x20doesn\x27t\x20appear\x20your\x20computer\x20can\x20support\x20WebGL.<br/><a\x20href=\x22http://get.webgl.org/troubleshooting/\x22>Click\x20here\x20for\x20more\x20information.</a>','stepstone3','#111','draw','cross():\x20first\x20argument\x20is\x20not\x20a\x20vector\x20of\x20at\x20least\x203','convertToRoomCoords','add():\x20trying\x20to\x20add\x20matrices\x20of\x20different\x20dimensions','spawnParticlesXYZ','Stone\x20Block','ARRAY_BUFFER','getElementById','isDead','voxelvale/code/sounds/effects/dirtsteps/stepdirt_4.wav','isMoving','drawDistanceY','useProgram','isPlacing','volume','10px\x20','removeBlock','false,false,false,false','3051732xkMIHi','destination','stepdirt7','scream','voxelvale/code/sounds/effects/woodsteps/stepwood_2.wav','posY','webgl','isMovingRight','390KZgnHJ','health','numReturned','voxelvale/code/sounds/music/nature\x20sketch.wav','SPECIAL_BLOCK','Load','roomSizeY','getContext','updatePortion','A\x20wood\x20block.','webkit-3d','destroy','Sound\x20Volume:','vPosition','createBuffer','getShaderInfoLog','#CCC','getChunk','accessElement','voxelvale/code/sounds/music/oldcitytheme.mp3','objectNumber','WOOD','Dreamlike\x20State','mozpointerlockchange','isSpaceOccupied','secondIndex','getLength','getNonToolList','texParameteri','Music\x20Volume:','getShaderParameter','voxelvale/code/sounds/effects/dirtsteps/stepdirt_6.wav','voxelvale/code/sounds/effects/impact/wood.wav','removeFromBlockArray','Old\x20City\x20Theme','clearStencil','sqrt','buildRoom','DEFAULT_ITEM','uniform4fv','spaceOccupied','</pre>','idle','Recipes:','empty','This\x20page\x20requires\x20a\x20browser\x20that\x20supports\x20WebGL.<br/><a\x20href=\x22http://get.webgl.org\x22>Click\x20here\x20to\x20upgrade\x20your\x20browser.</a>','setSpaceOccupied','subtact():\x20trying\x20to\x20subtact\x20\x20matrix\x20and\x20non-matrix\x20variables','<table\x20style=\x22background-color:\x20#8CE;\x20width:\x20100%;\x20height:\x20100%;\x22><tr><td\x20align=\x22center\x22><div\x20style=\x22display:\x20table-cell;\x20vertical-align:\x20middle;\x22><div\x20style=\x22\x22>','setAngle','swish6','Border\x20Wall','concat','swish8','contextmenu','scene','Dirt','13px\x20','direction','voxelvale/code/sounds/effects/dirtsteps/stepdirt_2.wav','name','function','RGBA','false,false,true,true','fillAllEmpty','toString','drawRight','clickFunction','floor','stepstone6','random','voxelvale/code/sounds/music/indieproj.mp3','pathUpdateTime','cos','2EjgFLv','MAX_Z_SIZE','Save\x20world\x20to\x20the\x20cloud?','normalize:\x20vector\x20','drawHB','connect','voxelvale/code/sounds/effects/swishes/swish-2.wav','checkCollisions','menuFunction','textContent','voxelvale/code/sounds/effects/stonesteps/stepstone_3.wav','Weird','STATIC_DRAW','voxelvale/code/sounds/effects/impact/metal.wav','Dungeon\x20Ceiling','stuck','leftChild','COLOR_BUFFER_BIT','rgba(0,0,0,0.5)','drop','enable','uniform1f','uniformMatrix4fv','recipe','stepdirt8','determinePath','getObjectQuantity','parent','posXNew','rightOfB','sendHitboxData','STENCIL_BUFFER_BIT','drawConditionFunction','intersect','popBackTime','actionType','rightChild','addG','ROBOTO','getImageData','\x20is\x20not\x20a\x20vector','strokeText','moveTo','switchDirection','hasLeftChild','1021836sRWAlx','stone','isCeiling','heapifyUp','topOfB','modelViewStack','push','Wood','getItems','makeArray','addElement','getQuantityItem','voxelvale/code/sounds/effects/swishes/swish-4.wav','A\x20stone\x20block.','peek','voxelvale/code/sounds/music/snow_city.mp3','isArray','stepwood','reverse','REQUIRED:','bufferData','Tarush\x20Singhal','NONE','false,false,false,true','A\x20standard\x20stone\x20axe.','drawCursor','getPortionArray','rollingDirection','Pause','power','Save\x20World','moveUp','#555','clearColor','KEEP','fillRect','value','opacityFactor','checkStuck','object','EQUAL','blendEquation','voxelvale/code/sounds/effects/dirtsteps/stepdirt_5.wav','Blocks','subtract():\x20trying\x20to\x20subtact\x20matrices\x20of\x20different\x20dimensions','recipes','atan','voxelvale/code/sounds/effects/impact/dirt.wav','hasRightChild','SHOOT','returnIndex','sendHitBoxData','isShooting','isMovingLeft','A\x20dungeon\x20wall\x20floor.','clearRect','DEPTH_TEST','FRAGMENT_SHADER','globalAlpha','Play','displayWidth','framesAlive','stroke','scale:\x20second\x20parameter\x20','update','COMPILE_STATUS','true,false,false,false','How\x20did\x20you\x20get\x20this\x20in\x20your\x20inventory?!','requestAnimFrame','Wood\x20Log','drawLeft','disable','viewport','bottom','moz-webgl','LINES','sibling','getItemList','setHeldObject','rotSpeed','subtract():\x20trying\x20to\x20subtract\x20matrices\x20of\x20different\x20dimensions','shininess','addNotification','A\x20standard\x20stone\x20pickaxe.','resetInventory','prototype','queueArray','18px\x20','VoxelVale\x20Alpha\x200.0.1','bounds','move','uniform1i','CRAFTING','getPortion','\x20must\x20be\x20a\x20number','getBlocks','updateActualPosition','verticleCooldown','swish2','buildDungeon','omfgdude','moving','animationTimer','drawArrays','blockList','sin','model','heldObject','NULL_BLOCK','fill','initialize_node','height','leftOfB','sColor','max','alphabetic','shadowMatrix','removeItem','min','voxelvale/code/sounds/effects/stonesteps/stepstone_7.wav','doorScale','STONE','stepwood2','stencilFunc','verticalAcceleration','dequeue','QUANTITY:','MAX_X_SIZE','all','weaponType','join','swap','getPathMap','evenodd','addEventListener','objectToCraft','getUniformLocation','BLOCK','isInteractable','94113erZRuW','voxelvale/code/sounds/effects/stonesteps/stepstone_5.wav','getRightChildIndex','fillAllDefault','parentNode','ortho():\x20near\x20and\x20far\x20are\x20equal','SWING','modelViewMatrix','Standard\x20Pickaxe','desc','constructor','ambientProduct','placed2','length','blockInstanceInfo','rgba(0,0,0,0)','initialize_enemy','Close','stepdirt','posX','mapPosX','strokeStyle','updateChunk','exist','addQuantity','spawnParticles','voxelvale/code/sounds/music/ChillLofiR.mp3','drawBack','left','abs','8JfmDkX','getVolume','refreshQuantities','frontOfB','voxelvale/code/sounds/effects/swishes/swish-7.wav','compileShader','heuristic','wall','pointer-lock-active','createImageData','getLeftChildIndex','getGrid','Webl\x20is\x20not\x20available','canvas','clear','start','outerBoundY','opacity','stepstone5','drawShadows','boundY','numVerts','round','REC','wiggle','isOccupied','posYNew','voxelvale/code/sounds/effects/placed/placed2.wav','NULL','getNonToolItems','getRecipes','removeFromInventory','rollVertical','voxelvale/code/sounds/effects/stonesteps/stepstone_1.wav','checkIfDead','stepstone2','swish','inventory','byteLength','getDropBoxSpace','onHover','sendData','textAlign','Wooden\x20Bow','stencilOp','Alpha\x200.0.1','slice','TEXTURE_WRAP_S','updateNotifications','bindBuffer','enableVertexAttribArray','texture','rollHorizontal','getPortionNum','block','middle','MAX_Y_SIZE','activeTexture','Dungeon\x20Wall','portionCeiling','BOW','#000000','false,true,false,false','Skip','Quantity:','deathMarker','outerBoundX','getQuantityBlock','quantity','none','ortho():\x20left\x20and\x20right\x20are\x20equal','string','getDungeonMap','updatePosition','portion','setIsOccupied','Required\x20Materials:','myCanvas','generateMipmap','AudioContext','splice','dungeonNumber','putImageData','setNewPosition','remaxim','Use\x20workbench.','Nature\x20Theme','linkProgram','429riJqfs','numberOfVertices','craftObject','text-canvas','getCandidates','toolType','deltaY','run','BLOCK_WALL','determineAcceleration','exitPointerLock','toDungeon','Small\x20Town','dungeonMap','newEntryIndex','145467NNHkct','addToInventory','alpha','colorBorder','pushCeiling','addRecipe','DropBox,\x20why\x20is\x20this\x20in\x20your\x20inventory?.','tob','removeElement','wheel','CLAMP_TO_EDGE','voxelvale/code/sounds/music/d.mp3','hit','cooldownMax','ALL','buttonID','particleColor','typeOfObj','remove','isCool','NEAREST','getIsOccupied','voxelvale/code/sounds/effects/stonesteps/stepstone_6.wav','horizontalVelocity','poop','initialSpeed','makePortion','CRAFT','8-Bit\x20Summer\x20Memory','createTexture','arrayBuffer','stepstone8','lineTo','1608545ftpwau','isLeft','voxelvale/code/sounds/effects/impact/stone.wav','rollY','isAlive','play','updatePath','top','getInventoryContents','path','textBaseline','</div></div></td></tr></table>','false,false,true,false','ITEM','createProgram','moveHorizontally','true,true,true,false','isParticle','verticalVelocity','getProgramParameter','elements','setBlock3D','TRIANGLES','horizontalCooldown','xBlocksSpanned','voxelvale/code/sounds/music/drm.mp3','STENCIL_TEST','keydown','setDungeonMap','angleFacing','font','removeEventListener','size','getAttribLocation','onclick','updatePortions','#FFFFFF','cursorBlock','voxelvale/code/sounds/effects/dirtsteps/stepdirt_3.wav','false,true,true,false','subtract():\x20vectors\x20are\x20not\x20the\x20same\x20length','checkSpeed','index','cross():\x20second\x20argument\x20is\x20not\x20a\x20vector\x20of\x20at\x20least\x203','leftRight','numberOfVerts','fragment-shader','vertexAttribPointer','isMovingUp','matrix','boundX','#6a6a6a','isDestroyed','2412400IMoBPe','objectsReturned'];a0_0x3aea=function(){return _0x1efa9e;};return a0_0x3aea();}function updateCursorColour(){var _0x547788=a0_0x567640;if(cursorGreen=!0x1,heldItem=player[_0x547788(0x213)],null!=heldItem){var _0x12fa11,_0x101e89;if(fixedView?(_0x12fa11=coorSys[0x0]+player[_0x547788(0x246)]-0x9,_0x101e89=coorSys[0x1]+player[_0x547788(0x433)]-4.5,selectedBlock=currentDungeon[_0x547788(0x39c)](Math[_0x547788(0x267)](_0x12fa11),Math['round'](_0x101e89),upOne)):(_0x12fa11=coorSys[0x0]+player[_0x547788(0x246)]-0x9,_0x101e89=coorSys[0x1]+player['posY']-4.5,selectedBlock=world['getBlockAt'](Math['round'](_0x12fa11),Math['round'](_0x101e89),upOne)),Math[_0x547788(0x250)](player[_0x547788(0x246)]-0.5-_0x12fa11)<=0.75&&Math[_0x547788(0x250)](player[_0x547788(0x433)]-0.5-_0x101e89)<=0.75){if(_0x547788(0x2e6)==heldItem[_0x547788(0x2c9)]&&-0x2==upOne)return void(cursorGreen=!0x1);if(_0x547788(0x231)==heldItem[_0x547788(0x2c9)]&&(-0x3==upOne||-0x4==upOne))return void(cursorGreen=!0x1);}if(null!=selectedBlock){if(_0x547788(0x231)==heldItem[_0x547788(0x2c9)])null==selectedBlock&&(cursorGreen=!0x0);else{if('ITEM'==heldItem[_0x547788(0x2c9)]&&_0x547788(0x3e8)==heldItem[_0x547788(0x395)])switch(heldItem['toolType']){case'AXE':_0x547788(0x44b)==selectedBlock[_0x547788(0x2bf)]&&(cursorGreen=!0x0);break;case'PICK_AXE':'STONE'==selectedBlock[_0x547788(0x2bf)]&&(cursorGreen=!0x0);}}}else _0x547788(0x231)==heldItem[_0x547788(0x2c9)]?heldItem['isTall']?null==world[_0x547788(0x39c)](Math[_0x547788(0x267)](_0x12fa11),Math['round'](_0x101e89),upOne-0x1)&&-0x3==upOne&&(cursorGreen=!0x0):heldItem[_0x547788(0x232)]?-0x3==upOne&&(cursorGreen=!0x0):cursorGreen=!0x0:_0x547788(0x2e6)==heldItem[_0x547788(0x2c9)]&&(cursorGreen=!0x1);}}function draw_cursor(_0x2eaab5=0x0,_0x5df0c4=0x0,_0x31b392=0x0){var _0x446697=a0_0x567640,_0x4f1187=-0x1;if(_0x4f1187=cursorGreen?0x3:0x4,set_mv(translate(_0x2eaab5,_0x5df0c4,_0x31b392)),gl[_0x446697(0x20f)](gl['TRIANGLES'],cursorBytes[_0x4f1187][0x0],0x1b0),0x3==_0x4f1187){var _0x4517f8,_0x14cf4d=0x1-blockCounter/(0x78/player[_0x446697(0x213)][_0x446697(0x385)]);_0x4517f8=mult(translate(0.5,0.5,0x0),mult(scale4(_0x14cf4d,_0x14cf4d,_0x14cf4d),translate(-0.5,-0.5,0x0))),set_mv(mult(translate(_0x2eaab5,_0x5df0c4,_0x31b392),_0x4517f8)),gl[_0x446697(0x20f)](gl[_0x446697(0x2ef)],cursorBytes[_0x4f1187][0x0]+0x1b0,0x6),_0x4517f8=mult(translate(0x0,0.5,0.5),mult(scale4(_0x14cf4d,_0x14cf4d,_0x14cf4d),translate(0x0,-0.5,-0.5))),set_mv(mult(translate(_0x2eaab5,_0x5df0c4,_0x31b392),_0x4517f8)),gl[_0x446697(0x20f)](gl[_0x446697(0x2ef)],cursorBytes[_0x4f1187][0x0]+0x1b0+0x6,0x6),_0x4517f8=mult(translate(0x1,0.5,0.5),mult(scale4(_0x14cf4d,_0x14cf4d,_0x14cf4d),translate(-0x1,-0.5,-0.5))),set_mv(mult(translate(_0x2eaab5,_0x5df0c4,_0x31b392),_0x4517f8)),gl['drawArrays'](gl[_0x446697(0x2ef)],cursorBytes[_0x4f1187][0x0]+0x1b0+0xc,0x6),_0x4517f8=mult(translate(0.5,0x0,0.5),mult(scale4(_0x14cf4d,_0x14cf4d,_0x14cf4d),translate(-0.5,0x0,-0.5))),set_mv(mult(translate(_0x2eaab5,_0x5df0c4,_0x31b392),_0x4517f8)),gl[_0x446697(0x20f)](gl['TRIANGLES'],cursorBytes[_0x4f1187][0x0]+0x1b0+0x12,0x6),draw_cursor_lines(_0x2eaab5,_0x5df0c4,_0x31b392);}else gl[_0x446697(0x20f)](gl[_0x446697(0x2ef)],cursorBytes[_0x4f1187][0x0]+0x1b0,0x18),draw_cursor_lines(_0x2eaab5,_0x5df0c4,_0x31b392);}class Particle{constructor(_0x1a4735,_0x48a264,_0x165048,_0x2bf08f){var _0x1bf1c7=a0_0x567640;this['posX']=_0x1a4735,this['posY']=_0x48a264,this[_0x1bf1c7(0x328)]=_0x165048,this['instanceMat']=translate(_0x1a4735,_0x48a264,_0x165048),this[_0x1bf1c7(0x326)]=_0x2bf08f,this['framesAlive']=0x28,this['wiggle']=0.02,this[_0x1bf1c7(0x262)]=0x1,this['opacityStep']=0x2/this[_0x1bf1c7(0x1e5)],particles['push'](this);}[a0_0x567640(0x2dd)](){var _0x16d604=a0_0x567640;return!(this[_0x16d604(0x1e5)]<=0x0);}[a0_0x567640(0x41c)](){var _0x4aa03a=a0_0x567640;this['framesAlive']--,this[_0x4aa03a(0x1e5)]<=0x14&&(this['opacity']-=this[_0x4aa03a(0x337)]),set_mv(this[_0x4aa03a(0x40d)]),gl[_0x4aa03a(0x45d)](particleColorLoc,flatten(vec4(this['colour'][0x0],this[_0x4aa03a(0x326)][0x1],this['colour'][0x2],this[_0x4aa03a(0x262)]))),gl['drawArrays'](gl['POINT'],particleStart,0x1),this[_0x4aa03a(0x246)]+=Math[_0x4aa03a(0x47c)]()*this[_0x4aa03a(0x269)]-this['wiggle']/0x2,this[_0x4aa03a(0x433)]+=Math[_0x4aa03a(0x47c)]()*this[_0x4aa03a(0x269)]-this[_0x4aa03a(0x269)]/0x2,this[_0x4aa03a(0x328)]+=-0.025,this[_0x4aa03a(0x40d)]=translate(this[_0x4aa03a(0x246)],this[_0x4aa03a(0x433)],this[_0x4aa03a(0x328)]);}}const backgroundMusicTracks=[a0_0x567640(0x439),a0_0x567640(0x24d),a0_0x567640(0x449),a0_0x567640(0x4bc),a0_0x567640(0x333),a0_0x567640(0x2c3),'voxelvale/code/sounds/music/8_bit_memory_indie_proj_2_ma.mp3',a0_0x567640(0x47d),a0_0x567640(0x2f2)],backgroundMusicTracksNames=[a0_0x567640(0x2a7),a0_0x567640(0x358),a0_0x567640(0x458),'Snow\x20City',a0_0x567640(0x314),a0_0x567640(0x2b5),a0_0x567640(0x2d4),a0_0x567640(0x313),a0_0x567640(0x44c)],backgroundMusicTracksArtists=[a0_0x567640(0x2a5),a0_0x567640(0x20c),a0_0x567640(0x2a5),'Tarush\x20Singhal',a0_0x567640(0x2a5),a0_0x567640(0x4c2),a0_0x567640(0x4c2),a0_0x567640(0x4c2),'Tarush\x20Singhal'],dungeonMusicTracks=[];let currentTrack=Math[a0_0x567640(0x47a)](Math['random']()*backgroundMusicTracks['length']),backgroundMusic=new Audio();backgroundMusic[a0_0x567640(0x42a)]=0.2;var musicPlaying,currentTrackInfo=backgroundMusicTracksNames[currentTrack]+a0_0x567640(0x34f)+backgroundMusicTracksArtists[currentTrack],playPauseCooldown=0x0;function getCurrentTrackInfo(){return currentTrackInfo;}function playMusic(){var _0x30b8e3=a0_0x567640;musicPlaying=!0x0,backgroundMusic['src']=backgroundMusicTracks[currentTrack],backgroundMusic[_0x30b8e3(0x2de)]();}function resumeMusic(){var _0x3bcb22=a0_0x567640;playPauseCooldown>0x0||(playPauseCooldown=0x14,musicPlaying=!0x0,backgroundMusic[_0x3bcb22(0x2de)]());}function pauseMusic(){var _0x4d963f=a0_0x567640;playPauseCooldown>0x0||(playPauseCooldown=0x14,musicPlaying=!0x1,backgroundMusic[_0x4d963f(0x332)]());}function skipMusic(){var _0x44739c=a0_0x567640;musicPlaying=!0x0,currentTrack=(currentTrack+0x1)%backgroundMusicTracks[_0x44739c(0x240)],backgroundMusic[_0x44739c(0x370)]=backgroundMusicTracks[currentTrack],backgroundMusic[_0x44739c(0x2de)](),currentTrackInfo=backgroundMusicTracksNames[currentTrack]+'\x20|\x20'+backgroundMusicTracksArtists[currentTrack];}backgroundMusic[a0_0x567640(0x22e)](a0_0x567640(0x3b3),()=>{var _0x32ec90=a0_0x567640;currentTrack=(currentTrack+0x1)%backgroundMusicTracks[_0x32ec90(0x240)],currentTrackInfo=backgroundMusicTracksNames[currentTrack]+'\x20|\x20'+backgroundMusicTracksArtists[currentTrack],playMusic();});var audioContext=new(window[(a0_0x567640(0x2a0))]||window['webkitAudioContext'])();const masterGain=audioContext['createGain']();masterGain['gain'][a0_0x567640(0x4d1)]=0.125,masterGain[a0_0x567640(0x485)](audioContext[a0_0x567640(0x42f)]);let soundBuffers={};async function loadSound(_0x491a08,_0x128208){var _0x2f9bd8=a0_0x567640;const _0x463bb8=await fetch(_0x128208),_0x4e2bb1=await _0x463bb8[_0x2f9bd8(0x2d6)]();soundBuffers[_0x491a08]=await audioContext[_0x2f9bd8(0x393)](_0x4e2bb1);}async function initAudio(){var _0x3297bf=a0_0x567640;await Promise[_0x3297bf(0x228)]([loadSound(_0x3297bf(0x398),'voxelvale/code/sounds/effects/dirtsteps/stepdirt_1.wav'),loadSound(_0x3297bf(0x391),_0x3297bf(0x471)),loadSound(_0x3297bf(0x315),_0x3297bf(0x2ff)),loadSound('stepdirt4',_0x3297bf(0x425)),loadSound(_0x3297bf(0x3fc),_0x3297bf(0x4d7)),loadSound(_0x3297bf(0x362),_0x3297bf(0x455)),loadSound(_0x3297bf(0x430),'voxelvale/code/sounds/effects/dirtsteps/stepdirt_7.wav'),loadSound(_0x3297bf(0x498),'voxelvale/code/sounds/effects/dirtsteps/stepdirt_8.wav'),loadSound('stepstone1',_0x3297bf(0x272)),loadSound(_0x3297bf(0x274),'voxelvale/code/sounds/effects/stonesteps/stepstone_2.wav'),loadSound(_0x3297bf(0x41a),_0x3297bf(0x48a)),loadSound(_0x3297bf(0x3a4),_0x3297bf(0x312)),loadSound(_0x3297bf(0x263),_0x3297bf(0x234)),loadSound(_0x3297bf(0x47b),_0x3297bf(0x2ce)),loadSound(_0x3297bf(0x3c9),_0x3297bf(0x21f)),loadSound(_0x3297bf(0x2d7),'voxelvale/code/sounds/effects/stonesteps/stepstone_8.wav'),loadSound('stepwood1',_0x3297bf(0x397)),loadSound(_0x3297bf(0x222),_0x3297bf(0x432)),loadSound('swish1',_0x3297bf(0x417)),loadSound(_0x3297bf(0x20a),_0x3297bf(0x486)),loadSound('swish3','voxelvale/code/sounds/effects/swishes/swish-3.wav'),loadSound(_0x3297bf(0x31c),_0x3297bf(0x4b9)),loadSound(_0x3297bf(0x3f9),'voxelvale/code/sounds/effects/swishes/swish-5.wav'),loadSound(_0x3297bf(0x468),_0x3297bf(0x338)),loadSound('swish7',_0x3297bf(0x255)),loadSound(_0x3297bf(0x46b),_0x3297bf(0x3ac)),loadSound(_0x3297bf(0x40f),'voxelvale/code/sounds/effects/bowandarrow/shoot.wav'),loadSound('metal',_0x3297bf(0x48d)),loadSound(_0x3297bf(0x4ae),_0x3297bf(0x2db)),loadSound(_0x3297bf(0x38d),_0x3297bf(0x456)),loadSound(_0x3297bf(0x36d),_0x3297bf(0x4dc)),loadSound(_0x3297bf(0x377),_0x3297bf(0x3a0)),loadSound(_0x3297bf(0x23f),_0x3297bf(0x26c)),loadSound('placed3','voxelvale/code/sounds/effects/placed/placed3.wav')]);}var dirtSoundCooldown=0x0;function soundWalkOnDirt(){var _0x499430=a0_0x567640;if(dirtSoundCooldown>0x0)return void dirtSoundCooldown--;dirtSoundCooldown=0x23;let _0x18097b=Math['floor'](0x8*Math['random']()),_0x4fbc11=null;if(null==blockOnTopOf)return;switch(blockOnTopOf[_0x499430(0x3d1)]){case _0x499430(0x36b):_0x4fbc11=soundBuffers[_0x499430(0x245)+(_0x18097b+0x1)[_0x499430(0x477)]()];break;case'STONE':_0x4fbc11=soundBuffers['stepstone'+(_0x18097b+0x1)['toString']()];break;case _0x499430(0x44b):_0x4fbc11=soundBuffers[_0x499430(0x4be)+(_0x18097b%0x2+0x1)['toString']()];}if(null==_0x4fbc11)return;const _0xe2de8e=audioContext[_0x499430(0x3a7)]();_0xe2de8e['buffer']=_0x4fbc11,_0xe2de8e[_0x499430(0x485)](masterGain),_0xe2de8e['start']();}function soundStopOnDirt(){dirtSoundCooldown=0x3;}var swishSoundCooldown=0x0;function sound_StartSwinging(){cursorGreen&&null!=selectedBlock?'WOOD'==selectedBlock['tob']?sound_WoodImpact():0x2==selectedBlock['objectNumber']?sound_DirtImpact():sound_StoneImpact():sound_SwishStart();}function sound_SwishStart(){var _0x2cc19d=a0_0x567640;let _0x3a498d=Math['floor'](0x8*Math[_0x2cc19d(0x47c)]()),_0x5873bf=soundBuffers[_0x2cc19d(0x275)+(_0x3a498d+0x1)[_0x2cc19d(0x477)]()];if(null==_0x5873bf)return;const _0x4e82b6=audioContext['createBufferSource']();_0x4e82b6['buffer']=_0x5873bf,_0x4e82b6[_0x2cc19d(0x485)](masterGain),_0x4e82b6[_0x2cc19d(0x260)]();}function sound_StoneImpact(){var _0x3a4823=a0_0x567640;let _0x40afba=soundBuffers['metal'];if(null==_0x40afba)return;const _0xbf4e96=audioContext['createBufferSource']();_0xbf4e96[_0x3a4823(0x38f)]=_0x40afba,_0xbf4e96[_0x3a4823(0x485)](masterGain),_0xbf4e96['start']();}function sound_WoodImpact(){var _0x39581d=a0_0x567640;let _0x11e466=soundBuffers['stone'];if(null==_0x11e466)return;const _0x463aae=audioContext[_0x39581d(0x3a7)]();_0x463aae[_0x39581d(0x38f)]=_0x11e466,_0x463aae['connect'](masterGain),_0x463aae[_0x39581d(0x260)]();}function sound_DirtImpact(){var _0x38e44b=a0_0x567640;let _0x5b9090=soundBuffers['dirt'];if(null==_0x5b9090)return;const _0x4701c9=audioContext['createBufferSource']();_0x4701c9[_0x38e44b(0x38f)]=_0x5b9090,_0x4701c9['connect'](masterGain),_0x4701c9[_0x38e44b(0x260)]();}function sound_StopSwinging(){}function sound_PlaceBlock(_0x531238){var _0x38000b=a0_0x567640;Math['floor'](0x8*Math['random']());let _0x191d6a=null;if(null==_0x531238)return;switch(_0x531238[_0x38000b(0x3d1)]){case _0x38000b(0x36b):case'STONE':case _0x38000b(0x44b):_0x191d6a=soundBuffers['placed1'];}if(null==_0x191d6a)return;const _0x912cd1=audioContext[_0x38000b(0x3a7)]();_0x912cd1[_0x38000b(0x38f)]=_0x191d6a,_0x912cd1[_0x38000b(0x485)](masterGain),_0x912cd1[_0x38000b(0x260)]();}function sound_ArrowShoot(){var _0x4c2269=a0_0x567640;let _0x52f182=soundBuffers[_0x4c2269(0x40f)];if(null==_0x52f182)return;const _0x2bb599=audioContext[_0x4c2269(0x3a7)]();_0x2bb599[_0x4c2269(0x38f)]=_0x52f182,_0x2bb599[_0x4c2269(0x485)](masterGain),_0x2bb599['start']();}function getWorldObj(){var _0x127df6=a0_0x567640;let _0x5ee40a=[],_0x1e0620=[],_0x271a71=[],_0xc52adf=[],_0x6f635b=[0x9,0xe],_0xce8c0b=[];for(let _0xc0587f=0x0;_0xc0587f<=world[_0x127df6(0x2f9)];_0xc0587f++)for(let _0x3369e3=0x0;_0x3369e3<=world[_0x127df6(0x2f9)];_0x3369e3++){let _0x30b924=world[_0x127df6(0x3c6)][_0xc0587f][_0x3369e3][_0x127df6(0x4c7)](),_0xaa1789=_0x30b924[0x0];for(let _0x3376a8=0x0;_0x3376a8<_0xaa1789[_0x127df6(0x240)];_0x3376a8++)-0x1!=_0xaa1789[_0x3376a8]['objectNumber']&&(_0x5ee40a[_0x127df6(0x4b3)](_0xaa1789[_0x3376a8][_0x127df6(0x246)]),_0x1e0620['push'](_0xaa1789[_0x3376a8][_0x127df6(0x433)]),_0x271a71['push'](_0xaa1789[_0x3376a8][_0x127df6(0x328)]),_0xc52adf[_0x127df6(0x4b3)](_0xaa1789[_0x3376a8][_0x127df6(0x44a)]),_0x6f635b[_0x127df6(0x3ed)](_0xaa1789[_0x3376a8][_0x127df6(0x44a)])&&_0xce8c0b['push'](_0xaa1789[_0x3376a8]));let _0x4e694f=_0x30b924[0x1];for(let _0x2304f5=0x0;_0x2304f5<_0x4e694f[_0x127df6(0x240)];_0x2304f5++)-0x1!=_0x4e694f[_0x2304f5]['objectNumber']&&(_0x5ee40a['push'](_0x4e694f[_0x2304f5][_0x127df6(0x246)]),_0x1e0620[_0x127df6(0x4b3)](_0x4e694f[_0x2304f5]['posY']),_0x271a71['push'](_0x4e694f[_0x2304f5][_0x127df6(0x328)]),_0xc52adf[_0x127df6(0x4b3)](_0x4e694f[_0x2304f5][_0x127df6(0x44a)]),_0x6f635b[_0x127df6(0x3ed)](_0x4e694f[_0x2304f5][_0x127df6(0x44a)])&&_0xce8c0b[_0x127df6(0x4b3)](_0x4e694f[_0x2304f5]));}const _0x407c47=JSON[_0x127df6(0x34a)](_0x5ee40a),_0x57efe3=JSON[_0x127df6(0x34a)](_0x1e0620),_0x102911=JSON[_0x127df6(0x34a)](_0x271a71),_0x596e9d=JSON[_0x127df6(0x34a)](_0xc52adf);let _0x33be4c=[];for(let _0x52c922=0x0;_0x52c922<_0xce8c0b['length'];_0x52c922++){let _0x23bdee=_0xce8c0b[_0x52c922][_0x127df6(0x44a)],_0x3b058c=[_0x23bdee,_0xce8c0b[_0x52c922][_0x127df6(0x246)],_0xce8c0b[_0x52c922][_0x127df6(0x433)],_0xce8c0b[_0x52c922][_0x127df6(0x328)]];switch(_0x23bdee){case 0x9:let _0xd284d5=_0xce8c0b[_0x52c922][_0x127df6(0x35b)]();for(let _0x2dfd39=0x0;_0x2dfd39<_0xd284d5['length'];_0x2dfd39++)_0x3b058c['push'](_0xd284d5[_0x2dfd39][0x0]['objectNumber']),_0x3b058c[_0x127df6(0x4b3)](_0xd284d5[_0x2dfd39][0x1]);break;case 0xe:let _0x34ea6a=_0xce8c0b[_0x52c922];_0x3b058c[_0x127df6(0x4b3)](flatten(_0x34ea6a[_0x127df6(0x3c5)])),_0x3b058c['push'](flatten(_0x34ea6a['instanceMat'])),_0x3b058c[_0x127df6(0x4b3)](_0x34ea6a[_0x127df6(0x386)]),_0x3b058c['push'](_0x34ea6a[_0x127df6(0x335)]),_0x3b058c[_0x127df6(0x4b3)](_0x34ea6a[_0x127df6(0x3bd)]),_0x3b058c['push'](_0x34ea6a['orientationAngle']),_0x3b058c[_0x127df6(0x4b3)](_0x34ea6a[_0x127df6(0x2da)]);}_0x33be4c[_0x127df6(0x4b3)](_0x3b058c);}const _0x1fa8c2=JSON[_0x127df6(0x34a)](_0x33be4c);let _0x496562=player[_0x127df6(0x2e1)](),_0xa22ed9=[];for(let _0x18288f=0x0;_0x18288f<_0x496562[0x0]['length'];_0x18288f++){let _0x1bf2d3=player[_0x127df6(0x49a)](_0x496562[0x0][_0x18288f]);for(let _0x391e9e=0x0;_0x391e9e<_0x1bf2d3;_0x391e9e++)_0xa22ed9[_0x127df6(0x4b3)](_0x496562[0x0][_0x18288f][_0x127df6(0x44a)]);}for(let _0x1e5b9d=0x0;_0x1e5b9d<_0x496562[0x1][_0x127df6(0x240)];_0x1e5b9d++){let _0x1f3d02=player['getObjectQuantity'](_0x496562[0x1][_0x1e5b9d]);for(let _0x301c26=0x0;_0x301c26<_0x1f3d02;_0x301c26++)_0xa22ed9[_0x127df6(0x4b3)](_0x496562[0x1][_0x1e5b9d][_0x127df6(0x44a)]);}for(let _0x807512=0x0;_0x807512<_0x496562[0x2]['length'];_0x807512++){let _0x221a12=player[_0x127df6(0x49a)](_0x496562[0x2][_0x807512]);for(let _0x5e8fbe=0x0;_0x5e8fbe<_0x221a12;_0x5e8fbe++)_0xa22ed9[_0x127df6(0x4b3)](_0x496562[0x2][_0x807512][_0x127df6(0x44a)]);}for(let _0x48329d=0x0;_0x48329d<_0x496562[0x3][_0x127df6(0x240)];_0x48329d++){let _0xd19ec5=player[_0x127df6(0x49a)](_0x496562[0x3][_0x48329d]);for(let _0x38dcbd=0x0;_0x38dcbd<_0xd19ec5;_0x38dcbd++)_0xa22ed9['push'](_0x496562[0x3][_0x48329d][_0x127df6(0x44a)]);}return[_0x407c47,_0x57efe3,_0x102911,_0x596e9d,_0x1fa8c2,JSON[_0x127df6(0x34a)](_0xa22ed9),[player[_0x127df6(0x246)],player[_0x127df6(0x433)]]];}function loadWorldIntoGame(_0x2a205c){var _0x3422ac=a0_0x567640;if(null==_0x2a205c)return void console['log']('Failed\x20to\x20load\x20world.');world=null,(world=new World(0x19))[_0x3422ac(0x476)]();let _0x187a9f=JSON[_0x3422ac(0x3b2)](_0x2a205c[_0x3422ac(0x3eb)]),_0x2cb69a=JSON[_0x3422ac(0x3b2)](_0x2a205c[_0x3422ac(0x405)]),_0x5c7bd1=JSON[_0x3422ac(0x3b2)](_0x2a205c['zPos']),_0x4fa254=JSON[_0x3422ac(0x3b2)](_0x2a205c[_0x3422ac(0x31f)]),_0x5474e1=JSON[_0x3422ac(0x3b2)](_0x2a205c[_0x3422ac(0x241)]);for(let _0x442d83=0x0;_0x442d83<_0x4fa254[_0x3422ac(0x240)];_0x442d83++)if(null!=_0x4fa254[_0x442d83]){let _0x2841d2=new BLOCK_OBJNUMS[_0x4fa254[_0x442d83]](_0x187a9f[_0x442d83],_0x2cb69a[_0x442d83],_0x5c7bd1[_0x442d83]);world[_0x3422ac(0x3c7)](_0x2841d2);}for(let _0xf2716d=0x0;_0xf2716d<_0x5474e1[_0x3422ac(0x240)];_0xf2716d++){let _0x1efe17=_0x5474e1[_0xf2716d];var _0x546d50=world['getBlockAt'](_0x1efe17[0x1],_0x1efe17[0x2],_0x1efe17[0x3]);switch(_0x1efe17[0x0]){case 0x9:for(let _0xacce56=0x4;_0xacce56<_0x1efe17[_0x3422ac(0x240)];_0xacce56+=0x2){let _0x30ccf6=_0x1efe17[_0xacce56],_0x2747f1=_0x1efe17[_0xacce56+0x1];for(let _0x333ea8=0x0;_0x333ea8<_0x2747f1;_0x333ea8++)_0x546d50[_0x3422ac(0x359)](getObjectBasedOnObjectNumber(_0x30ccf6));}break;case 0xe:_0x546d50[_0x3422ac(0x3c5)]=unflatten(_0x1efe17[0x4]),_0x546d50['instanceMat']=unflatten(_0x1efe17[0x5]),_0x546d50[_0x3422ac(0x386)]=_0x1efe17[0x6],_0x546d50[_0x3422ac(0x335)]=_0x1efe17[0x7],_0x546d50['relativeAngle']=_0x1efe17[0x8],_0x546d50['orientationAngle']=_0x1efe17[0x9],_0x546d50['isLeft']=_0x1efe17[0xa];}}let _0x19ec01=JSON['parse'](_0x2a205c['invObjNums']);inventory=!0x1,fQueue[_0x3422ac(0x462)](),pQueue[_0x3422ac(0x462)](),keyboardDisabled=!0x1,disableInventoryCursor=!0x1,player['resetInventory'](),toolBarList=[];for(let _0x470316=0x0;_0x470316<_0x19ec01['length'];_0x470316++)if(_0x19ec01[_0x470316]<0x40)player[_0x3422ac(0x2b9)](new BLOCK_OBJNUMS[_0x19ec01[_0x470316]](null,null,null));else{if(_0x19ec01[_0x470316]<0x80){let _0xc4abec=new ITEM_OBJNUMS[_0x19ec01[_0x470316]-0x40]();player[_0x3422ac(0x2b9)](_0xc4abec),0x40==_0x19ec01[_0x470316]&&toolBarList[_0x3422ac(0x4b3)](_0xc4abec),0x41==_0x19ec01[_0x470316]&&toolBarList[_0x3422ac(0x4b3)](_0xc4abec),0x42==_0x19ec01[_0x470316]&&toolBarList[_0x3422ac(0x4b3)](_0xc4abec);}else _0x19ec01[_0x470316]<0x100&&player[_0x3422ac(0x2b9)](new RECIPE_OBJNUMS[_0x19ec01[_0x470316]-0x80]());}let _0x151834=_0x2a205c['position'];player[_0x3422ac(0x246)]=_0x151834[0x0],player[_0x3422ac(0x433)]=_0x151834[0x1];}const BLOCK_OBJNUMS=[WoodBlock,WeirdBlock,GrassBlock,WoodLog,WoodBranch,StoneBlock,WorkBench,TestBlock,DirtBlock,DropBox,BrickBlock,StoneFloorBlock,DungeonWall,TeleBlock,Door,BorderWall],ITEM_OBJNUMS=[WoodAxe,StonePickaxe,WoodenBow],RECIPE_OBJNUMS=[WorkBenchRecipe];function getObjectBasedOnObjectNumber(_0x5e95a5){let _0x2dd8e9=null;return _0x5e95a5<0x40?_0x2dd8e9=new BLOCK_OBJNUMS[_0x5e95a5](null,null,null):_0x5e95a5<0x80?_0x2dd8e9=new ITEM_OBJNUMS[_0x5e95a5-0x40]():_0x5e95a5<0x100&&(_0x2dd8e9=new RECIPE_OBJNUMS[_0x5e95a5-0x80]()),_0x2dd8e9;}function unflatten(_0x3ad744){var _0x16785f=a0_0x567640;let _0xa48f5d=mat4();for(let _0x1d3b2e=0x0;_0x1d3b2e<0x10;_0x1d3b2e++)_0xa48f5d[_0x1d3b2e%0x4][Math[_0x16785f(0x47a)](_0x1d3b2e/0x4)]=_0x3ad744[_0x1d3b2e];return _0xa48f5d;}